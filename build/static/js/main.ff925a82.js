/*! For license information please see main.ff925a82.js.LICENSE.txt */
(()=>{"use strict";var e={4:(e,t,n)=>{var r=n(853),i=n(43),a=n(950);function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function u(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function c(e){if(l(e)!==e)throw Error(o(188))}function d(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=d(e)))return t;e=e.sibling}return null}var f=Object.assign,h=Symbol.for("react.element"),p=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),m=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),y=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),w=Symbol.for("react.consumer"),C=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),S=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),T=Symbol.for("react.lazy");Symbol.for("react.scope");var _=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var R=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var D=Symbol.iterator;function A(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var O=Symbol.for("react.client.reference");function N(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===O?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case m:return"Fragment";case y:return"Profiler";case v:return"StrictMode";case E:return"Suspense";case S:return"SuspenseList";case _:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case g:return"Portal";case C:return(e.displayName||"Context")+".Provider";case w:return(e._context.displayName||"Context")+".Consumer";case k:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case I:return null!==(t=e.displayName||null)?t:N(e.type)||"Memo";case T:t=e._payload,e=e._init;try{return N(e(t))}catch(Th){}}return null}var P=Array.isArray,x=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L={pending:!1,data:null,method:null,action:null},F=[],M=-1;function U(e){return{current:e}}function j(e){0>M||(e.current=F[M],F[M]=null,M--)}function z(e,t){M++,F[M]=e.current,e.current=t}var B=U(null),K=U(null),H=U(null),q=U(null);function G(e,t){switch(z(H,t),z(K,e),z(B,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?id(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=ad(t=id(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}j(B),z(B,e)}function W(){j(B),j(K),j(H)}function $(e){null!==e.memoizedState&&z(q,e);var t=B.current,n=ad(t,e.type);t!==n&&(z(K,e),z(B,n))}function J(e){K.current===e&&(j(B),j(K)),q.current===e&&(j(q),$d._currentValue=L)}var Y=Object.prototype.hasOwnProperty,Q=r.unstable_scheduleCallback,X=r.unstable_cancelCallback,Z=r.unstable_shouldYield,ee=r.unstable_requestPaint,te=r.unstable_now,ne=r.unstable_getCurrentPriorityLevel,re=r.unstable_ImmediatePriority,ie=r.unstable_UserBlockingPriority,ae=r.unstable_NormalPriority,oe=r.unstable_LowPriority,se=r.unstable_IdlePriority,le=r.log,ue=r.unstable_setDisableYieldValue,ce=null,de=null;function fe(e){if("function"===typeof le&&ue(e),de&&"function"===typeof de.setStrictMode)try{de.setStrictMode(ce,e)}catch(t){}}var he=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(pe(e)/ge|0)|0},pe=Math.log,ge=Math.LN2;var me=256,ve=4194304;function ye(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194048&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function be(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var i=0,a=e.suspendedLanes,o=e.pingedLanes;e=e.warmLanes;var s=134217727&r;return 0!==s?0!==(r=s&~a)?i=ye(r):0!==(o&=s)?i=ye(o):n||0!==(n=s&~e)&&(i=ye(n)):0!==(s=r&~a)?i=ye(s):0!==o?i=ye(o):n||0!==(n=r&~e)&&(i=ye(n)),0===i?0:0!==t&&t!==i&&0===(t&a)&&((a=i&-i)>=(n=t&-t)||32===a&&0!==(4194048&n))?t:i}function we(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function Ce(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ke(){var e=me;return 0===(4194048&(me<<=1))&&(me=256),e}function Ee(){var e=ve;return 0===(62914560&(ve<<=1))&&(ve=4194304),e}function Se(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ie(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Te(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-he(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|4194090&n}function _e(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-he(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function Re(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function De(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Ae(){var e=V.p;return 0!==e?e:void 0===(e=window.event)?32:cf(e.type)}var Oe=Math.random().toString(36).slice(2),Ne="__reactFiber$"+Oe,Pe="__reactProps$"+Oe,xe="__reactContainer$"+Oe,Ve="__reactEvents$"+Oe,Le="__reactListeners$"+Oe,Fe="__reactHandles$"+Oe,Me="__reactResources$"+Oe,Ue="__reactMarker$"+Oe;function je(e){delete e[Ne],delete e[Pe],delete e[Ve],delete e[Le],delete e[Fe]}function ze(e){var t=e[Ne];if(t)return t;for(var n=e.parentNode;n;){if(t=n[xe]||n[Ne]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=bd(e);null!==e;){if(n=e[Ne])return n;e=bd(e)}return t}n=(e=n).parentNode}return null}function Be(e){if(e=e[Ne]||e[xe]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function Ke(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(o(33))}function He(e){var t=e[Me];return t||(t=e[Me]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function qe(e){e[Ue]=!0}var Ge=new Set,We={};function $e(e,t){Je(e,t),Je(e+"Capture",t)}function Je(e,t){for(We[e]=t,e=0;e<t.length;e++)Ge.add(t[e])}var Ye,Qe,Xe=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ze={},et={};function tt(e,t,n){if(i=t,Y.call(et,i)||!Y.call(Ze,i)&&(Xe.test(i)?et[i]=!0:(Ze[i]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var i}function nt(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function rt(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function it(e){if(void 0===Ye)try{throw Error()}catch(Th){var t=Th.stack.trim().match(/\n( *(at )?)/);Ye=t&&t[1]||"",Qe=-1<Th.stack.indexOf("\n    at")?" (<anonymous>)":-1<Th.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+Ye+e+Qe}var at=!1;function ot(e,t){if(!e||at)return"";at=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(Th){var r=Th}Reflect.construct(e,[],n)}else{try{n.call()}catch(i){r=i}e.call(n.prototype)}}else{try{throw Error()}catch(a){r=a}(n=e())&&"function"===typeof n.catch&&n.catch(function(){})}}catch(o){if(o&&r&&"string"===typeof o.stack)return[o.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=r.DetermineComponentFrameRoot(),o=a[0],s=a[1];if(o&&s){var l=o.split("\n"),u=s.split("\n");for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<u.length&&!u[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===u.length)for(r=l.length-1,i=u.length-1;1<=r&&0<=i&&l[r]!==u[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==u[i]){if(1!==r||1!==i)do{if(r--,0>--i||l[r]!==u[i]){var c="\n"+l[r].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}}while(1<=r&&0<=i);break}}}finally{at=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?it(n):""}function st(e){switch(e.tag){case 26:case 27:case 5:return it(e.type);case 16:return it("Lazy");case 13:return it("Suspense");case 19:return it("SuspenseList");case 0:case 15:return ot(e.type,!1);case 11:return ot(e.type.render,!1);case 1:return ot(e.type,!0);case 31:return it("Activity");default:return""}}function lt(e){try{var t="";do{t+=st(e),e=e.return}while(e);return t}catch(Th){return"\nError generating stack: "+Th.message+"\n"+Th.stack}}function ut(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ct(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function dt(e){e._valueTracker||(e._valueTracker=function(e){var t=ct(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function ft(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ct(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function ht(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(Xf){return e.body}}var pt=/[\n"\\]/g;function gt(e){return e.replace(pt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function mt(e,t,n,r,i,a,o,s){e.name="",null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o?e.type=o:e.removeAttribute("type"),null!=t?"number"===o?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ut(t)):e.value!==""+ut(t)&&(e.value=""+ut(t)):"submit"!==o&&"reset"!==o||e.removeAttribute("value"),null!=t?yt(e,o,ut(t)):null!=n?yt(e,o,ut(n)):null!=r&&e.removeAttribute("value"),null==i&&null!=a&&(e.defaultChecked=!!a),null!=i&&(e.checked=i&&"function"!==typeof i&&"symbol"!==typeof i),null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s?e.name=""+ut(s):e.removeAttribute("name")}function vt(e,t,n,r,i,a,o,s){if(null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a&&(e.type=a),null!=t||null!=n){if(!("submit"!==a&&"reset"!==a||void 0!==t&&null!==t))return;n=null!=n?""+ut(n):"",t=null!=t?""+ut(t):n,s||t===e.value||(e.value=t),e.defaultValue=t}r="function"!==typeof(r=null!=r?r:i)&&"symbol"!==typeof r&&!!r,e.checked=s?e.checked:!!r,e.defaultChecked=!!r,null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o&&(e.name=o)}function yt(e,t,n){"number"===t&&ht(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function bt(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ut(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function wt(e,t,n){null==t||((t=""+ut(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ut(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function Ct(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(o(92));if(P(r)){if(1<r.length)throw Error(o(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=ut(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r)}function kt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var Et=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function St(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!==typeof n||0===n||Et.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function It(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(o(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var i in t)r=t[i],t.hasOwnProperty(i)&&n[i]!==r&&St(e,i,r)}else for(var a in t)t.hasOwnProperty(a)&&St(e,a,t[a])}function Tt(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _t=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Rt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Dt(e){return Rt.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var At=null;function Ot(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Nt=null,Pt=null;function xt(e){var t=Be(e);if(t&&(e=t.stateNode)){var n=e[Pe]||null;e:switch(e=t.stateNode,t.type){case"input":if(mt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+gt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=r[Pe]||null;if(!i)throw Error(o(90));mt(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&ft(r)}break e;case"textarea":wt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&bt(e,!!n.multiple,t,!1)}}}var Vt=!1;function Lt(e,t,n){if(Vt)return e(t,n);Vt=!0;try{return e(t)}finally{if(Vt=!1,(null!==Nt||null!==Pt)&&(zu(),Nt&&(t=Nt,e=Pt,Pt=Nt=null,xt(t),e)))for(t=0;t<e.length;t++)xt(e[t])}}function Ft(e,t){var n=e.stateNode;if(null===n)return null;var r=n[Pe]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Mt=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Ut=!1;if(Mt)try{var jt={};Object.defineProperty(jt,"passive",{get:function(){Ut=!0}}),window.addEventListener("test",jt,jt),window.removeEventListener("test",jt,jt)}catch(Xf){Ut=!1}var zt=null,Bt=null,Kt=null;function Ht(){if(Kt)return Kt;var e,t,n=Bt,r=n.length,i="value"in zt?zt.value:zt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Kt=i.slice(e,1<t?1-t:void 0)}function qt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Gt(){return!0}function Wt(){return!1}function $t(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?Gt:Wt,this.isPropagationStopped=Wt,this}return f(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Gt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Gt)},persist:function(){},isPersistent:Gt}),t}var Jt,Yt,Qt,Xt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zt=$t(Xt),en=f({},Xt,{view:0,detail:0}),tn=$t(en),nn=f({},en,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Qt&&(Qt&&"mousemove"===e.type?(Jt=e.screenX-Qt.screenX,Yt=e.screenY-Qt.screenY):Yt=Jt=0,Qt=e),Jt)},movementY:function(e){return"movementY"in e?e.movementY:Yt}}),rn=$t(nn),an=$t(f({},nn,{dataTransfer:0})),on=$t(f({},en,{relatedTarget:0})),sn=$t(f({},Xt,{animationName:0,elapsedTime:0,pseudoElement:0})),ln=$t(f({},Xt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),un=$t(f({},Xt,{data:0})),cn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=fn[e])&&!!t[e]}function pn(){return hn}var gn=$t(f({},en,{key:function(e){if(e.key){var t=cn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=qt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?dn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pn,charCode:function(e){return"keypress"===e.type?qt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?qt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),mn=$t(f({},nn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),vn=$t(f({},en,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pn})),yn=$t(f({},Xt,{propertyName:0,elapsedTime:0,pseudoElement:0})),bn=$t(f({},nn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),wn=$t(f({},Xt,{newState:0,oldState:0})),Cn=[9,13,27,32],kn=Mt&&"CompositionEvent"in window,En=null;Mt&&"documentMode"in document&&(En=document.documentMode);var Sn=Mt&&"TextEvent"in window&&!En,In=Mt&&(!kn||En&&8<En&&11>=En),Tn=String.fromCharCode(32),_n=!1;function Rn(e,t){switch(e){case"keyup":return-1!==Cn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Dn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var An=!1;var On={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!On[e.type]:"textarea"===t}function Pn(e,t,n,r){Nt?Pt?Pt.push(r):Pt=[r]:Nt=r,0<(t=Hc(t,"onChange")).length&&(n=new Zt("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var xn=null,Vn=null;function Ln(e){Lc(e,0)}function Fn(e){if(ft(Ke(e)))return e}function Mn(e,t){if("change"===e)return t}var Un=!1;if(Mt){var jn;if(Mt){var zn="oninput"in document;if(!zn){var Bn=document.createElement("div");Bn.setAttribute("oninput","return;"),zn="function"===typeof Bn.oninput}jn=zn}else jn=!1;Un=jn&&(!document.documentMode||9<document.documentMode)}function Kn(){xn&&(xn.detachEvent("onpropertychange",Hn),Vn=xn=null)}function Hn(e){if("value"===e.propertyName&&Fn(Vn)){var t=[];Pn(t,Vn,e,Ot(e)),Lt(Ln,t)}}function qn(e,t,n){"focusin"===e?(Kn(),Vn=n,(xn=t).attachEvent("onpropertychange",Hn)):"focusout"===e&&Kn()}function Gn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Fn(Vn)}function Wn(e,t){if("click"===e)return Fn(t)}function $n(e,t){if("input"===e||"change"===e)return Fn(t)}var Jn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Yn(e,t){if(Jn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Y.call(t,i)||!Jn(e[i],t[i]))return!1}return!0}function Qn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Xn(e,t){var n,r=Qn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Qn(r)}}function Zn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Zn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function er(e){for(var t=ht((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=ht((e=t.contentWindow).document)}return t}function tr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var nr=Mt&&"documentMode"in document&&11>=document.documentMode,rr=null,ir=null,ar=null,or=!1;function sr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;or||null==rr||rr!==ht(r)||("selectionStart"in(r=rr)&&tr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},ar&&Yn(ar,r)||(ar=r,0<(r=Hc(ir,"onSelect")).length&&(t=new Zt("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=rr)))}function lr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ur={animationend:lr("Animation","AnimationEnd"),animationiteration:lr("Animation","AnimationIteration"),animationstart:lr("Animation","AnimationStart"),transitionrun:lr("Transition","TransitionRun"),transitionstart:lr("Transition","TransitionStart"),transitioncancel:lr("Transition","TransitionCancel"),transitionend:lr("Transition","TransitionEnd")},cr={},dr={};function fr(e){if(cr[e])return cr[e];if(!ur[e])return e;var t,n=ur[e];for(t in n)if(n.hasOwnProperty(t)&&t in dr)return cr[e]=n[t];return e}Mt&&(dr=document.createElement("div").style,"AnimationEvent"in window||(delete ur.animationend.animation,delete ur.animationiteration.animation,delete ur.animationstart.animation),"TransitionEvent"in window||delete ur.transitionend.transition);var hr=fr("animationend"),pr=fr("animationiteration"),gr=fr("animationstart"),mr=fr("transitionrun"),vr=fr("transitionstart"),yr=fr("transitioncancel"),br=fr("transitionend"),wr=new Map,Cr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function kr(e,t){wr.set(e,t),$e(t,[e])}Cr.push("scrollEnd");var Er=new WeakMap;function Sr(e,t){if("object"===typeof e&&null!==e){var n=Er.get(e);return void 0!==n?n:(t={value:e,source:t,stack:lt(t)},Er.set(e,t),t)}return{value:e,source:t,stack:lt(t)}}var Ir=[],Tr=0,_r=0;function Rr(){for(var e=Tr,t=_r=Tr=0;t<e;){var n=Ir[t];Ir[t++]=null;var r=Ir[t];Ir[t++]=null;var i=Ir[t];Ir[t++]=null;var a=Ir[t];if(Ir[t++]=null,null!==r&&null!==i){var o=r.pending;null===o?i.next=i:(i.next=o.next,o.next=i),r.pending=i}0!==a&&Nr(n,i,a)}}function Dr(e,t,n,r){Ir[Tr++]=e,Ir[Tr++]=t,Ir[Tr++]=n,Ir[Tr++]=r,_r|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Ar(e,t,n,r){return Dr(e,t,n,r),Pr(e)}function Or(e,t){return Dr(e,null,null,t),Pr(e)}function Nr(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var i=!1,a=e.return;null!==a;)a.childLanes|=n,null!==(r=a.alternate)&&(r.childLanes|=n),22===a.tag&&(null===(e=a.stateNode)||1&e._visibility||(i=!0)),e=a,a=a.return;return 3===e.tag?(a=e.stateNode,i&&null!==t&&(i=31-he(n),null===(r=(e=a.hiddenUpdates)[i])?e[i]=[t]:r.push(t),t.lane=536870912|n),a):null}function Pr(e){if(50<Nu)throw Nu=0,Pu=null,Error(o(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var xr={};function Vr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lr(e,t,n,r){return new Vr(e,t,n,r)}function Fr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Mr(e,t){var n=e.alternate;return null===n?((n=Lr(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Ur(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function jr(e,t,n,r,i,a){var s=0;if(r=e,"function"===typeof e)Fr(e)&&(s=1);else if("string"===typeof e)s=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,B.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case _:return(e=Lr(31,n,t,i)).elementType=_,e.lanes=a,e;case m:return zr(n.children,i,a,t);case v:s=8,i|=24;break;case y:return(e=Lr(12,n,t,2|i)).elementType=y,e.lanes=a,e;case E:return(e=Lr(13,n,t,i)).elementType=E,e.lanes=a,e;case S:return(e=Lr(19,n,t,i)).elementType=S,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case b:case C:s=10;break e;case w:s=9;break e;case k:s=11;break e;case I:s=14;break e;case T:s=16,r=null;break e}s=29,n=Error(o(130,null===e?"null":typeof e,"")),r=null}return(t=Lr(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function zr(e,t,n,r){return(e=Lr(7,e,r,t)).lanes=n,e}function Br(e,t,n){return(e=Lr(6,e,null,t)).lanes=n,e}function Kr(e,t,n){return(t=Lr(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Hr=[],qr=0,Gr=null,Wr=0,$r=[],Jr=0,Yr=null,Qr=1,Xr="";function Zr(e,t){Hr[qr++]=Wr,Hr[qr++]=Gr,Gr=e,Wr=t}function ei(e,t,n){$r[Jr++]=Qr,$r[Jr++]=Xr,$r[Jr++]=Yr,Yr=e;var r=Qr;e=Xr;var i=32-he(r)-1;r&=~(1<<i),n+=1;var a=32-he(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Qr=1<<32-he(t)+i|n<<i|r,Xr=a+e}else Qr=1<<a|n<<i|r,Xr=e}function ti(e){null!==e.return&&(Zr(e,1),ei(e,1,0))}function ni(e){for(;e===Gr;)Gr=Hr[--qr],Hr[qr]=null,Wr=Hr[--qr],Hr[qr]=null;for(;e===Yr;)Yr=$r[--Jr],$r[Jr]=null,Xr=$r[--Jr],$r[Jr]=null,Qr=$r[--Jr],$r[Jr]=null}var ri=null,ii=null,ai=!1,oi=null,si=!1,li=Error(o(519));function ui(e){throw gi(Sr(Error(o(418,"")),e)),li}function ci(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Ne]=e,t[Pe]=r,n){case"dialog":Fc("cancel",t),Fc("close",t);break;case"iframe":case"object":case"embed":Fc("load",t);break;case"video":case"audio":for(n=0;n<xc.length;n++)Fc(xc[n],t);break;case"source":Fc("error",t);break;case"img":case"image":case"link":Fc("error",t),Fc("load",t);break;case"details":Fc("toggle",t);break;case"input":Fc("invalid",t),vt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),dt(t);break;case"select":Fc("invalid",t);break;case"textarea":Fc("invalid",t),Ct(t,r.value,r.defaultValue,r.children),dt(t)}"string"!==typeof(n=r.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||Yc(t.textContent,n)?(null!=r.popover&&(Fc("beforetoggle",t),Fc("toggle",t)),null!=r.onScroll&&Fc("scroll",t),null!=r.onScrollEnd&&Fc("scrollend",t),null!=r.onClick&&(t.onclick=Qc),t=!0):t=!1,t||ui(e)}function di(e){for(ri=e.return;ri;)switch(ri.tag){case 5:case 13:return void(si=!1);case 27:case 3:return void(si=!0);default:ri=ri.return}}function fi(e){if(e!==ri)return!1;if(!ai)return di(e),ai=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||od(e.type,e.memoizedProps)),t=!t),t&&ii&&ui(e),di(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){ii=vd(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}ii=null}}else 27===n?(n=ii,hd(e.type)?(e=yd,yd=null,ii=e):ii=n):ii=ri?vd(e.stateNode.nextSibling):null;return!0}function hi(){ii=ri=null,ai=!1}function pi(){var e=oi;return null!==e&&(null===bu?bu=e:bu.push.apply(bu,e),oi=null),e}function gi(e){null===oi?oi=[e]:oi.push(e)}var mi=U(null),vi=null,yi=null;function bi(e,t,n){z(mi,t._currentValue),t._currentValue=n}function wi(e){e._currentValue=mi.current,j(mi)}function Ci(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ki(e,t,n,r){var i=e.child;for(null!==i&&(i.return=e);null!==i;){var a=i.dependencies;if(null!==a){var s=i.child;a=a.firstContext;e:for(;null!==a;){var l=a;a=i;for(var u=0;u<t.length;u++)if(l.context===t[u]){a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Ci(a.return,n,e),r||(s=null);break e}a=l.next}}else if(18===i.tag){if(null===(s=i.return))throw Error(o(341));s.lanes|=n,null!==(a=s.alternate)&&(a.lanes|=n),Ci(s,n,e),s=null}else s=i.child;if(null!==s)s.return=i;else for(s=i;null!==s;){if(s===e){s=null;break}if(null!==(i=s.sibling)){i.return=s.return,s=i;break}s=s.return}i=s}}function Ei(e,t,n,r){e=null;for(var i=t,a=!1;null!==i;){if(!a)if(0!==(524288&i.flags))a=!0;else if(0!==(262144&i.flags))break;if(10===i.tag){var s=i.alternate;if(null===s)throw Error(o(387));if(null!==(s=s.memoizedProps)){var l=i.type;Jn(i.pendingProps.value,s.value)||(null!==e?e.push(l):e=[l])}}else if(i===q.current){if(null===(s=i.alternate))throw Error(o(387));s.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(null!==e?e.push($d):e=[$d])}i=i.return}null!==e&&ki(t,e,n,r),t.flags|=262144}function Si(e){for(e=e.firstContext;null!==e;){if(!Jn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ii(e){vi=e,yi=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Ti(e){return Ri(vi,e)}function _i(e,t){return null===vi&&Ii(e),Ri(e,t)}function Ri(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===yi){if(null===e)throw Error(o(308));yi=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else yi=yi.next=t;return n}var Di="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Ai=r.unstable_scheduleCallback,Oi=r.unstable_NormalPriority,Ni={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Pi(){return{controller:new Di,data:new Map,refCount:0}}function xi(e){e.refCount--,0===e.refCount&&Ai(Oi,function(){e.controller.abort()})}var Vi=null,Li=0,Fi=0,Mi=null;function Ui(){if(0===--Li&&null!==Vi){null!==Mi&&(Mi.status="fulfilled");var e=Vi;Vi=null,Fi=0,Mi=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var ji=x.S;x.S=function(e,t){"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Vi){var n=Vi=[];Li=0,Fi=Dc(),Mi={status:"pending",value:void 0,then:function(e){n.push(e)}}}Li++,t.then(Ui,Ui)}(0,t),null!==ji&&ji(e,t)};var zi=U(null);function Bi(){var e=zi.current;return null!==e?e:ru.pooledCache}function Ki(e,t){z(zi,null===t?zi.current:t.pool)}function Hi(){var e=Bi();return null===e?null:{parent:Ni._currentValue,pool:e}}var qi=Error(o(460)),Gi=Error(o(474)),Wi=Error(o(542)),$i={then:function(){}};function Ji(e){return"fulfilled"===(e=e.status)||"rejected"===e}function Yi(){}function Qi(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Yi,Yi),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw ea(e=t.reason),e;default:if("string"===typeof t.status)t.then(Yi,Yi);else{if(null!==(e=ru)&&100<e.shellSuspendCounter)throw Error(o(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw ea(e=t.reason),e}throw Xi=t,qi}}var Xi=null;function Zi(){if(null===Xi)throw Error(o(459));var e=Xi;return Xi=null,e}function ea(e){if(e===qi||e===Wi)throw Error(o(483))}var ta=!1;function na(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ra(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ia(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function aa(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&nu)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=Pr(e),Nr(e,null,n),t}return Dr(e,r,t,n),Pr(e)}function oa(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,_e(e,n)}}function sa(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var la=!1;function ua(){if(la){if(null!==Mi)throw Mi}}function ca(e,t,n,r){la=!1;var i=e.updateQueue;ta=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,u=l.next;l.next=null,null===o?a=u:o.next=u,o=l;var c=e.alternate;null!==c&&((s=(c=c.updateQueue).lastBaseUpdate)!==o&&(null===s?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(null!==a){var d=i.baseState;for(o=0,c=u=l=null,s=a;;){var h=-536870913&s.lane,p=h!==s.lane;if(p?(au&h)===h:(r&h)===h){0!==h&&h===Fi&&(la=!0),null!==c&&(c=c.next={lane:0,tag:s.tag,payload:s.payload,callback:null,next:null});e:{var g=e,m=s;h=t;var v=n;switch(m.tag){case 1:if("function"===typeof(g=m.payload)){d=g.call(v,d,h);break e}d=g;break e;case 3:g.flags=-65537&g.flags|128;case 0:if(null===(h="function"===typeof(g=m.payload)?g.call(v,d,h):g)||void 0===h)break e;d=f({},d,h);break e;case 2:ta=!0}}null!==(h=s.callback)&&(e.flags|=64,p&&(e.flags|=8192),null===(p=i.callbacks)?i.callbacks=[h]:p.push(h))}else p={lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===c?(u=c=p,l=d):c=c.next=p,o|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(p=s).next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}null===c&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,null===a&&(i.shared.lanes=0),hu|=o,e.lanes=o,e.memoizedState=d}}function da(e,t){if("function"!==typeof e)throw Error(o(191,e));e.call(t)}function fa(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)da(n[e],t)}var ha=U(null),pa=U(0);function ga(e,t){z(pa,e=du),z(ha,t),du=e|t.baseLanes}function ma(){z(pa,du),z(ha,ha.current)}function va(){du=pa.current,j(ha),j(pa)}var ya=0,ba=null,wa=null,Ca=null,ka=!1,Ea=!1,Sa=!1,Ia=0,Ta=0,_a=null,Ra=0;function Da(){throw Error(o(321))}function Aa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Jn(e[n],t[n]))return!1;return!0}function Oa(e,t,n,r,i,a){return ya=a,ba=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,x.H=null===e||null===e.memoizedState?Go:Wo,Sa=!1,a=n(r,i),Sa=!1,Ea&&(a=Pa(t,n,r,i)),Na(e),a}function Na(e){x.H=qo;var t=null!==wa&&null!==wa.next;if(ya=0,Ca=wa=ba=null,ka=!1,Ta=0,_a=null,t)throw Error(o(300));null===e||_s||null!==(e=e.dependencies)&&Si(e)&&(_s=!0)}function Pa(e,t,n,r){ba=e;var i=0;do{if(Ea&&(_a=null),Ta=0,Ea=!1,25<=i)throw Error(o(301));if(i+=1,Ca=wa=null,null!=e.updateQueue){var a=e.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,null!=a.memoCache&&(a.memoCache.index=0)}x.H=$o,a=t(n,r)}while(Ea);return a}function xa(){var e=x.H,t=e.useState()[0];return t="function"===typeof t.then?ja(t):t,e=e.useState()[0],(null!==wa?wa.memoizedState:null)!==e&&(ba.flags|=1024),t}function Va(){var e=0!==Ia;return Ia=0,e}function La(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Fa(e){if(ka){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}ka=!1}ya=0,Ca=wa=ba=null,Ea=!1,Ta=Ia=0,_a=null}function Ma(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Ca?ba.memoizedState=Ca=e:Ca=Ca.next=e,Ca}function Ua(){if(null===wa){var e=ba.alternate;e=null!==e?e.memoizedState:null}else e=wa.next;var t=null===Ca?ba.memoizedState:Ca.next;if(null!==t)Ca=t,wa=e;else{if(null===e){if(null===ba.alternate)throw Error(o(467));throw Error(o(310))}e={memoizedState:(wa=e).memoizedState,baseState:wa.baseState,baseQueue:wa.baseQueue,queue:wa.queue,next:null},null===Ca?ba.memoizedState=Ca=e:Ca=Ca.next=e}return Ca}function ja(e){var t=Ta;return Ta+=1,null===_a&&(_a=[]),e=Qi(_a,e,t),t=ba,null===(null===Ca?t.memoizedState:Ca.next)&&(t=t.alternate,x.H=null===t||null===t.memoizedState?Go:Wo),e}function za(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return ja(e);if(e.$$typeof===C)return Ti(e)}throw Error(o(438,String(e)))}function Ba(e){var t=null,n=ba.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=ba.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},ba.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=R;return t.index++,n}function Ka(e,t){return"function"===typeof t?t(e):t}function Ha(e){return qa(Ua(),wa,e)}function qa(e,t,n){var r=e.queue;if(null===r)throw Error(o(311));r.lastRenderedReducer=n;var i=e.baseQueue,a=r.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}t.baseQueue=i=a,r.pending=null}if(a=e.baseState,null===i)e.memoizedState=a;else{var l=s=null,u=null,c=t=i.next,d=!1;do{var f=-536870913&c.lane;if(f!==c.lane?(au&f)===f:(ya&f)===f){var h=c.revertLane;if(0===h)null!==u&&(u=u.next={lane:0,revertLane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),f===Fi&&(d=!0);else{if((ya&h)===h){c=c.next,h===Fi&&(d=!0);continue}f={lane:0,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},null===u?(l=u=f,s=a):u=u.next=f,ba.lanes|=h,hu|=h}f=c.action,Sa&&n(a,f),a=c.hasEagerState?c.eagerState:n(a,f)}else h={lane:f,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},null===u?(l=u=h,s=a):u=u.next=h,ba.lanes|=f,hu|=f;c=c.next}while(null!==c&&c!==t);if(null===u?s=a:u.next=l,!Jn(a,e.memoizedState)&&(_s=!0,d&&null!==(n=Mi)))throw n;e.memoizedState=a,e.baseState=s,e.baseQueue=u,r.lastRenderedState=a}return null===i&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Ga(e){var t=Ua(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);Jn(a,t.memoizedState)||(_s=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Wa(e,t,n){var r=ba,i=Ua(),a=ai;if(a){if(void 0===n)throw Error(o(407));n=n()}else n=t();var s=!Jn((wa||i).memoizedState,n);if(s&&(i.memoizedState=n,_s=!0),i=i.queue,vo(2048,8,Ya.bind(null,r,i,e),[e]),i.getSnapshot!==t||s||null!==Ca&&1&Ca.memoizedState.tag){if(r.flags|=2048,po(9,{destroy:void 0,resource:void 0},Ja.bind(null,r,i,n,t),null),null===ru)throw Error(o(349));a||0!==(124&ya)||$a(r,t,n)}return n}function $a(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ba.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},ba.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ja(e,t,n,r){t.value=n,t.getSnapshot=r,Qa(t)&&Xa(e)}function Ya(e,t,n){return n(function(){Qa(t)&&Xa(e)})}function Qa(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Jn(e,n)}catch(r){return!0}}function Xa(e){var t=Or(e,2);null!==t&&Lu(t,e,2)}function Za(e){var t=Ma();if("function"===typeof e){var n=e;if(e=n(),Sa){fe(!0);try{n()}finally{fe(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ka,lastRenderedState:e},t}function eo(e,t,n,r){return e.baseState=n,qa(e,wa,"function"===typeof r?r:Ka)}function to(e,t,n,r,i){if(Bo(e))throw Error(o(485));if(null!==(e=t.action)){var a={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){a.listeners.push(e)}};null!==x.T?n(!0):a.isTransition=!1,r(a),null===(n=t.pending)?(a.next=t.pending=a,no(t,a)):(a.next=n.next,t.pending=n.next=a)}}function no(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var a=x.T,o={};x.T=o;try{var s=n(i,r),l=x.S;null!==l&&l(o,s),ro(e,t,s)}catch(u){ao(e,t,u)}finally{x.T=a}}else try{ro(e,t,a=n(i,r))}catch(c){ao(e,t,c)}}function ro(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then(function(n){io(e,t,n)},function(n){return ao(e,t,n)}):io(e,t,n)}function io(e,t,n){t.status="fulfilled",t.value=n,oo(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,no(e,n)))}function ao(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,oo(t),t=t.next}while(t!==r)}e.action=null}function oo(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function so(e,t){return t}function lo(e,t){if(ai){var n=ru.formState;if(null!==n){e:{var r=ba;if(ai){if(ii){t:{for(var i=ii,a=si;8!==i.nodeType;){if(!a){i=null;break t}if(null===(i=vd(i.nextSibling))){i=null;break t}}i="F!"===(a=i.data)||"F"===a?i:null}if(i){ii=vd(i.nextSibling),r="F!"===i.data;break e}}ui(r)}r=!1}r&&(t=n[0])}}return(n=Ma()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:so,lastRenderedState:t},n.queue=r,n=Uo.bind(null,ba,r),r.dispatch=n,r=Za(!1),a=zo.bind(null,ba,!1,r.queue),i={state:t,dispatch:null,action:e,pending:null},(r=Ma()).queue=i,n=to.bind(null,ba,i,a,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function uo(e){return co(Ua(),wa,e)}function co(e,t,n){if(t=qa(e,t,so)[0],e=Ha(Ka)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var r=ja(t)}catch(Th){if(Th===qi)throw Wi;throw Th}else r=t;var i=(t=Ua()).queue,a=i.dispatch;return n!==t.memoizedState&&(ba.flags|=2048,po(9,{destroy:void 0,resource:void 0},fo.bind(null,i,n),null)),[r,a,e]}function fo(e,t){e.action=t}function ho(e){var t=Ua(),n=wa;if(null!==n)return co(t,n,e);Ua(),t=t.memoizedState;var r=(n=Ua()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function po(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=ba.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},ba.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function go(){return Ua().memoizedState}function mo(e,t,n,r){var i=Ma();r=void 0===r?null:r,ba.flags|=e,i.memoizedState=po(1|t,{destroy:void 0,resource:void 0},n,r)}function vo(e,t,n,r){var i=Ua();r=void 0===r?null:r;var a=i.memoizedState.inst;null!==wa&&null!==r&&Aa(r,wa.memoizedState.deps)?i.memoizedState=po(t,a,n,r):(ba.flags|=e,i.memoizedState=po(1|t,a,n,r))}function yo(e,t){mo(8390656,8,e,t)}function bo(e,t){vo(2048,8,e,t)}function wo(e,t){return vo(4,2,e,t)}function Co(e,t){return vo(4,4,e,t)}function ko(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function Eo(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,vo(4,4,ko.bind(null,t,e),n)}function So(){}function Io(e,t){var n=Ua();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&Aa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function To(e,t){var n=Ua();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&Aa(t,r[1]))return r[0];if(r=e(),Sa){fe(!0);try{e()}finally{fe(!1)}}return n.memoizedState=[r,t],r}function _o(e,t,n){return void 0===n||0!==(1073741824&ya)?e.memoizedState=t:(e.memoizedState=n,e=Vu(),ba.lanes|=e,hu|=e,n)}function Ro(e,t,n,r){return Jn(n,t)?n:null!==ha.current?(e=_o(e,n,r),Jn(e,t)||(_s=!0),e):0===(42&ya)?(_s=!0,e.memoizedState=n):(e=Vu(),ba.lanes|=e,hu|=e,t)}function Do(e,t,n,r,i){var a=V.p;V.p=0!==a&&8>a?a:8;var o=x.T,s={};x.T=s,zo(e,!1,t,n);try{var l=i(),u=x.S;if(null!==u&&u(s,l),null!==l&&"object"===typeof l&&"function"===typeof l.then)jo(e,t,function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),r}(l,r),xu());else jo(e,t,r,xu())}catch(c){jo(e,t,{then:function(){},status:"rejected",reason:c},xu())}finally{V.p=a,x.T=o}}function Ao(){}function Oo(e,t,n,r){if(5!==e.tag)throw Error(o(476));var i=No(e).queue;Do(e,i,t,L,null===n?Ao:function(){return Po(e),n(r)})}function No(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:L,baseState:L,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ka,lastRenderedState:L},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ka,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function Po(e){jo(e,No(e).next.queue,{},xu())}function xo(){return Ti($d)}function Vo(){return Ua().memoizedState}function Lo(){return Ua().memoizedState}function Fo(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=xu(),r=aa(t,e=ia(n),n);return null!==r&&(Lu(r,t,n),oa(r,t,n)),t={cache:Pi()},void(e.payload=t)}t=t.return}}function Mo(e,t,n){var r=xu();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Bo(e)?Ko(t,n):null!==(n=Ar(e,t,n,r))&&(Lu(n,e,r),Ho(n,t,r))}function Uo(e,t,n){jo(e,t,n,xu())}function jo(e,t,n,r){var i={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Bo(e))Ko(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,Jn(s,o))return Dr(e,t,i,0),null===ru&&Rr(),!1}catch(l){}if(null!==(n=Ar(e,t,i,r)))return Lu(n,e,r),Ho(n,t,r),!0}return!1}function zo(e,t,n,r){if(r={lane:2,revertLane:Dc(),action:r,hasEagerState:!1,eagerState:null,next:null},Bo(e)){if(t)throw Error(o(479))}else null!==(t=Ar(e,n,r,2))&&Lu(t,e,2)}function Bo(e){var t=e.alternate;return e===ba||null!==t&&t===ba}function Ko(e,t){Ea=ka=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ho(e,t,n){if(0!==(4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,_e(e,n)}}var qo={readContext:Ti,use:za,useCallback:Da,useContext:Da,useEffect:Da,useImperativeHandle:Da,useLayoutEffect:Da,useInsertionEffect:Da,useMemo:Da,useReducer:Da,useRef:Da,useState:Da,useDebugValue:Da,useDeferredValue:Da,useTransition:Da,useSyncExternalStore:Da,useId:Da,useHostTransitionStatus:Da,useFormState:Da,useActionState:Da,useOptimistic:Da,useMemoCache:Da,useCacheRefresh:Da},Go={readContext:Ti,use:za,useCallback:function(e,t){return Ma().memoizedState=[e,void 0===t?null:t],e},useContext:Ti,useEffect:yo,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,mo(4194308,4,ko.bind(null,t,e),n)},useLayoutEffect:function(e,t){return mo(4194308,4,e,t)},useInsertionEffect:function(e,t){mo(4,2,e,t)},useMemo:function(e,t){var n=Ma();t=void 0===t?null:t;var r=e();if(Sa){fe(!0);try{e()}finally{fe(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=Ma();if(void 0!==n){var i=n(t);if(Sa){fe(!0);try{n(t)}finally{fe(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=Mo.bind(null,ba,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Ma().memoizedState=e},useState:function(e){var t=(e=Za(e)).queue,n=Uo.bind(null,ba,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:So,useDeferredValue:function(e,t){return _o(Ma(),e,t)},useTransition:function(){var e=Za(!1);return e=Do.bind(null,ba,e.queue,!0,!1),Ma().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=ba,i=Ma();if(ai){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===ru)throw Error(o(349));0!==(124&au)||$a(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,yo(Ya.bind(null,r,a,e),[e]),r.flags|=2048,po(9,{destroy:void 0,resource:void 0},Ja.bind(null,r,a,n,t),null),n},useId:function(){var e=Ma(),t=ru.identifierPrefix;if(ai){var n=Xr;t="\xab"+t+"R"+(n=(Qr&~(1<<32-he(Qr)-1)).toString(32)+n),0<(n=Ia++)&&(t+="H"+n.toString(32)),t+="\xbb"}else t="\xab"+t+"r"+(n=Ra++).toString(32)+"\xbb";return e.memoizedState=t},useHostTransitionStatus:xo,useFormState:lo,useActionState:lo,useOptimistic:function(e){var t=Ma();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=zo.bind(null,ba,!0,n),n.dispatch=t,[e,t]},useMemoCache:Ba,useCacheRefresh:function(){return Ma().memoizedState=Fo.bind(null,ba)}},Wo={readContext:Ti,use:za,useCallback:Io,useContext:Ti,useEffect:bo,useImperativeHandle:Eo,useInsertionEffect:wo,useLayoutEffect:Co,useMemo:To,useReducer:Ha,useRef:go,useState:function(){return Ha(Ka)},useDebugValue:So,useDeferredValue:function(e,t){return Ro(Ua(),wa.memoizedState,e,t)},useTransition:function(){var e=Ha(Ka)[0],t=Ua().memoizedState;return["boolean"===typeof e?e:ja(e),t]},useSyncExternalStore:Wa,useId:Vo,useHostTransitionStatus:xo,useFormState:uo,useActionState:uo,useOptimistic:function(e,t){return eo(Ua(),0,e,t)},useMemoCache:Ba,useCacheRefresh:Lo},$o={readContext:Ti,use:za,useCallback:Io,useContext:Ti,useEffect:bo,useImperativeHandle:Eo,useInsertionEffect:wo,useLayoutEffect:Co,useMemo:To,useReducer:Ga,useRef:go,useState:function(){return Ga(Ka)},useDebugValue:So,useDeferredValue:function(e,t){var n=Ua();return null===wa?_o(n,e,t):Ro(n,wa.memoizedState,e,t)},useTransition:function(){var e=Ga(Ka)[0],t=Ua().memoizedState;return["boolean"===typeof e?e:ja(e),t]},useSyncExternalStore:Wa,useId:Vo,useHostTransitionStatus:xo,useFormState:ho,useActionState:ho,useOptimistic:function(e,t){var n=Ua();return null!==wa?eo(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Ba,useCacheRefresh:Lo},Jo=null,Yo=0;function Qo(e){var t=Yo;return Yo+=1,null===Jo&&(Jo=[]),Qi(Jo,e,t)}function Xo(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function Zo(e,t){if(t.$$typeof===h)throw Error(o(525));throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function es(e){return(0,e._init)(e._payload)}function ts(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(e,t){return(e=Mr(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Br(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){var a=n.type;return a===m?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===T&&es(a)===t.type)?(Xo(t=i(t,n.props),n),t.return=e,t):(Xo(t=jr(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Kr(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,a){return null===t||7!==t.tag?((t=zr(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Br(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case p:return Xo(n=jr(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case g:return(t=Kr(t,e.mode,n)).return=e,t;case T:return f(e,t=(0,t._init)(t._payload),n)}if(P(t)||A(t))return(t=zr(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return f(e,Qo(t),n);if(t.$$typeof===C)return f(e,_i(e,t),n);Zo(e,t)}return null}function h(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case p:return n.key===i?u(e,t,n,r):null;case g:return n.key===i?c(e,t,n,r):null;case T:return h(e,t,n=(i=n._init)(n._payload),r)}if(P(n)||A(n))return null!==i?null:d(e,t,n,r,null);if("function"===typeof n.then)return h(e,t,Qo(n),r);if(n.$$typeof===C)return h(e,t,_i(e,n),r);Zo(e,n)}return null}function v(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case p:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case g:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case T:return v(e,t,n,r=(0,r._init)(r._payload),i)}if(P(r)||A(r))return d(t,e=e.get(n)||null,r,i,null);if("function"===typeof r.then)return v(e,t,n,Qo(r),i);if(r.$$typeof===C)return v(e,t,n,_i(t,r),i);Zo(t,r)}return null}function y(l,u,c,d){if("object"===typeof c&&null!==c&&c.type===m&&null===c.key&&(c=c.props.children),"object"===typeof c&&null!==c){switch(c.$$typeof){case p:e:{for(var b=c.key;null!==u;){if(u.key===b){if((b=c.type)===m){if(7===u.tag){n(l,u.sibling),(d=i(u,c.props.children)).return=l,l=d;break e}}else if(u.elementType===b||"object"===typeof b&&null!==b&&b.$$typeof===T&&es(b)===u.type){n(l,u.sibling),Xo(d=i(u,c.props),c),d.return=l,l=d;break e}n(l,u);break}t(l,u),u=u.sibling}c.type===m?((d=zr(c.props.children,l.mode,d,c.key)).return=l,l=d):(Xo(d=jr(c.type,c.key,c.props,null,l.mode,d),c),d.return=l,l=d)}return s(l);case g:e:{for(b=c.key;null!==u;){if(u.key===b){if(4===u.tag&&u.stateNode.containerInfo===c.containerInfo&&u.stateNode.implementation===c.implementation){n(l,u.sibling),(d=i(u,c.children||[])).return=l,l=d;break e}n(l,u);break}t(l,u),u=u.sibling}(d=Kr(c,l.mode,d)).return=l,l=d}return s(l);case T:return y(l,u,c=(b=c._init)(c._payload),d)}if(P(c))return function(i,o,s,l){for(var u=null,c=null,d=o,p=o=0,g=null;null!==d&&p<s.length;p++){d.index>p?(g=d,d=null):g=d.sibling;var m=h(i,d,s[p],l);if(null===m){null===d&&(d=g);break}e&&d&&null===m.alternate&&t(i,d),o=a(m,o,p),null===c?u=m:c.sibling=m,c=m,d=g}if(p===s.length)return n(i,d),ai&&Zr(i,p),u;if(null===d){for(;p<s.length;p++)null!==(d=f(i,s[p],l))&&(o=a(d,o,p),null===c?u=d:c.sibling=d,c=d);return ai&&Zr(i,p),u}for(d=r(d);p<s.length;p++)null!==(g=v(d,i,p,s[p],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?p:g.key),o=a(g,o,p),null===c?u=g:c.sibling=g,c=g);return e&&d.forEach(function(e){return t(i,e)}),ai&&Zr(i,p),u}(l,u,c,d);if(A(c)){if("function"!==typeof(b=A(c)))throw Error(o(150));return function(i,s,l,u){if(null==l)throw Error(o(151));for(var c=null,d=null,p=s,g=s=0,m=null,y=l.next();null!==p&&!y.done;g++,y=l.next()){p.index>g?(m=p,p=null):m=p.sibling;var b=h(i,p,y.value,u);if(null===b){null===p&&(p=m);break}e&&p&&null===b.alternate&&t(i,p),s=a(b,s,g),null===d?c=b:d.sibling=b,d=b,p=m}if(y.done)return n(i,p),ai&&Zr(i,g),c;if(null===p){for(;!y.done;g++,y=l.next())null!==(y=f(i,y.value,u))&&(s=a(y,s,g),null===d?c=y:d.sibling=y,d=y);return ai&&Zr(i,g),c}for(p=r(p);!y.done;g++,y=l.next())null!==(y=v(p,i,g,y.value,u))&&(e&&null!==y.alternate&&p.delete(null===y.key?g:y.key),s=a(y,s,g),null===d?c=y:d.sibling=y,d=y);return e&&p.forEach(function(e){return t(i,e)}),ai&&Zr(i,g),c}(l,u,c=b.call(c),d)}if("function"===typeof c.then)return y(l,u,Qo(c),d);if(c.$$typeof===C)return y(l,u,_i(l,c),d);Zo(l,c)}return"string"===typeof c&&""!==c||"number"===typeof c||"bigint"===typeof c?(c=""+c,null!==u&&6===u.tag?(n(l,u.sibling),(d=i(u,c)).return=l,l=d):(n(l,u),(d=Br(c,l.mode,d)).return=l,l=d),s(l)):n(l,u)}return function(e,t,n,r){try{Yo=0;var i=y(e,t,n,r);return Jo=null,i}catch(Th){if(Th===qi||Th===Wi)throw Th;var a=Lr(29,Th,null,e.mode);return a.lanes=r,a.return=e,a}}}var ns=ts(!0),rs=ts(!1),is=U(null),as=null;function os(e){var t=e.alternate;z(cs,1&cs.current),z(is,e),null===as&&(null===t||null!==ha.current||null!==t.memoizedState)&&(as=e)}function ss(e){if(22===e.tag){if(z(cs,cs.current),z(is,e),null===as){var t=e.alternate;null!==t&&null!==t.memoizedState&&(as=e)}}else ls()}function ls(){z(cs,cs.current),z(is,is.current)}function us(e){j(is),as===e&&(as=null),j(cs)}var cs=U(0);function ds(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||md(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function fs(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:f({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var hs={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=xu(),i=ia(r);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=aa(e,i,r))&&(Lu(t,e,r),oa(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=xu(),i=ia(r);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=aa(e,i,r))&&(Lu(t,e,r),oa(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=xu(),r=ia(n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=aa(e,r,n))&&(Lu(t,e,n),oa(t,e,n))}};function ps(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!Yn(n,r)||!Yn(i,a))}function gs(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&hs.enqueueReplaceState(t,t.state,null)}function ms(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var i in n===t&&(n=f({},n)),e)void 0===n[i]&&(n[i]=e[i]);return n}var vs="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function ys(e){vs(e)}function bs(e){console.error(e)}function ws(e){vs(e)}function Cs(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function ks(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function Es(e,t,n){return(n=ia(n)).tag=3,n.payload={element:null},n.callback=function(){Cs(e,t)},n}function Ss(e){return(e=ia(e)).tag=3,e}function Is(e,t,n,r){var i=n.type.getDerivedStateFromError;if("function"===typeof i){var a=r.value;e.payload=function(){return i(a)},e.callback=function(){ks(t,n,r)}}var o=n.stateNode;null!==o&&"function"===typeof o.componentDidCatch&&(e.callback=function(){ks(t,n,r),"function"!==typeof i&&(null===Su?Su=new Set([this]):Su.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var Ts=Error(o(461)),_s=!1;function Rs(e,t,n,r){t.child=null===e?rs(t,null,n,r):ns(t,e.child,n,r)}function Ds(e,t,n,r,i){n=n.render;var a=t.ref;if("ref"in r){var o={};for(var s in r)"ref"!==s&&(o[s]=r[s])}else o=r;return Ii(t),r=Oa(e,t,n,o,a,i),s=Va(),null===e||_s?(ai&&s&&ti(t),t.flags|=1,Rs(e,t,r,i),t.child):(La(e,t,i),Js(e,t,i))}function As(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Fr(a)||void 0!==a.defaultProps||null!==n.compare?((e=jr(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Os(e,t,a,r,i))}if(a=e.child,!Ys(e,i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:Yn)(o,r)&&e.ref===t.ref)return Js(e,t,i)}return t.flags|=1,(e=Mr(a,r)).ref=t.ref,e.return=t,t.child=e}function Os(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(Yn(a,r)&&e.ref===t.ref){if(_s=!1,t.pendingProps=r=a,!Ys(e,i))return t.lanes=e.lanes,Js(e,t,i);0!==(131072&e.flags)&&(_s=!0)}}return Vs(e,t,n,r,i)}function Ns(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode){if(0!==(128&t.flags)){if(r=null!==a?a.baseLanes|n:n,null!==e){for(i=t.child=e.child,a=0;null!==i;)a=a|i.lanes|i.childLanes,i=i.sibling;t.childLanes=a&~r}else t.childLanes=0,t.child=null;return Ps(e,t,r,n)}if(0===(536870912&n))return t.lanes=t.childLanes=536870912,Ps(e,t,null!==a?a.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Ki(0,null!==a?a.cachePool:null),null!==a?ga(t,a):ma(),ss(t)}else null!==a?(Ki(0,a.cachePool),ga(t,a),ls(),t.memoizedState=null):(null!==e&&Ki(0,null),ma(),ls());return Rs(e,t,i,n),t.child}function Ps(e,t,n,r){var i=Bi();return i=null===i?null:{parent:Ni._currentValue,pool:i},t.memoizedState={baseLanes:n,cachePool:i},null!==e&&Ki(0,null),ma(),ss(t),null!==e&&Ei(e,t,r,!0),null}function xs(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(o(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Vs(e,t,n,r,i){return Ii(t),n=Oa(e,t,n,r,void 0,i),r=Va(),null===e||_s?(ai&&r&&ti(t),t.flags|=1,Rs(e,t,n,i),t.child):(La(e,t,i),Js(e,t,i))}function Ls(e,t,n,r,i,a){return Ii(t),t.updateQueue=null,n=Pa(t,r,n,i),Na(e),r=Va(),null===e||_s?(ai&&r&&ti(t),t.flags|=1,Rs(e,t,n,a),t.child):(La(e,t,a),Js(e,t,a))}function Fs(e,t,n,r,i){if(Ii(t),null===t.stateNode){var a=xr,o=n.contextType;"object"===typeof o&&null!==o&&(a=Ti(o)),a=new n(r,a),t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,a.updater=hs,t.stateNode=a,a._reactInternals=t,(a=t.stateNode).props=r,a.state=t.memoizedState,a.refs={},na(t),o=n.contextType,a.context="object"===typeof o&&null!==o?Ti(o):xr,a.state=t.memoizedState,"function"===typeof(o=n.getDerivedStateFromProps)&&(fs(t,n,o,r),a.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(o=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),o!==a.state&&hs.enqueueReplaceState(a,a.state,null),ca(t,r,a,i),ua(),a.state=t.memoizedState),"function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){a=t.stateNode;var s=t.memoizedProps,l=ms(n,s);a.props=l;var u=a.context,c=n.contextType;o=xr,"object"===typeof c&&null!==c&&(o=Ti(c));var d=n.getDerivedStateFromProps;c="function"===typeof d||"function"===typeof a.getSnapshotBeforeUpdate,s=t.pendingProps!==s,c||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s||u!==o)&&gs(t,a,r,o),ta=!1;var f=t.memoizedState;a.state=f,ca(t,r,a,i),ua(),u=t.memoizedState,s||f!==u||ta?("function"===typeof d&&(fs(t,n,d,r),u=t.memoizedState),(l=ta||ps(t,n,l,r,f,u,o))?(c||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=o,r=l):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,ra(e,t),c=ms(n,o=t.memoizedProps),a.props=c,d=t.pendingProps,f=a.context,u=n.contextType,l=xr,"object"===typeof u&&null!==u&&(l=Ti(u)),(u="function"===typeof(s=n.getDerivedStateFromProps)||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==d||f!==l)&&gs(t,a,r,l),ta=!1,f=t.memoizedState,a.state=f,ca(t,r,a,i),ua();var h=t.memoizedState;o!==d||f!==h||ta||null!==e&&null!==e.dependencies&&Si(e.dependencies)?("function"===typeof s&&(fs(t,n,s,r),h=t.memoizedState),(c=ta||ps(t,n,c,r,f,h,l)||null!==e&&null!==e.dependencies&&Si(e.dependencies))?(u||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,h,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,h,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=h),a.props=r,a.state=h,a.context=l,r=c):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return a=r,xs(e,t),r=0!==(128&t.flags),a||r?(a=t.stateNode,n=r&&"function"!==typeof n.getDerivedStateFromError?null:a.render(),t.flags|=1,null!==e&&r?(t.child=ns(t,e.child,null,i),t.child=ns(t,null,n,i)):Rs(e,t,n,i),t.memoizedState=a.state,e=t.child):e=Js(e,t,i),e}function Ms(e,t,n,r){return hi(),t.flags|=256,Rs(e,t,n,r),t.child}var Us={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function js(e){return{baseLanes:e,cachePool:Hi()}}function zs(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=mu),e}function Bs(e,t,n){var r,i=t.pendingProps,a=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&cs.current)),r&&(a=!0,t.flags&=-129),r=0!==(32&t.flags),t.flags&=-33,null===e){if(ai){if(a?os(t):ls(),ai){var l,u=ii;if(l=u){e:{for(l=u,u=si;8!==l.nodeType;){if(!u){u=null;break e}if(null===(l=vd(l.nextSibling))){u=null;break e}}u=l}null!==u?(t.memoizedState={dehydrated:u,treeContext:null!==Yr?{id:Qr,overflow:Xr}:null,retryLane:536870912,hydrationErrors:null},(l=Lr(18,null,null,0)).stateNode=u,l.return=t,t.child=l,ri=t,ii=null,l=!0):l=!1}l||ui(t)}if(null!==(u=t.memoizedState)&&null!==(u=u.dehydrated))return md(u)?t.lanes=32:t.lanes=536870912,null;us(t)}return u=i.children,i=i.fallback,a?(ls(),u=Hs({mode:"hidden",children:u},a=t.mode),i=zr(i,a,n,null),u.return=t,i.return=t,u.sibling=i,t.child=u,(a=t.child).memoizedState=js(n),a.childLanes=zs(e,r,n),t.memoizedState=Us,i):(os(t),Ks(t,u))}if(null!==(l=e.memoizedState)&&null!==(u=l.dehydrated)){if(s)256&t.flags?(os(t),t.flags&=-257,t=qs(e,t,n)):null!==t.memoizedState?(ls(),t.child=e.child,t.flags|=128,t=null):(ls(),a=i.fallback,u=t.mode,i=Hs({mode:"visible",children:i.children},u),(a=zr(a,u,n,null)).flags|=2,i.return=t,a.return=t,i.sibling=a,t.child=i,ns(t,e.child,null,n),(i=t.child).memoizedState=js(n),i.childLanes=zs(e,r,n),t.memoizedState=Us,t=a);else if(os(t),md(u)){if(r=u.nextSibling&&u.nextSibling.dataset)var c=r.dgst;r=c,(i=Error(o(419))).stack="",i.digest=r,gi({value:i,source:null,stack:null}),t=qs(e,t,n)}else if(_s||Ei(e,t,n,!1),r=0!==(n&e.childLanes),_s||r){if(null!==(r=ru)&&(0!==(i=0!==((i=0!==(42&(i=n&-n))?1:Re(i))&(r.suspendedLanes|n))?0:i)&&i!==l.retryLane))throw l.retryLane=i,Or(e,i),Lu(r,e,i),Ts;"$?"===u.data||Wu(),t=qs(e,t,n)}else"$?"===u.data?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,ii=vd(u.nextSibling),ri=t,ai=!0,oi=null,si=!1,null!==e&&($r[Jr++]=Qr,$r[Jr++]=Xr,$r[Jr++]=Yr,Qr=e.id,Xr=e.overflow,Yr=t),(t=Ks(t,i.children)).flags|=4096);return t}return a?(ls(),a=i.fallback,u=t.mode,c=(l=e.child).sibling,(i=Mr(l,{mode:"hidden",children:i.children})).subtreeFlags=65011712&l.subtreeFlags,null!==c?a=Mr(c,a):(a=zr(a,u,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,null===(u=e.child.memoizedState)?u=js(n):(null!==(l=u.cachePool)?(c=Ni._currentValue,l=l.parent!==c?{parent:c,pool:c}:l):l=Hi(),u={baseLanes:u.baseLanes|n,cachePool:l}),a.memoizedState=u,a.childLanes=zs(e,r,n),t.memoizedState=Us,i):(os(t),e=(n=e.child).sibling,(n=Mr(n,{mode:"visible",children:i.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function Ks(e,t){return(t=Hs({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Hs(e,t){return(e=Lr(22,e,null,t)).lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function qs(e,t,n){return ns(t,e.child,null,n),(e=Ks(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Gs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ci(e.return,t,n)}function Ws(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function $s(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Rs(e,t,r.children,n),0!==(2&(r=cs.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Gs(e,n,t);else if(19===e.tag)Gs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(z(cs,r),i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ds(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ws(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ds(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ws(t,!0,n,null,a);break;case"together":Ws(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Js(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),hu|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(Ei(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Mr(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Mr(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ys(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Si(e))}function Qs(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)_s=!0;else{if(!Ys(e,n)&&0===(128&t.flags))return _s=!1,function(e,t,n){switch(t.tag){case 3:G(t,t.stateNode.containerInfo),bi(0,Ni,e.memoizedState.cache),hi();break;case 27:case 5:$(t);break;case 4:G(t,t.stateNode.containerInfo);break;case 10:bi(0,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(os(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Bs(e,t,n):(os(t),null!==(e=Js(e,t,n))?e.sibling:null);os(t);break;case 19:var i=0!==(128&e.flags);if((r=0!==(n&t.childLanes))||(Ei(e,t,n,!1),r=0!==(n&t.childLanes)),i){if(r)return $s(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),z(cs,cs.current),r)break;return null;case 22:case 23:return t.lanes=0,Ns(e,t,n);case 24:bi(0,Ni,e.memoizedState.cache)}return Js(e,t,n)}(e,t,n);_s=0!==(131072&e.flags)}else _s=!1,ai&&0!==(1048576&t.flags)&&ei(t,Wr,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var r=t.elementType,i=r._init;if(r=i(r._payload),t.type=r,"function"!==typeof r){if(void 0!==r&&null!==r){if((i=r.$$typeof)===k){t.tag=11,t=Ds(null,t,r,e,n);break e}if(i===I){t.tag=14,t=As(null,t,r,e,n);break e}}throw t=N(r)||r,Error(o(306,t,""))}Fr(r)?(e=ms(r,e),t.tag=1,t=Fs(null,t,r,e,n)):(t.tag=0,t=Vs(null,t,r,e,n))}return t;case 0:return Vs(e,t,t.type,t.pendingProps,n);case 1:return Fs(e,t,r=t.type,i=ms(r,t.pendingProps),n);case 3:e:{if(G(t,t.stateNode.containerInfo),null===e)throw Error(o(387));r=t.pendingProps;var a=t.memoizedState;i=a.element,ra(e,t),ca(t,r,null,n);var s=t.memoizedState;if(r=s.cache,bi(0,Ni,r),r!==a.cache&&ki(t,[Ni],n,!0),ua(),r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Ms(e,t,r,n);break e}if(r!==i){gi(i=Sr(Error(o(424)),t)),t=Ms(e,t,r,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(ii=vd(e.firstChild),ri=t,ai=!0,oi=null,si=!0,n=rs(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(hi(),r===i){t=Js(e,t,n);break e}Rs(e,t,r,n)}t=t.child}return t;case 26:return xs(e,t),null===e?(n=Rd(t.type,null,t.pendingProps,null))?t.memoizedState=n:ai||(n=t.type,e=t.pendingProps,(r=rd(H.current).createElement(n))[Ne]=t,r[Pe]=e,ed(r,n,e),qe(r),t.stateNode=r):t.memoizedState=Rd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return $(t),null===e&&ai&&(r=t.stateNode=wd(t.type,t.pendingProps,H.current),ri=t,si=!0,i=ii,hd(t.type)?(yd=i,ii=vd(r.firstChild)):ii=i),Rs(e,t,t.pendingProps.children,n),xs(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&ai&&((i=r=ii)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[Ue])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(a=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(a!==i.rel||e.getAttribute("href")!==(null==i.href||""===i.href?null:i.href)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin)||e.getAttribute("title")!==(null==i.title?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((a=e.getAttribute("src"))!==(null==i.src?null:i.src)||e.getAttribute("type")!==(null==i.type?null:i.type)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin))&&a&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var a=null==i.name?null:""+i.name;if("hidden"===i.type&&e.getAttribute("name")===a)return e}if(null===(e=vd(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,si))?(t.stateNode=r,ri=t,ii=vd(r.firstChild),si=!1,i=!0):i=!1),i||ui(t)),$(t),i=t.type,a=t.pendingProps,s=null!==e?e.memoizedProps:null,r=a.children,od(i,a)?r=null:null!==s&&od(i,s)&&(t.flags|=32),null!==t.memoizedState&&(i=Oa(e,t,xa,null,null,n),$d._currentValue=i),xs(e,t),Rs(e,t,r,n),t.child;case 6:return null===e&&ai&&((e=n=ii)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=vd(e.nextSibling)))return null}return e}(n,t.pendingProps,si))?(t.stateNode=n,ri=t,ii=null,e=!0):e=!1),e||ui(t)),null;case 13:return Bs(e,t,n);case 4:return G(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ns(t,null,r,n):Rs(e,t,r,n),t.child;case 11:return Ds(e,t,t.type,t.pendingProps,n);case 7:return Rs(e,t,t.pendingProps,n),t.child;case 8:case 12:return Rs(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,bi(0,t.type,r.value),Rs(e,t,r.children,n),t.child;case 9:return i=t.type._context,r=t.pendingProps.children,Ii(t),r=r(i=Ti(i)),t.flags|=1,Rs(e,t,r,n),t.child;case 14:return As(e,t,t.type,t.pendingProps,n);case 15:return Os(e,t,t.type,t.pendingProps,n);case 19:return $s(e,t,n);case 31:return r=t.pendingProps,n=t.mode,r={mode:r.mode,children:r.children},null===e?((n=Hs(r,n)).ref=t.ref,t.child=n,n.return=t,t=n):((n=Mr(e.child,r)).ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return Ns(e,t,n);case 24:return Ii(t),r=Ti(Ni),null===e?(null===(i=Bi())&&(i=ru,a=Pi(),i.pooledCache=a,a.refCount++,null!==a&&(i.pooledCacheLanes|=n),i=a),t.memoizedState={parent:r,cache:i},na(t),bi(0,Ni,i)):(0!==(e.lanes&n)&&(ra(e,t),ca(t,null,null,n),ua()),i=e.memoizedState,a=t.memoizedState,i.parent!==r?(i={parent:r,cache:r},t.memoizedState=i,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=i),bi(0,Ni,r)):(r=a.cache,bi(0,Ni,r),r!==i.cache&&ki(t,[Ni],n,!0))),Rs(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(o(156,t.tag))}function Xs(e){e.flags|=4}function Zs(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!zd(t)){if(null!==(t=is.current)&&((4194048&au)===au?null!==as:(62914560&au)!==au&&0===(536870912&au)||t!==as))throw Xi=$i,Gi;e.flags|=8192}}function el(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Ee():536870912,e.lanes|=t,vu|=t)}function tl(e,t){if(!ai)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function nl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=65011712&i.subtreeFlags,r|=65011712&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function rl(e,t,n){var r=t.pendingProps;switch(ni(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return nl(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),wi(Ni),W(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(fi(t)?Xs(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,pi())),nl(t),null;case 26:return n=t.memoizedState,null===e?(Xs(t),null!==n?(nl(t),Zs(t,n)):(nl(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Xs(t),nl(t),Zs(t,n)):(nl(t),t.flags&=-16777217):(e.memoizedProps!==r&&Xs(t),nl(t),t.flags&=-16777217),null;case 27:J(t),n=H.current;var i=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Xs(t);else{if(!r){if(null===t.stateNode)throw Error(o(166));return nl(t),null}e=B.current,fi(t)?ci(t):(e=wd(i,r,n),t.stateNode=e,Xs(t))}return nl(t),null;case 5:if(J(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Xs(t);else{if(!r){if(null===t.stateNode)throw Error(o(166));return nl(t),null}if(e=B.current,fi(t))ci(t);else{switch(i=rd(H.current),e){case 1:e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=i.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"===typeof r.is?i.createElement("select",{is:r.is}):i.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e="string"===typeof r.is?i.createElement(n,{is:r.is}):i.createElement(n)}}e[Ne]=t,e[Pe]=r;e:for(i=t.child;null!==i;){if(5===i.tag||6===i.tag)e.appendChild(i.stateNode);else if(4!==i.tag&&27!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;null===i.sibling;){if(null===i.return||i.return===t)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}t.stateNode=e;e:switch(ed(e,n,r),n){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Xs(t)}}return nl(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&Xs(t);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(e=H.current,fi(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(i=ri))switch(i.tag){case 27:case 5:r=i.memoizedProps}e[Ne]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||Yc(e.nodeValue,n)))||ui(t)}else(e=rd(e).createTextNode(r))[Ne]=t,t.stateNode=e}return nl(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(i=fi(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(o(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(o(317));i[Ne]=t}else hi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;nl(t),i=!1}else i=pi(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return 256&t.flags?(us(t),t):(us(t),null)}if(us(t),0!==(128&t.flags))return t.lanes=n,t;if(n=null!==r,e=null!==e&&null!==e.memoizedState,n){i=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(i=r.alternate.memoizedState.cachePool.pool);var a=null;null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(a=r.memoizedState.cachePool.pool),a!==i&&(r.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),el(t,t.updateQueue),nl(t),null;case 4:return W(),null===e&&jc(t.stateNode.containerInfo),nl(t),null;case 10:return wi(t.type),nl(t),null;case 19:if(j(cs),null===(i=t.memoizedState))return nl(t),null;if(r=0!==(128&t.flags),null===(a=i.rendering))if(r)tl(i,!1);else{if(0!==fu||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(a=ds(e))){for(t.flags|=128,tl(i,!1),e=a.updateQueue,t.updateQueue=e,el(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Ur(n,e),n=n.sibling;return z(cs,1&cs.current|2),t.child}e=e.sibling}null!==i.tail&&te()>ku&&(t.flags|=128,r=!0,tl(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ds(a))){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,el(t,e),tl(i,!0),null===i.tail&&"hidden"===i.tailMode&&!a.alternate&&!ai)return nl(t),null}else 2*te()-i.renderingStartTime>ku&&536870912!==n&&(t.flags|=128,r=!0,tl(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(null!==(e=i.last)?e.sibling=a:t.child=a,i.last=a)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=te(),t.sibling=null,e=cs.current,z(cs,r?1&e|2:1&e),t):(nl(t),null);case 22:case 23:return us(t),va(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?0!==(536870912&n)&&0===(128&t.flags)&&(nl(t),6&t.subtreeFlags&&(t.flags|=8192)):nl(t),null!==(n=t.updateQueue)&&el(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&j(zi),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),wi(Ni),nl(t),null;case 25:case 30:return null}throw Error(o(156,t.tag))}function il(e,t){switch(ni(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return wi(Ni),W(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return J(t),null;case 13:if(us(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));hi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return j(cs),null;case 4:return W(),null;case 10:return wi(t.type),null;case 22:case 23:return us(t),va(),null!==e&&j(zi),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return wi(Ni),null;default:return null}}function al(e,t){switch(ni(t),t.tag){case 3:wi(Ni),W();break;case 26:case 27:case 5:J(t);break;case 4:W();break;case 13:us(t);break;case 19:j(cs);break;case 10:wi(t.type);break;case 22:case 23:us(t),va(),null!==e&&j(zi);break;case 24:wi(Ni)}}function ol(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var a=n.create,o=n.inst;r=a(),o.destroy=r}n=n.next}while(n!==i)}}catch(s){cc(t,t.return,s)}}function sl(e,t,n){try{var r=t.updateQueue,i=null!==r?r.lastEffect:null;if(null!==i){var a=i.next;r=a;do{if((r.tag&e)===e){var o=r.inst,s=o.destroy;if(void 0!==s){o.destroy=void 0,i=t;var l=n,u=s;try{u()}catch(c){cc(i,l,c)}}}r=r.next}while(r!==a)}}catch(c){cc(t,t.return,c)}}function ll(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{fa(t,n)}catch(r){cc(e,e.return,r)}}}function ul(e,t,n){n.props=ms(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){cc(e,t,r)}}function cl(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"===typeof n?e.refCleanup=n(r):n.current=r}}catch(i){cc(e,t,i)}}function dl(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"===typeof r)try{r()}catch(i){cc(e,t,i)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(a){cc(e,t,a)}else n.current=null}function fl(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){cc(e,e.return,i)}}function hl(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,a=null,s=null,l=null,u=null,c=null,d=null;for(p in n){var f=n[p];if(n.hasOwnProperty(p)&&null!=f)switch(p){case"checked":case"value":break;case"defaultValue":u=f;default:r.hasOwnProperty(p)||Xc(e,t,p,null,r,f)}}for(var h in r){var p=r[h];if(f=n[h],r.hasOwnProperty(h)&&(null!=p||null!=f))switch(h){case"type":a=p;break;case"name":i=p;break;case"checked":c=p;break;case"defaultChecked":d=p;break;case"value":s=p;break;case"defaultValue":l=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(o(137,t));break;default:p!==f&&Xc(e,t,h,p,r,f)}}return void mt(e,s,l,u,c,d,a,i);case"select":for(a in p=s=l=h=null,n)if(u=n[a],n.hasOwnProperty(a)&&null!=u)switch(a){case"value":break;case"multiple":p=u;default:r.hasOwnProperty(a)||Xc(e,t,a,null,r,u)}for(i in r)if(a=r[i],u=n[i],r.hasOwnProperty(i)&&(null!=a||null!=u))switch(i){case"value":h=a;break;case"defaultValue":l=a;break;case"multiple":s=a;default:a!==u&&Xc(e,t,i,a,r,u)}return t=l,n=s,r=p,void(null!=h?bt(e,!!n,h,!1):!!r!==!!n&&(null!=t?bt(e,!!n,t,!0):bt(e,!!n,n?[]:"",!1)));case"textarea":for(l in p=h=null,n)if(i=n[l],n.hasOwnProperty(l)&&null!=i&&!r.hasOwnProperty(l))switch(l){case"value":case"children":break;default:Xc(e,t,l,null,r,i)}for(s in r)if(i=r[s],a=n[s],r.hasOwnProperty(s)&&(null!=i||null!=a))switch(s){case"value":h=i;break;case"defaultValue":p=i;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=i)throw Error(o(91));break;default:i!==a&&Xc(e,t,s,i,r,a)}return void wt(e,h,p);case"option":for(var g in n)if(h=n[g],n.hasOwnProperty(g)&&null!=h&&!r.hasOwnProperty(g))if("selected"===g)e.selected=!1;else Xc(e,t,g,null,r,h);for(u in r)if(h=r[u],p=n[u],r.hasOwnProperty(u)&&h!==p&&(null!=h||null!=p))if("selected"===u)e.selected=h&&"function"!==typeof h&&"symbol"!==typeof h;else Xc(e,t,u,h,r,p);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var m in n)h=n[m],n.hasOwnProperty(m)&&null!=h&&!r.hasOwnProperty(m)&&Xc(e,t,m,null,r,h);for(c in r)if(h=r[c],p=n[c],r.hasOwnProperty(c)&&h!==p&&(null!=h||null!=p))switch(c){case"children":case"dangerouslySetInnerHTML":if(null!=h)throw Error(o(137,t));break;default:Xc(e,t,c,h,r,p)}return;default:if(Tt(t)){for(var v in n)h=n[v],n.hasOwnProperty(v)&&void 0!==h&&!r.hasOwnProperty(v)&&Zc(e,t,v,void 0,r,h);for(d in r)h=r[d],p=n[d],!r.hasOwnProperty(d)||h===p||void 0===h&&void 0===p||Zc(e,t,d,h,r,p);return}}for(var y in n)h=n[y],n.hasOwnProperty(y)&&null!=h&&!r.hasOwnProperty(y)&&Xc(e,t,y,null,r,h);for(f in r)h=r[f],p=n[f],!r.hasOwnProperty(f)||h===p||null==h&&null==p||Xc(e,t,f,h,r,p)}(r,e.type,n,t),r[Pe]=t}catch(i){cc(e,e.return,i)}}function pl(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&hd(e.type)||4===e.tag}function gl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||pl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&hd(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ml(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Qc));else if(4!==r&&(27===r&&hd(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(ml(e,t,n),e=e.sibling;null!==e;)ml(e,t,n),e=e.sibling}function vl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&hd(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(vl(e,t,n),e=e.sibling;null!==e;)vl(e,t,n),e=e.sibling}function yl(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);ed(t,r,n),t[Ne]=e,t[Pe]=n}catch(a){cc(e,e.return,a)}}var bl=!1,wl=!1,Cl=!1,kl="function"===typeof WeakSet?WeakSet:Set,El=null;function Sl(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Fl(e,n),4&r&&ol(5,n);break;case 1:if(Fl(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(o){cc(n,n.return,o)}else{var i=ms(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(s){cc(n,n.return,s)}}64&r&&ll(n),512&r&&cl(n,n.return);break;case 3:if(Fl(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{fa(e,t)}catch(o){cc(n,n.return,o)}}break;case 27:null===t&&4&r&&yl(n);case 26:case 5:Fl(e,n),null===t&&4&r&&fl(n),512&r&&cl(n,n.return);break;case 12:Fl(e,n);break;case 13:Fl(e,n),4&r&&Al(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$?"!==e.data||"complete"===n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=pc.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||bl)){t=null!==t&&null!==t.memoizedState||wl,i=bl;var a=wl;bl=r,(wl=t)&&!a?Ul(e,n,0!==(8772&n.subtreeFlags)):Fl(e,n),bl=i,wl=a}break;case 30:break;default:Fl(e,n)}}function Il(e){var t=e.alternate;null!==t&&(e.alternate=null,Il(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&je(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Tl=null,_l=!1;function Rl(e,t,n){for(n=n.child;null!==n;)Dl(e,t,n),n=n.sibling}function Dl(e,t,n){if(de&&"function"===typeof de.onCommitFiberUnmount)try{de.onCommitFiberUnmount(ce,n)}catch(a){}switch(n.tag){case 26:wl||dl(n,t),Rl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:wl||dl(n,t);var r=Tl,i=_l;hd(n.type)&&(Tl=n.stateNode,_l=!1),Rl(e,t,n),Cd(n.stateNode),Tl=r,_l=i;break;case 5:wl||dl(n,t);case 6:if(r=Tl,i=_l,Tl=null,Rl(e,t,n),_l=i,null!==(Tl=r))if(_l)try{(9===Tl.nodeType?Tl.body:"HTML"===Tl.nodeName?Tl.ownerDocument.body:Tl).removeChild(n.stateNode)}catch(o){cc(n,t,o)}else try{Tl.removeChild(n.stateNode)}catch(o){cc(n,t,o)}break;case 18:null!==Tl&&(_l?(pd(9===(e=Tl).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Rf(e)):pd(Tl,n.stateNode));break;case 4:r=Tl,i=_l,Tl=n.stateNode.containerInfo,_l=!0,Rl(e,t,n),Tl=r,_l=i;break;case 0:case 11:case 14:case 15:wl||sl(2,n,t),wl||sl(4,n,t),Rl(e,t,n);break;case 1:wl||(dl(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount&&ul(n,t,r)),Rl(e,t,n);break;case 21:Rl(e,t,n);break;case 22:wl=(r=wl)||null!==n.memoizedState,Rl(e,t,n),wl=r;break;default:Rl(e,t,n)}}function Al(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Rf(e)}catch(n){cc(t,t.return,n)}}function Ol(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new kl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new kl),t;default:throw Error(o(435,e.tag))}}(e);t.forEach(function(t){var r=gc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}function Nl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r],a=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 27:if(hd(l.type)){Tl=l.stateNode,_l=!1;break e}break;case 5:Tl=l.stateNode,_l=!1;break e;case 3:case 4:Tl=l.stateNode.containerInfo,_l=!0;break e}l=l.return}if(null===Tl)throw Error(o(160));Dl(a,s,i),Tl=null,_l=!1,null!==(a=i.alternate)&&(a.return=null),i.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)xl(t,e),t=t.sibling}var Pl=null;function xl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Nl(t,e),Vl(e),4&r&&(sl(3,e,e.return),ol(3,e),sl(5,e,e.return));break;case 1:Nl(t,e),Vl(e),512&r&&(wl||null===n||dl(n,n.return)),64&r&&bl&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var i=Pl;if(Nl(t,e),Vl(e),512&r&&(wl||null===n||dl(n,n.return)),4&r){var a=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":(!(a=i.getElementsByTagName("title")[0])||a[Ue]||a[Ne]||"http://www.w3.org/2000/svg"===a.namespaceURI||a.hasAttribute("itemprop"))&&(a=i.createElement(r),i.head.insertBefore(a,i.querySelector("head > title"))),ed(a,r,n),a[Ne]=e,qe(a),r=a;break e;case"link":var s=Ud("link","href",i).get(r+(n.href||""));if(s)for(var l=0;l<s.length;l++)if((a=s[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&a.getAttribute("rel")===(null==n.rel?null:n.rel)&&a.getAttribute("title")===(null==n.title?null:n.title)&&a.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){s.splice(l,1);break t}ed(a=i.createElement(r),r,n),i.head.appendChild(a);break;case"meta":if(s=Ud("meta","content",i).get(r+(n.content||"")))for(l=0;l<s.length;l++)if((a=s[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&a.getAttribute("name")===(null==n.name?null:n.name)&&a.getAttribute("property")===(null==n.property?null:n.property)&&a.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&a.getAttribute("charset")===(null==n.charSet?null:n.charSet)){s.splice(l,1);break t}ed(a=i.createElement(r),r,n),i.head.appendChild(a);break;default:throw Error(o(468,r))}a[Ne]=e,qe(a),r=a}e.stateNode=r}else jd(i,e.type,e.stateNode);else e.stateNode=xd(i,r,e.memoizedProps);else a!==r?(null===a?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):a.count--,null===r?jd(i,e.type,e.stateNode):xd(i,r,e.memoizedProps)):null===r&&null!==e.stateNode&&hl(e,e.memoizedProps,n.memoizedProps)}break;case 27:Nl(t,e),Vl(e),512&r&&(wl||null===n||dl(n,n.return)),null!==n&&4&r&&hl(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Nl(t,e),Vl(e),512&r&&(wl||null===n||dl(n,n.return)),32&e.flags){i=e.stateNode;try{kt(i,"")}catch(p){cc(e,e.return,p)}}4&r&&null!=e.stateNode&&hl(e,i=e.memoizedProps,null!==n?n.memoizedProps:i),1024&r&&(Cl=!0);break;case 6:if(Nl(t,e),Vl(e),4&r){if(null===e.stateNode)throw Error(o(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(p){cc(e,e.return,p)}}break;case 3:if(Md=null,i=Pl,Pl=Sd(t.containerInfo),Nl(t,e),Pl=i,Vl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Rf(t.containerInfo)}catch(p){cc(e,e.return,p)}Cl&&(Cl=!1,Ll(e));break;case 4:r=Pl,Pl=Sd(e.stateNode.containerInfo),Nl(t,e),Vl(e),Pl=r;break;case 12:default:Nl(t,e),Vl(e);break;case 13:Nl(t,e),Vl(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(Cu=te()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Ol(e,r)));break;case 22:i=null!==e.memoizedState;var u=null!==n&&null!==n.memoizedState,c=bl,d=wl;if(bl=c||i,wl=d||u,Nl(t,e),wl=d,bl=c,Vl(e),8192&r)e:for(t=e.stateNode,t._visibility=i?-2&t._visibility:1|t._visibility,i&&(null===n||u||bl||wl||Ml(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){u=n=t;try{if(a=u.stateNode,i)"function"===typeof(s=a.style).setProperty?s.setProperty("display","none","important"):s.display="none";else{l=u.stateNode;var f=u.memoizedProps.style,h=void 0!==f&&null!==f&&f.hasOwnProperty("display")?f.display:null;l.style.display=null==h||"boolean"===typeof h?"":(""+h).trim()}}catch(p){cc(u,u.return,p)}}}else if(6===t.tag){if(null===n){u=t;try{u.stateNode.nodeValue=i?"":u.memoizedProps}catch(p){cc(u,u.return,p)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,Ol(e,n))));break;case 19:Nl(t,e),Vl(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Ol(e,r)));case 30:case 21:}}function Vl(e){var t=e.flags;if(2&t){try{for(var n,r=e.return;null!==r;){if(pl(r)){n=r;break}r=r.return}if(null==n)throw Error(o(160));switch(n.tag){case 27:var i=n.stateNode;vl(e,gl(e),i);break;case 5:var a=n.stateNode;32&n.flags&&(kt(a,""),n.flags&=-33),vl(e,gl(e),a);break;case 3:case 4:var s=n.stateNode.containerInfo;ml(e,gl(e),s);break;default:throw Error(o(161))}}catch(l){cc(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Ll(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Ll(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Fl(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Sl(e,t.alternate,t),t=t.sibling}function Ml(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:sl(4,t,t.return),Ml(t);break;case 1:dl(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&ul(t,t.return,n),Ml(t);break;case 27:Cd(t.stateNode);case 26:case 5:dl(t,t.return),Ml(t);break;case 22:null===t.memoizedState&&Ml(t);break;default:Ml(t)}e=e.sibling}}function Ul(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,i=e,a=t,o=a.flags;switch(a.tag){case 0:case 11:case 15:Ul(i,a,n),ol(4,a);break;case 1:if(Ul(i,a,n),"function"===typeof(i=(r=a).stateNode).componentDidMount)try{i.componentDidMount()}catch(u){cc(r,r.return,u)}if(null!==(i=(r=a).updateQueue)){var s=r.stateNode;try{var l=i.shared.hiddenCallbacks;if(null!==l)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)da(l[i],s)}catch(u){cc(r,r.return,u)}}n&&64&o&&ll(a),cl(a,a.return);break;case 27:yl(a);case 26:case 5:Ul(i,a,n),n&&null===r&&4&o&&fl(a),cl(a,a.return);break;case 12:Ul(i,a,n);break;case 13:Ul(i,a,n),n&&4&o&&Al(i,a);break;case 22:null===a.memoizedState&&Ul(i,a,n),cl(a,a.return);break;case 30:break;default:Ul(i,a,n)}t=t.sibling}}function jl(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&xi(n))}function zl(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&xi(e))}function Bl(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)Kl(e,t,n,r),t=t.sibling}function Kl(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:Bl(e,t,n,r),2048&i&&ol(9,t);break;case 1:case 13:default:Bl(e,t,n,r);break;case 3:Bl(e,t,n,r),2048&i&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&xi(e)));break;case 12:if(2048&i){Bl(e,t,n,r),e=t.stateNode;try{var a=t.memoizedProps,o=a.id,s=a.onPostCommit;"function"===typeof s&&s(o,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){cc(t,t.return,l)}}else Bl(e,t,n,r);break;case 23:break;case 22:a=t.stateNode,o=t.alternate,null!==t.memoizedState?2&a._visibility?Bl(e,t,n,r):ql(e,t):2&a._visibility?Bl(e,t,n,r):(a._visibility|=2,Hl(e,t,n,r,0!==(10256&t.subtreeFlags))),2048&i&&jl(o,t);break;case 24:Bl(e,t,n,r),2048&i&&zl(t.alternate,t)}}function Hl(e,t,n,r,i){for(i=i&&0!==(10256&t.subtreeFlags),t=t.child;null!==t;){var a=e,o=t,s=n,l=r,u=o.flags;switch(o.tag){case 0:case 11:case 15:Hl(a,o,s,l,i),ol(8,o);break;case 23:break;case 22:var c=o.stateNode;null!==o.memoizedState?2&c._visibility?Hl(a,o,s,l,i):ql(a,o):(c._visibility|=2,Hl(a,o,s,l,i)),i&&2048&u&&jl(o.alternate,o);break;case 24:Hl(a,o,s,l,i),i&&2048&u&&zl(o.alternate,o);break;default:Hl(a,o,s,l,i)}t=t.sibling}}function ql(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:ql(n,r),2048&i&&jl(r.alternate,r);break;case 24:ql(n,r),2048&i&&zl(r.alternate,r);break;default:ql(n,r)}t=t.sibling}}var Gl=8192;function Wl(e){if(e.subtreeFlags&Gl)for(e=e.child;null!==e;)$l(e),e=e.sibling}function $l(e){switch(e.tag){case 26:Wl(e),e.flags&Gl&&null!==e.memoizedState&&function(e,t,n){if(null===Bd)throw Error(o(475));var r=Bd;if("stylesheet"===t.type&&("string"!==typeof n.media||!1!==matchMedia(n.media).matches)&&0===(4&t.state.loading)){if(null===t.instance){var i=Dd(n.href),a=e.querySelector(Ad(i));if(a)return null!==(e=a._p)&&"object"===typeof e&&"function"===typeof e.then&&(r.count++,r=Hd.bind(r),e.then(r,r)),t.state.loading|=4,t.instance=a,void qe(a);a=e.ownerDocument||e,n=Od(n),(i=kd.get(i))&&Ld(n,i),qe(a=a.createElement("link"));var s=a;s._p=new Promise(function(e,t){s.onload=e,s.onerror=t}),ed(a,"link",n),t.instance=a}null===r.stylesheets&&(r.stylesheets=new Map),r.stylesheets.set(t,e),(e=t.state.preload)&&0===(3&t.state.loading)&&(r.count++,t=Hd.bind(r),e.addEventListener("load",t),e.addEventListener("error",t))}}(Pl,e.memoizedState,e.memoizedProps);break;case 5:default:Wl(e);break;case 3:case 4:var t=Pl;Pl=Sd(e.stateNode.containerInfo),Wl(e),Pl=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=Gl,Gl=16777216,Wl(e),Gl=t):Wl(e))}}function Jl(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function Yl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];El=r,Zl(r,e)}Jl(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Ql(e),e=e.sibling}function Ql(e){switch(e.tag){case 0:case 11:case 15:Yl(e),2048&e.flags&&sl(9,e,e.return);break;case 3:case 12:default:Yl(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,Xl(e)):Yl(e)}}function Xl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];El=r,Zl(r,e)}Jl(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:sl(8,t,t.return),Xl(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,Xl(t));break;default:Xl(t)}e=e.sibling}}function Zl(e,t){for(;null!==El;){var n=El;switch(n.tag){case 0:case 11:case 15:sl(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:xi(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,El=r;else e:for(n=e;null!==El;){var i=(r=El).sibling,a=r.return;if(Il(r),r===n){El=null;break e}if(null!==i){i.return=a,El=i;break e}El=a}}}var eu={getCacheForType:function(e){var t=Ti(Ni),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},tu="function"===typeof WeakMap?WeakMap:Map,nu=0,ru=null,iu=null,au=0,ou=0,su=null,lu=!1,uu=!1,cu=!1,du=0,fu=0,hu=0,pu=0,gu=0,mu=0,vu=0,yu=null,bu=null,wu=!1,Cu=0,ku=1/0,Eu=null,Su=null,Iu=0,Tu=null,_u=null,Ru=0,Du=0,Au=null,Ou=null,Nu=0,Pu=null;function xu(){if(0!==(2&nu)&&0!==au)return au&-au;if(null!==x.T){return 0!==Fi?Fi:Dc()}return Ae()}function Vu(){0===mu&&(mu=0===(536870912&au)||ai?ke():536870912);var e=is.current;return null!==e&&(e.flags|=32),mu}function Lu(e,t,n){(e!==ru||2!==ou&&9!==ou)&&null===e.cancelPendingCommit||(Ku(e,0),ju(e,au,mu,!1)),Ie(e,n),0!==(2&nu)&&e===ru||(e===ru&&(0===(2&nu)&&(pu|=n),4===fu&&ju(e,au,mu,!1)),kc(e))}function Fu(e,t,n){if(0!==(6&nu))throw Error(o(327));for(var r=!n&&0===(124&t)&&0===(t&e.expiredLanes)||we(e,t),i=r?function(e,t){var n=nu;nu|=2;var r=qu(),i=Gu();ru!==e||au!==t?(Eu=null,ku=te()+500,Ku(e,t)):uu=we(e,t);e:for(;;)try{if(0!==ou&&null!==iu){t=iu;var a=su;t:switch(ou){case 1:ou=0,su=null,Zu(e,t,a,1);break;case 2:case 9:if(Ji(a)){ou=0,su=null,Xu(t);break}t=function(){2!==ou&&9!==ou||ru!==e||(ou=7),kc(e)},a.then(t,t);break e;case 3:ou=7;break e;case 4:ou=5;break e;case 7:Ji(a)?(ou=0,su=null,Xu(t)):(ou=0,su=null,Zu(e,t,a,7));break;case 5:var s=null;switch(iu.tag){case 26:s=iu.memoizedState;case 5:case 27:var l=iu;if(!s||zd(s)){ou=0,su=null;var u=l.sibling;if(null!==u)iu=u;else{var c=l.return;null!==c?(iu=c,ec(c)):iu=null}break t}}ou=0,su=null,Zu(e,t,a,5);break;case 6:ou=0,su=null,Zu(e,t,a,6);break;case 8:Bu(),fu=6;break e;default:throw Error(o(462))}}Yu();break}catch(d){Hu(e,d)}return yi=vi=null,x.H=r,x.A=i,nu=n,null!==iu?0:(ru=null,au=0,Rr(),fu)}(e,t):$u(e,t,!0),a=r;;){if(0===i){uu&&!r&&ju(e,t,0,!1);break}if(n=e.current.alternate,!a||Uu(n)){if(2===i){if(a=t,e.errorRecoveryDisabledLanes&a)var s=0;else s=0!==(s=-536870913&e.pendingLanes)?s:536870912&s?536870912:0;if(0!==s){t=s;e:{var l=e;i=yu;var u=l.current.memoizedState.isDehydrated;if(u&&(Ku(l,s).flags|=256),2!==(s=$u(l,s,!1))){if(cu&&!u){l.errorRecoveryDisabledLanes|=a,pu|=a,i=4;break e}a=bu,bu=i,null!==a&&(null===bu?bu=a:bu.push.apply(bu,a))}i=s}if(a=!1,2!==i)continue}}if(1===i){Ku(e,0),ju(e,t,0,!0);break}e:{switch(r=e,a=i){case 0:case 1:throw Error(o(345));case 4:if((4194048&t)!==t)break;case 6:ju(r,t,mu,!lu);break e;case 2:bu=null;break;case 3:case 5:break;default:throw Error(o(329))}if((62914560&t)===t&&10<(i=Cu+300-te())){if(ju(r,t,mu,!lu),0!==be(r,0,!0))break e;r.timeoutHandle=ld(Mu.bind(null,r,n,bu,Eu,wu,t,mu,pu,vu,lu,a,2,-0,0),i)}else Mu(r,n,bu,Eu,wu,t,mu,pu,vu,lu,a,0,-0,0)}break}i=$u(e,t,!1),a=!1}kc(e)}function Mu(e,t,n,r,i,a,s,l,u,c,d,f,h,p){if(e.timeoutHandle=-1,(8192&(f=t.subtreeFlags)||16785408===(16785408&f))&&(Bd={stylesheets:null,count:0,unsuspend:Kd},$l(t),null!==(f=function(){if(null===Bd)throw Error(o(475));var e=Bd;return e.stylesheets&&0===e.count&&Gd(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&Gd(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=f(nc.bind(null,e,t,a,n,r,i,s,l,u,d,1,h,p)),void ju(e,a,s,!c);nc(e,t,a,n,r,i,s,l,u)}function Uu(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!Jn(a(),i))return!1}catch(o){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ju(e,t,n,r){t&=~gu,t&=~pu,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var a=31-he(i),o=1<<a;r[a]=-1,i&=~o}0!==n&&Te(e,n,t)}function zu(){return 0!==(6&nu)||(Ec(0,!1),!1)}function Bu(){if(null!==iu){if(0===ou)var e=iu.return;else yi=vi=null,Fa(e=iu),Jo=null,Yo=0,e=iu;for(;null!==e;)al(e.alternate,e),e=e.return;iu=null}}function Ku(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,ud(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Bu(),ru=e,iu=n=Mr(e.current,null),au=t,ou=0,su=null,lu=!1,uu=we(e,t),cu=!1,vu=mu=gu=pu=hu=fu=0,bu=yu=null,wu=!1,0!==(8&t)&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var i=31-he(r),a=1<<i;t|=e[i],r&=~a}return du=t,Rr(),n}function Hu(e,t){ba=null,x.H=qo,t===qi||t===Wi?(t=Zi(),ou=3):t===Gi?(t=Zi(),ou=4):ou=t===Ts?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,su=t,null===iu&&(fu=1,Cs(e,Sr(t,e.current)))}function qu(){var e=x.H;return x.H=qo,null===e?qo:e}function Gu(){var e=x.A;return x.A=eu,e}function Wu(){fu=4,lu||(4194048&au)!==au&&null!==is.current||(uu=!0),0===(134217727&hu)&&0===(134217727&pu)||null===ru||ju(ru,au,mu,!1)}function $u(e,t,n){var r=nu;nu|=2;var i=qu(),a=Gu();ru===e&&au===t||(Eu=null,Ku(e,t)),t=!1;var o=fu;e:for(;;)try{if(0!==ou&&null!==iu){var s=iu,l=su;switch(ou){case 8:Bu(),o=6;break e;case 3:case 2:case 9:case 6:null===is.current&&(t=!0);var u=ou;if(ou=0,su=null,Zu(e,s,l,u),n&&uu){o=0;break e}break;default:u=ou,ou=0,su=null,Zu(e,s,l,u)}}Ju(),o=fu;break}catch(c){Hu(e,c)}return t&&e.shellSuspendCounter++,yi=vi=null,nu=r,x.H=i,x.A=a,null===iu&&(ru=null,au=0,Rr()),o}function Ju(){for(;null!==iu;)Qu(iu)}function Yu(){for(;null!==iu&&!Z();)Qu(iu)}function Qu(e){var t=Qs(e.alternate,e,du);e.memoizedProps=e.pendingProps,null===t?ec(e):iu=t}function Xu(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Ls(n,t,t.pendingProps,t.type,void 0,au);break;case 11:t=Ls(n,t,t.pendingProps,t.type.render,t.ref,au);break;case 5:Fa(t);default:al(n,t),t=Qs(n,t=iu=Ur(t,du),du)}e.memoizedProps=e.pendingProps,null===t?ec(e):iu=t}function Zu(e,t,n,r){yi=vi=null,Fa(t),Jo=null,Yo=0;var i=t.return;try{if(function(e,t,n,r,i){if(n.flags|=32768,null!==r&&"object"===typeof r&&"function"===typeof r.then){if(null!==(t=n.alternate)&&Ei(t,n,i,!0),null!==(n=is.current)){switch(n.tag){case 13:return null===as?Wu():null===n.alternate&&0===fu&&(fu=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===$i?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),dc(e,r,i)),!1;case 22:return n.flags|=65536,r===$i?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),dc(e,r,i)),!1}throw Error(o(435,n.tag))}return dc(e,r,i),Wu(),!1}if(ai)return null!==(t=is.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=i,r!==li&&gi(Sr(e=Error(o(422),{cause:r}),n))):(r!==li&&gi(Sr(t=Error(o(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,i&=-i,e.lanes|=i,r=Sr(r,n),sa(e,i=Es(e.stateNode,r,i)),4!==fu&&(fu=2)),!1;var a=Error(o(520),{cause:r});if(a=Sr(a,n),null===yu?yu=[a]:yu.push(a),4!==fu&&(fu=2),null===t)return!0;r=Sr(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,sa(n,e=Es(n.stateNode,r,e)),!1;case 1:if(t=n.type,a=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==a&&"function"===typeof a.componentDidCatch&&(null===Su||!Su.has(a))))return n.flags|=65536,i&=-i,n.lanes|=i,Is(i=Ss(i),e,n,r),sa(n,i),!1}n=n.return}while(null!==n);return!1}(e,i,t,n,au))return fu=1,Cs(e,Sr(n,e.current)),void(iu=null)}catch(a){if(null!==i)throw iu=i,a;return fu=1,Cs(e,Sr(n,e.current)),void(iu=null)}32768&t.flags?(ai||1===r?e=!0:uu||0!==(536870912&au)?e=!1:(lu=e=!0,(2===r||9===r||3===r||6===r)&&(null!==(r=is.current)&&13===r.tag&&(r.flags|=16384))),tc(t,e)):ec(t)}function ec(e){var t=e;do{if(0!==(32768&t.flags))return void tc(t,lu);e=t.return;var n=rl(t.alternate,t,du);if(null!==n)return void(iu=n);if(null!==(t=t.sibling))return void(iu=t);iu=t=e}while(null!==t);0===fu&&(fu=5)}function tc(e,t){do{var n=il(e.alternate,e);if(null!==n)return n.flags&=32767,void(iu=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(iu=e);iu=e=n}while(null!==e);fu=6,iu=null}function nc(e,t,n,r,i,a,s,l,u){e.cancelPendingCommit=null;do{sc()}while(0!==Iu);if(0!==(6&nu))throw Error(o(327));if(null!==t){if(t===e.current)throw Error(o(177));if(a=t.lanes|t.childLanes,function(e,t,n,r,i,a){var o=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var s=e.entanglements,l=e.expirationTimes,u=e.hiddenUpdates;for(n=o&~n;0<n;){var c=31-he(n),d=1<<c;s[c]=0,l[c]=-1;var f=u[c];if(null!==f)for(u[c]=null,c=0;c<f.length;c++){var h=f[c];null!==h&&(h.lane&=-536870913)}n&=~d}0!==r&&Te(e,r,0),0!==a&&0===i&&0!==e.tag&&(e.suspendedLanes|=a&~(o&~t))}(e,n,a|=_r,s,l,u),e===ru&&(iu=ru=null,au=0),_u=t,Tu=e,Ru=n,Du=a,Au=i,Ou=r,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,Q(ae,function(){return lc(),null})):(e.callbackNode=null,e.callbackPriority=0),r=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||r){r=x.T,x.T=null,i=V.p,V.p=2,s=nu,nu|=4;try{!function(e,t){if(e=e.containerInfo,td=nf,tr(e=er(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(m){n=null;break e}var s=0,l=-1,u=-1,c=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==n||0!==i&&3!==f.nodeType||(l=s+i),f!==a||0!==r&&3!==f.nodeType||(u=s+r),3===f.nodeType&&(s+=f.nodeValue.length),null!==(p=f.firstChild);)h=f,f=p;for(;;){if(f===e)break t;if(h===n&&++c===i&&(l=s),h===a&&++d===r&&(u=s),null!==(p=f.nextSibling))break;h=(f=h).parentNode}f=p}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(nd={focusedElem:e,selectionRange:n},nf=!1,El=t;null!==El;)if(e=(t=El).child,0!==(1024&t.subtreeFlags)&&null!==e)e.return=t,El=e;else for(;null!==El;){switch(a=(t=El).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==a){e=void 0,n=t,i=a.memoizedProps,a=a.memoizedState,r=n.stateNode;try{var g=ms(n.type,i,(n.elementType,n.type));e=r.getSnapshotBeforeUpdate(g,a),r.__reactInternalSnapshotBeforeUpdate=e}catch(v){cc(n,n.return,v)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))gd(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":gd(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(o(163))}if(null!==(e=t.sibling)){e.return=t.return,El=e;break}El=t.return}}(e,t)}finally{nu=s,V.p=i,x.T=r}}Iu=1,rc(),ic(),ac()}}function rc(){if(1===Iu){Iu=0;var e=Tu,t=_u,n=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||n){n=x.T,x.T=null;var r=V.p;V.p=2;var i=nu;nu|=4;try{xl(t,e);var a=nd,o=er(e.containerInfo),s=a.focusedElem,l=a.selectionRange;if(o!==s&&s&&s.ownerDocument&&Zn(s.ownerDocument.documentElement,s)){if(null!==l&&tr(s)){var u=l.start,c=l.end;if(void 0===c&&(c=u),"selectionStart"in s)s.selectionStart=u,s.selectionEnd=Math.min(c,s.value.length);else{var d=s.ownerDocument||document,f=d&&d.defaultView||window;if(f.getSelection){var h=f.getSelection(),p=s.textContent.length,g=Math.min(l.start,p),m=void 0===l.end?g:Math.min(l.end,p);!h.extend&&g>m&&(o=m,m=g,g=o);var v=Xn(s,g),y=Xn(s,m);if(v&&y&&(1!==h.rangeCount||h.anchorNode!==v.node||h.anchorOffset!==v.offset||h.focusNode!==y.node||h.focusOffset!==y.offset)){var b=d.createRange();b.setStart(v.node,v.offset),h.removeAllRanges(),g>m?(h.addRange(b),h.extend(y.node,y.offset)):(b.setEnd(y.node,y.offset),h.addRange(b))}}}}for(d=[],h=s;h=h.parentNode;)1===h.nodeType&&d.push({element:h,left:h.scrollLeft,top:h.scrollTop});for("function"===typeof s.focus&&s.focus(),s=0;s<d.length;s++){var w=d[s];w.element.scrollLeft=w.left,w.element.scrollTop=w.top}}nf=!!td,nd=td=null}finally{nu=i,V.p=r,x.T=n}}e.current=t,Iu=2}}function ic(){if(2===Iu){Iu=0;var e=Tu,t=_u,n=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||n){n=x.T,x.T=null;var r=V.p;V.p=2;var i=nu;nu|=4;try{Sl(e,t.alternate,t)}finally{nu=i,V.p=r,x.T=n}}Iu=3}}function ac(){if(4===Iu||3===Iu){Iu=0,ee();var e=Tu,t=_u,n=Ru,r=Ou;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?Iu=5:(Iu=0,_u=Tu=null,oc(e,e.pendingLanes));var i=e.pendingLanes;if(0===i&&(Su=null),De(n),t=t.stateNode,de&&"function"===typeof de.onCommitFiberRoot)try{de.onCommitFiberRoot(ce,t,void 0,128===(128&t.current.flags))}catch(l){}if(null!==r){t=x.T,i=V.p,V.p=2,x.T=null;try{for(var a=e.onRecoverableError,o=0;o<r.length;o++){var s=r[o];a(s.value,{componentStack:s.stack})}}finally{x.T=t,V.p=i}}0!==(3&Ru)&&sc(),kc(e),i=e.pendingLanes,0!==(4194090&n)&&0!==(42&i)?e===Pu?Nu++:(Nu=0,Pu=e):Nu=0,Ec(0,!1)}}function oc(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,xi(t)))}function sc(e){return rc(),ic(),ac(),lc()}function lc(){if(5!==Iu)return!1;var e=Tu,t=Du;Du=0;var n=De(Ru),r=x.T,i=V.p;try{V.p=32>n?32:n,x.T=null,n=Au,Au=null;var a=Tu,s=Ru;if(Iu=0,_u=Tu=null,Ru=0,0!==(6&nu))throw Error(o(331));var l=nu;if(nu|=4,Ql(a.current),Kl(a,a.current,s,n),nu=l,Ec(0,!1),de&&"function"===typeof de.onPostCommitFiberRoot)try{de.onPostCommitFiberRoot(ce,a)}catch(u){}return!0}finally{V.p=i,x.T=r,oc(e,t)}}function uc(e,t,n){t=Sr(n,t),null!==(e=aa(e,t=Es(e.stateNode,t,2),2))&&(Ie(e,2),kc(e))}function cc(e,t,n){if(3===e.tag)uc(e,e,n);else for(;null!==t;){if(3===t.tag){uc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Su||!Su.has(r))){e=Sr(n,e),null!==(r=aa(t,n=Ss(2),2))&&(Is(n,r,t,e),Ie(r,2),kc(r));break}}t=t.return}}function dc(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new tu;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(cu=!0,i.add(n),e=fc.bind(null,e,t,n),t.then(e,e))}function fc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,ru===e&&(au&n)===n&&(4===fu||3===fu&&(62914560&au)===au&&300>te()-Cu?0===(2&nu)&&Ku(e,0):gu|=n,vu===au&&(vu=0)),kc(e)}function hc(e,t){0===t&&(t=Ee()),null!==(e=Or(e,t))&&(Ie(e,t),kc(e))}function pc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),hc(e,n)}function gc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(o(314))}null!==r&&r.delete(t),hc(e,n)}var mc=null,vc=null,yc=!1,bc=!1,wc=!1,Cc=0;function kc(e){e!==vc&&null===e.next&&(null===vc?mc=vc=e:vc=vc.next=e),bc=!0,yc||(yc=!0,dd(function(){0!==(6&nu)?Q(re,Sc):Ic()}))}function Ec(e,t){if(!wc&&bc){wc=!0;do{for(var n=!1,r=mc;null!==r;){if(!t)if(0!==e){var i=r.pendingLanes;if(0===i)var a=0;else{var o=r.suspendedLanes,s=r.pingedLanes;a=(1<<31-he(42|e)+1)-1,a=201326741&(a&=i&~(o&~s))?201326741&a|1:a?2|a:0}0!==a&&(n=!0,Rc(r,a))}else a=au,0===(3&(a=be(r,r===ru?a:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||we(r,a)||(n=!0,Rc(r,a));r=r.next}}while(n);wc=!1}}function Sc(){Ic()}function Ic(){bc=yc=!1;var e=0;0!==Cc&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==sd&&(sd=e,!0);return sd=null,!1}()&&(e=Cc),Cc=0);for(var t=te(),n=null,r=mc;null!==r;){var i=r.next,a=Tc(r,t);0===a?(r.next=null,null===n?mc=i:n.next=i,null===i&&(vc=n)):(n=r,(0!==e||0!==(3&a))&&(bc=!0)),r=i}Ec(e,!1)}function Tc(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=-62914561&e.pendingLanes;0<a;){var o=31-he(a),s=1<<o,l=i[o];-1===l?0!==(s&n)&&0===(s&r)||(i[o]=Ce(s,t)):l<=t&&(e.expiredLanes|=s),a&=~s}if(n=au,n=be(e,e===(t=ru)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===ou||9===ou)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&X(r),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||we(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&X(r),De(n)){case 2:case 8:n=ie;break;case 32:default:n=ae;break;case 268435456:n=se}return r=_c.bind(null,e),n=Q(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&X(r),e.callbackPriority=2,e.callbackNode=null,2}function _c(e,t){if(0!==Iu&&5!==Iu)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(sc()&&e.callbackNode!==n)return null;var r=au;return 0===(r=be(e,e===ru?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Fu(e,r,t),Tc(e,te()),null!=e.callbackNode&&e.callbackNode===n?_c.bind(null,e):null)}function Rc(e,t){if(sc())return null;Fu(e,t,!0)}function Dc(){return 0===Cc&&(Cc=ke()),Cc}function Ac(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:Dt(""+e)}function Oc(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Nc=0;Nc<Cr.length;Nc++){var Pc=Cr[Nc];kr(Pc.toLowerCase(),"on"+(Pc[0].toUpperCase()+Pc.slice(1)))}kr(hr,"onAnimationEnd"),kr(pr,"onAnimationIteration"),kr(gr,"onAnimationStart"),kr("dblclick","onDoubleClick"),kr("focusin","onFocus"),kr("focusout","onBlur"),kr(mr,"onTransitionRun"),kr(vr,"onTransitionStart"),kr(yr,"onTransitionCancel"),kr(br,"onTransitionEnd"),Je("onMouseEnter",["mouseout","mouseover"]),Je("onMouseLeave",["mouseout","mouseover"]),Je("onPointerEnter",["pointerout","pointerover"]),Je("onPointerLeave",["pointerout","pointerover"]),$e("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),$e("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),$e("onBeforeInput",["compositionend","keypress","textInput","paste"]),$e("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),$e("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),$e("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Vc=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(xc));function Lc(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==a&&i.isPropagationStopped())break e;a=s,i.currentTarget=u;try{a(i)}catch(c){vs(c)}i.currentTarget=null,a=l}else for(o=0;o<r.length;o++){if(l=(s=r[o]).instance,u=s.currentTarget,s=s.listener,l!==a&&i.isPropagationStopped())break e;a=s,i.currentTarget=u;try{a(i)}catch(c){vs(c)}i.currentTarget=null,a=l}}}}function Fc(e,t){var n=t[Ve];void 0===n&&(n=t[Ve]=new Set);var r=e+"__bubble";n.has(r)||(zc(t,e,2,!1),n.add(r))}function Mc(e,t,n){var r=0;t&&(r|=4),zc(n,e,r,t)}var Uc="_reactListening"+Math.random().toString(36).slice(2);function jc(e){if(!e[Uc]){e[Uc]=!0,Ge.forEach(function(t){"selectionchange"!==t&&(Vc.has(t)||Mc(t,!1,e),Mc(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Uc]||(t[Uc]=!0,Mc("selectionchange",!1,t))}}function zc(e,t,n,r){switch(cf(t)){case 2:var i=rf;break;case 8:i=af;break;default:i=of}n=i.bind(null,t,n,e),i=void 0,!Ut||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Bc(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&o.stateNode.containerInfo===i)return;o=o.return}for(;null!==s;){if(null===(o=ze(s)))return;if(5===(u=o.tag)||6===u||26===u||27===u){r=a=o;continue e}s=s.parentNode}}r=r.return}Lt(function(){var r=a,i=Ot(n),o=[];e:{var s=wr.get(e);if(void 0!==s){var u=Zt,c=e;switch(e){case"keypress":if(0===qt(n))break e;case"keydown":case"keyup":u=gn;break;case"focusin":c="focus",u=on;break;case"focusout":c="blur",u=on;break;case"beforeblur":case"afterblur":u=on;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=rn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=an;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=vn;break;case hr:case pr:case gr:u=sn;break;case br:u=yn;break;case"scroll":case"scrollend":u=tn;break;case"wheel":u=bn;break;case"copy":case"cut":case"paste":u=ln;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=mn;break;case"toggle":case"beforetoggle":u=wn}var d=0!==(4&t),f=!d&&("scroll"===e||"scrollend"===e),h=d?null!==s?s+"Capture":null:s;d=[];for(var p,g=r;null!==g;){var m=g;if(p=m.stateNode,5!==(m=m.tag)&&26!==m&&27!==m||null===p||null===h||null!=(m=Ft(g,h))&&d.push(Kc(g,m,p)),f)break;g=g.return}0<d.length&&(s=new u(s,c,null,n,i),o.push({event:s,listeners:d}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===At||!(c=n.relatedTarget||n.fromElement)||!ze(c)&&!c[xe])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?ze(c):null)&&(f=l(c),d=c.tag,c!==f||5!==d&&27!==d&&6!==d)&&(c=null)):(u=null,c=r),u!==c)){if(d=rn,m="onMouseLeave",h="onMouseEnter",g="mouse","pointerout"!==e&&"pointerover"!==e||(d=mn,m="onPointerLeave",h="onPointerEnter",g="pointer"),f=null==u?s:Ke(u),p=null==c?s:Ke(c),(s=new d(m,g+"leave",u,n,i)).target=f,s.relatedTarget=p,m=null,ze(i)===r&&((d=new d(h,g+"enter",c,n,i)).target=p,d.relatedTarget=f,m=d),f=m,u&&c)e:{for(h=c,g=0,p=d=u;p;p=qc(p))g++;for(p=0,m=h;m;m=qc(m))p++;for(;0<g-p;)d=qc(d),g--;for(;0<p-g;)h=qc(h),p--;for(;g--;){if(d===h||null!==h&&d===h.alternate)break e;d=qc(d),h=qc(h)}d=null}else d=null;null!==u&&Gc(o,s,u,d,!1),null!==c&&null!==f&&Gc(o,f,c,d,!0)}if("select"===(u=(s=r?Ke(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var v=Mn;else if(Nn(s))if(Un)v=$n;else{v=Gn;var y=qn}else!(u=s.nodeName)||"input"!==u.toLowerCase()||"checkbox"!==s.type&&"radio"!==s.type?r&&Tt(r.elementType)&&(v=Mn):v=Wn;switch(v&&(v=v(e,r))?Pn(o,v,n,i):(y&&y(e,s,r),"focusout"===e&&r&&"number"===s.type&&null!=r.memoizedProps.value&&yt(s,"number",s.value)),y=r?Ke(r):window,e){case"focusin":(Nn(y)||"true"===y.contentEditable)&&(rr=y,ir=r,ar=null);break;case"focusout":ar=ir=rr=null;break;case"mousedown":or=!0;break;case"contextmenu":case"mouseup":case"dragend":or=!1,sr(o,n,i);break;case"selectionchange":if(nr)break;case"keydown":case"keyup":sr(o,n,i)}var b;if(kn)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else An?Rn(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(In&&"ko"!==n.locale&&(An||"onCompositionStart"!==w?"onCompositionEnd"===w&&An&&(b=Ht()):(Bt="value"in(zt=i)?zt.value:zt.textContent,An=!0)),0<(y=Hc(r,w)).length&&(w=new un(w,e,null,n,i),o.push({event:w,listeners:y}),b?w.data=b:null!==(b=Dn(n))&&(w.data=b))),(b=Sn?function(e,t){switch(e){case"compositionend":return Dn(t);case"keypress":return 32!==t.which?null:(_n=!0,Tn);case"textInput":return(e=t.data)===Tn&&_n?null:e;default:return null}}(e,n):function(e,t){if(An)return"compositionend"===e||!kn&&Rn(e,t)?(e=Ht(),Kt=Bt=zt=null,An=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return In&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(w=Hc(r,"onBeforeInput")).length&&(y=new un("onBeforeInput","beforeinput",null,n,i),o.push({event:y,listeners:w}),y.data=b)),function(e,t,n,r,i){if("submit"===t&&n&&n.stateNode===i){var a=Ac((i[Pe]||null).action),o=r.submitter;o&&null!==(t=(t=o[Pe]||null)?Ac(t.formAction):o.getAttribute("formAction"))&&(a=t,o=null);var s=new Zt("action","action",null,r,i);e.push({event:s,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==Cc){var e=o?Oc(i,o):new FormData(i);Oo(n,{pending:!0,data:e,method:i.method,action:a},null,e)}}else"function"===typeof a&&(s.preventDefault(),e=o?Oc(i,o):new FormData(i),Oo(n,{pending:!0,data:e,method:i.method,action:a},a,e))},currentTarget:i}]})}}(o,e,r,n,i)}Lc(o,t)})}function Kc(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hc(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;if(5!==(i=i.tag)&&26!==i&&27!==i||null===a||(null!=(i=Ft(e,n))&&r.unshift(Kc(e,i,a)),null!=(i=Ft(e,t))&&r.push(Kc(e,i,a))),3===e.tag)return r;e=e.return}return[]}function qc(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Gc(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(s=s.tag,null!==l&&l===r)break;5!==s&&26!==s&&27!==s||null===u||(l=u,i?null!=(u=Ft(n,a))&&o.unshift(Kc(n,u,l)):i||null!=(u=Ft(n,a))&&o.push(Kc(n,u,l))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Wc=/\r\n?/g,$c=/\u0000|\uFFFD/g;function Jc(e){return("string"===typeof e?e:""+e).replace(Wc,"\n").replace($c,"")}function Yc(e,t){return t=Jc(t),Jc(e)===t}function Qc(){}function Xc(e,t,n,r,i,a){switch(n){case"children":"string"===typeof r?"body"===t||"textarea"===t&&""===r||kt(e,r):("number"===typeof r||"bigint"===typeof r)&&"body"!==t&&kt(e,""+r);break;case"className":nt(e,"class",r);break;case"tabIndex":nt(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":nt(e,n,r);break;case"style":It(e,r,a);break;case"data":if("object"!==t){nt(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"===typeof r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Dt(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"===typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof a&&("formAction"===n?("input"!==t&&Xc(e,t,"name",i.name,i,null),Xc(e,t,"formEncType",i.formEncType,i,null),Xc(e,t,"formMethod",i.formMethod,i,null),Xc(e,t,"formTarget",i.formTarget,i,null)):(Xc(e,t,"encType",i.encType,i,null),Xc(e,t,"method",i.method,i,null),Xc(e,t,"target",i.target,i,null))),null==r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Dt(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=Qc);break;case"onScroll":null!=r&&Fc("scroll",e);break;case"onScrollEnd":null!=r&&Fc("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(o(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(o(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"muted":e.muted=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"===typeof r||"boolean"===typeof r||"symbol"===typeof r){e.removeAttribute("xlink:href");break}n=Dt(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"===typeof r||"symbol"===typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Fc("beforetoggle",e),Fc("toggle",e),tt(e,"popover",r);break;case"xlinkActuate":rt(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":rt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":rt(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":rt(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":rt(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":rt(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":rt(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":rt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":rt(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":tt(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&tt(e,n=_t.get(n)||n,r)}}function Zc(e,t,n,r,i,a){switch(n){case"style":It(e,r,a);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(o(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(o(60));e.innerHTML=n}}break;case"children":"string"===typeof r?kt(e,r):("number"===typeof r||"bigint"===typeof r)&&kt(e,""+r);break;case"onScroll":null!=r&&Fc("scroll",e);break;case"onScrollEnd":null!=r&&Fc("scrollend",e);break;case"onClick":null!=r&&(e.onclick=Qc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:We.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),"function"===typeof(a=null!=(a=e[Pe]||null)?a[n]:null)&&e.removeEventListener(t,a,i),"function"!==typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):tt(e,n,r):("function"!==typeof a&&null!==a&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,i)))}}function ed(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Fc("error",e),Fc("load",e);var r,i=!1,a=!1;for(r in n)if(n.hasOwnProperty(r)){var s=n[r];if(null!=s)switch(r){case"src":i=!0;break;case"srcSet":a=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:Xc(e,t,r,s,n,null)}}return a&&Xc(e,t,"srcSet",n.srcSet,n,null),void(i&&Xc(e,t,"src",n.src,n,null));case"input":Fc("invalid",e);var l=r=s=a=null,u=null,c=null;for(i in n)if(n.hasOwnProperty(i)){var d=n[i];if(null!=d)switch(i){case"name":a=d;break;case"type":s=d;break;case"checked":u=d;break;case"defaultChecked":c=d;break;case"value":r=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(o(137,t));break;default:Xc(e,t,i,d,n,null)}}return vt(e,r,l,u,c,s,a,!1),void dt(e);case"select":for(a in Fc("invalid",e),i=s=r=null,n)if(n.hasOwnProperty(a)&&null!=(l=n[a]))switch(a){case"value":r=l;break;case"defaultValue":s=l;break;case"multiple":i=l;default:Xc(e,t,a,l,n,null)}return t=r,n=s,e.multiple=!!i,void(null!=t?bt(e,!!i,t,!1):null!=n&&bt(e,!!i,n,!0));case"textarea":for(s in Fc("invalid",e),r=a=i=null,n)if(n.hasOwnProperty(s)&&null!=(l=n[s]))switch(s){case"value":i=l;break;case"defaultValue":a=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(o(91));break;default:Xc(e,t,s,l,n,null)}return Ct(e,i,a,r),void dt(e);case"option":for(u in n)if(n.hasOwnProperty(u)&&null!=(i=n[u]))if("selected"===u)e.selected=i&&"function"!==typeof i&&"symbol"!==typeof i;else Xc(e,t,u,i,n,null);return;case"dialog":Fc("beforetoggle",e),Fc("toggle",e),Fc("cancel",e),Fc("close",e);break;case"iframe":case"object":Fc("load",e);break;case"video":case"audio":for(i=0;i<xc.length;i++)Fc(xc[i],e);break;case"image":Fc("error",e),Fc("load",e);break;case"details":Fc("toggle",e);break;case"embed":case"source":case"link":Fc("error",e),Fc("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in n)if(n.hasOwnProperty(c)&&null!=(i=n[c]))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:Xc(e,t,c,i,n,null)}return;default:if(Tt(t)){for(d in n)n.hasOwnProperty(d)&&(void 0!==(i=n[d])&&Zc(e,t,d,i,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(i=n[l])&&Xc(e,t,l,i,n,null))}var td=null,nd=null;function rd(e){return 9===e.nodeType?e:e.ownerDocument}function id(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ad(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function od(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var sd=null;var ld="function"===typeof setTimeout?setTimeout:void 0,ud="function"===typeof clearTimeout?clearTimeout:void 0,cd="function"===typeof Promise?Promise:void 0,dd="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof cd?function(e){return cd.resolve(null).then(e).catch(fd)}:ld;function fd(e){setTimeout(function(){throw e})}function hd(e){return"head"===e}function pd(e,t){var n=t,r=0,i=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&8===a.nodeType)if("/$"===(n=a.data)){if(0<r&&8>r){n=r;var o=e.ownerDocument;if(1&n&&Cd(o.documentElement),2&n&&Cd(o.body),4&n)for(Cd(n=o.head),o=n.firstChild;o;){var s=o.nextSibling,l=o.nodeName;o[Ue]||"SCRIPT"===l||"STYLE"===l||"LINK"===l&&"stylesheet"===o.rel.toLowerCase()||n.removeChild(o),o=s}}if(0===i)return e.removeChild(a),void Rf(t);i--}else"$"===n||"$?"===n||"$!"===n?i++:r=n.charCodeAt(0)-48;else r=0;n=a}while(n);Rf(t)}function gd(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":gd(n),je(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function md(e){return"$!"===e.data||"$?"===e.data&&"complete"===e.ownerDocument.readyState}function vd(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}var yd=null;function bd(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function wd(e,t,n){switch(t=rd(n),e){case"html":if(!(e=t.documentElement))throw Error(o(452));return e;case"head":if(!(e=t.head))throw Error(o(453));return e;case"body":if(!(e=t.body))throw Error(o(454));return e;default:throw Error(o(451))}}function Cd(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);je(e)}var kd=new Map,Ed=new Set;function Sd(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Id=V.d;V.d={f:function(){var e=Id.f(),t=zu();return e||t},r:function(e){var t=Be(e);null!==t&&5===t.tag&&"form"===t.type?Po(t):Id.r(e)},D:function(e){Id.D(e),_d("dns-prefetch",e,null)},C:function(e,t){Id.C(e,t),_d("preconnect",e,t)},L:function(e,t,n){Id.L(e,t,n);var r=Td;if(r&&e&&t){var i='link[rel="preload"][as="'+gt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(i+='[imagesrcset="'+gt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(i+='[imagesizes="'+gt(n.imageSizes)+'"]')):i+='[href="'+gt(e)+'"]';var a=i;switch(t){case"style":a=Dd(e);break;case"script":a=Nd(e)}kd.has(a)||(e=f({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),kd.set(a,e),null!==r.querySelector(i)||"style"===t&&r.querySelector(Ad(a))||"script"===t&&r.querySelector(Pd(a))||(ed(t=r.createElement("link"),"link",e),qe(t),r.head.appendChild(t)))}},m:function(e,t){Id.m(e,t);var n=Td;if(n&&e){var r=t&&"string"===typeof t.as?t.as:"script",i='link[rel="modulepreload"][as="'+gt(r)+'"][href="'+gt(e)+'"]',a=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=Nd(e)}if(!kd.has(a)&&(e=f({rel:"modulepreload",href:e},t),kd.set(a,e),null===n.querySelector(i))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Pd(a)))return}ed(r=n.createElement("link"),"link",e),qe(r),n.head.appendChild(r)}}},X:function(e,t){Id.X(e,t);var n=Td;if(n&&e){var r=He(n).hoistableScripts,i=Nd(e),a=r.get(i);a||((a=n.querySelector(Pd(i)))||(e=f({src:e,async:!0},t),(t=kd.get(i))&&Fd(e,t),qe(a=n.createElement("script")),ed(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(i,a))}},S:function(e,t,n){Id.S(e,t,n);var r=Td;if(r&&e){var i=He(r).hoistableStyles,a=Dd(e);t=t||"default";var o=i.get(a);if(!o){var s={loading:0,preload:null};if(o=r.querySelector(Ad(a)))s.loading=5;else{e=f({rel:"stylesheet",href:e,"data-precedence":t},n),(n=kd.get(a))&&Ld(e,n);var l=o=r.createElement("link");qe(l),ed(l,"link",e),l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),l.addEventListener("load",function(){s.loading|=1}),l.addEventListener("error",function(){s.loading|=2}),s.loading|=4,Vd(o,t,r)}o={type:"stylesheet",instance:o,count:1,state:s},i.set(a,o)}}},M:function(e,t){Id.M(e,t);var n=Td;if(n&&e){var r=He(n).hoistableScripts,i=Nd(e),a=r.get(i);a||((a=n.querySelector(Pd(i)))||(e=f({src:e,async:!0,type:"module"},t),(t=kd.get(i))&&Fd(e,t),qe(a=n.createElement("script")),ed(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(i,a))}}};var Td="undefined"===typeof document?null:document;function _d(e,t,n){var r=Td;if(r&&"string"===typeof t&&t){var i=gt(t);i='link[rel="'+e+'"][href="'+i+'"]',"string"===typeof n&&(i+='[crossorigin="'+n+'"]'),Ed.has(i)||(Ed.add(i),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(i)&&(ed(t=r.createElement("link"),"link",e),qe(t),r.head.appendChild(t)))}}function Rd(e,t,n,r){var i,a,s,l,u=(u=H.current)?Sd(u):null;if(!u)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=Dd(n.href),(r=(n=He(u).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=Dd(n.href);var c=He(u).hoistableStyles,d=c.get(e);if(d||(u=u.ownerDocument||u,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},c.set(e,d),(c=u.querySelector(Ad(e)))&&!c._p&&(d.instance=c,d.state.loading=5),kd.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},kd.set(e,n),c||(i=u,a=e,s=n,l=d.state,i.querySelector('link[rel="preload"][as="style"]['+a+"]")?l.loading=1:(a=i.createElement("link"),l.preload=a,a.addEventListener("load",function(){return l.loading|=1}),a.addEventListener("error",function(){return l.loading|=2}),ed(a,"link",s),qe(a),i.head.appendChild(a))))),t&&null===r)throw Error(o(528,""));return d}if(t&&null!==r)throw Error(o(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Nd(n),(r=(n=He(u).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function Dd(e){return'href="'+gt(e)+'"'}function Ad(e){return'link[rel="stylesheet"]['+e+"]"}function Od(e){return f({},e,{"data-precedence":e.precedence,precedence:null})}function Nd(e){return'[src="'+gt(e)+'"]'}function Pd(e){return"script[async]"+e}function xd(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+gt(n.href)+'"]');if(r)return t.instance=r,qe(r),r;var i=f({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return qe(r=(e.ownerDocument||e).createElement("style")),ed(r,"style",i),Vd(r,n.precedence,e),t.instance=r;case"stylesheet":i=Dd(n.href);var a=e.querySelector(Ad(i));if(a)return t.state.loading|=4,t.instance=a,qe(a),a;r=Od(n),(i=kd.get(i))&&Ld(r,i),qe(a=(e.ownerDocument||e).createElement("link"));var s=a;return s._p=new Promise(function(e,t){s.onload=e,s.onerror=t}),ed(a,"link",r),t.state.loading|=4,Vd(a,n.precedence,e),t.instance=a;case"script":return a=Nd(n.src),(i=e.querySelector(Pd(a)))?(t.instance=i,qe(i),i):(r=n,(i=kd.get(a))&&Fd(r=f({},n),i),qe(i=(e=e.ownerDocument||e).createElement("script")),ed(i,"link",r),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(o(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,Vd(r,n.precedence,e));return t.instance}function Vd(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,a=i,o=0;o<r.length;o++){var s=r[o];if(s.dataset.precedence===t)a=s;else if(a!==i)break}a?a.parentNode.insertBefore(e,a.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Ld(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function Fd(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var Md=null;function Ud(e,t,n){if(null===Md){var r=new Map,i=Md=new Map;i.set(n,r)}else(r=(i=Md).get(n))||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var a=n[i];if(!(a[Ue]||a[Ne]||"link"===e&&"stylesheet"===a.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==a.namespaceURI){var o=a.getAttribute(t)||"";o=e+o;var s=r.get(o);s?s.push(a):r.set(o,[a])}}return r}function jd(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function zd(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var Bd=null;function Kd(){}function Hd(){if(this.count--,0===this.count)if(this.stylesheets)Gd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var qd=null;function Gd(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,qd=new Map,t.forEach(Wd,e),qd=null,Hd.call(e))}function Wd(e,t){if(!(4&t.state.loading)){var n=qd.get(e);if(n)var r=n.get(null);else{n=new Map,qd.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<i.length;a++){var o=i[a];"LINK"!==o.nodeName&&"not all"===o.getAttribute("media")||(n.set(o.dataset.precedence,o),r=o)}r&&n.set(null,r)}o=(i=t.instance).getAttribute("data-precedence"),(a=n.get(o)||r)===r&&n.set(null,i),n.set(o,i),this.count++,r=Hd.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),a?a.parentNode.insertBefore(i,a.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(i,e.firstChild),t.state.loading|=4}}var $d={$$typeof:C,Provider:null,Consumer:null,_currentValue:L,_currentValue2:L,_threadCount:0};function Jd(e,t,n,r,i,a,o,s){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Se(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Se(0),this.hiddenUpdates=Se(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=a,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=s,this.incompleteTransitions=new Map}function Yd(e,t,n,r,i,a,o,s,l,u,c,d){return e=new Jd(e,t,n,o,s,l,u,d),t=1,!0===a&&(t|=24),a=Lr(3,null,null,t),e.current=a,a.stateNode=e,(t=Pi()).refCount++,e.pooledCache=t,t.refCount++,a.memoizedState={element:r,isDehydrated:n,cache:t},na(a),e}function Qd(e){return e?e=xr:xr}function Xd(e,t,n,r,i,a){i=Qd(i),null===r.context?r.context=i:r.pendingContext=i,(r=ia(t)).payload={element:n},null!==(a=void 0===a?null:a)&&(r.callback=a),null!==(n=aa(e,r,t))&&(Lu(n,0,t),oa(n,e,t))}function Zd(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function ef(e,t){Zd(e,t),(e=e.alternate)&&Zd(e,t)}function tf(e){if(13===e.tag){var t=Or(e,67108864);null!==t&&Lu(t,0,67108864),ef(e,67108864)}}var nf=!0;function rf(e,t,n,r){var i=x.T;x.T=null;var a=V.p;try{V.p=2,of(e,t,n,r)}finally{V.p=a,x.T=i}}function af(e,t,n,r){var i=x.T;x.T=null;var a=V.p;try{V.p=8,of(e,t,n,r)}finally{V.p=a,x.T=i}}function of(e,t,n,r){if(nf){var i=sf(r);if(null===i)Bc(e,t,r,lf,n),bf(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return ff=wf(ff,e,t,n,r,i),!0;case"dragenter":return hf=wf(hf,e,t,n,r,i),!0;case"mouseover":return pf=wf(pf,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return gf.set(a,wf(gf.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,mf.set(a,wf(mf.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(bf(e,r),4&t&&-1<yf.indexOf(e)){for(;null!==i;){var a=Be(i);if(null!==a)switch(a.tag){case 3:if((a=a.stateNode).current.memoizedState.isDehydrated){var o=ye(a.pendingLanes);if(0!==o){var s=a;for(s.pendingLanes|=2,s.entangledLanes|=2;o;){var l=1<<31-he(o);s.entanglements[1]|=l,o&=~l}kc(a),0===(6&nu)&&(ku=te()+500,Ec(0,!1))}}break;case 13:null!==(s=Or(a,2))&&Lu(s,0,2),zu(),ef(a,2)}if(null===(a=sf(r))&&Bc(e,t,r,lf,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Bc(e,t,r,null,n)}}function sf(e){return uf(e=Ot(e))}var lf=null;function uf(e){if(lf=null,null!==(e=ze(e))){var t=l(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=u(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return lf=e,null}function cf(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ne()){case re:return 2;case ie:return 8;case ae:case oe:return 32;case se:return 268435456;default:return 32}default:return 32}}var df=!1,ff=null,hf=null,pf=null,gf=new Map,mf=new Map,vf=[],yf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function bf(e,t){switch(e){case"focusin":case"focusout":ff=null;break;case"dragenter":case"dragleave":hf=null;break;case"mouseover":case"mouseout":pf=null;break;case"pointerover":case"pointerout":gf.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":mf.delete(t.pointerId)}}function wf(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=Be(t))&&tf(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Cf(e){var t=ze(e.target);if(null!==t){var n=l(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=u(n)))return e.blockedOn=t,void function(e,t){var n=V.p;try{return V.p=e,t()}finally{V.p=n}}(e.priority,function(){if(13===n.tag){var e=xu();e=Re(e);var t=Or(n,e);null!==t&&Lu(t,0,e),ef(n,e)}})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function kf(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=sf(e.nativeEvent);if(null!==n)return null!==(t=Be(n))&&tf(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);At=r,n.target.dispatchEvent(r),At=null,t.shift()}return!0}function Ef(e,t,n){kf(e)&&n.delete(t)}function Sf(){df=!1,null!==ff&&kf(ff)&&(ff=null),null!==hf&&kf(hf)&&(hf=null),null!==pf&&kf(pf)&&(pf=null),gf.forEach(Ef),mf.forEach(Ef)}function If(e,t){e.blockedOn===t&&(e.blockedOn=null,df||(df=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Sf)))}var Tf=null;function _f(e){Tf!==e&&(Tf=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Tf===e&&(Tf=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],i=e[t+2];if("function"!==typeof r){if(null===uf(r||n))continue;break}var a=Be(n);null!==a&&(e.splice(t,3),t-=3,Oo(a,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function Rf(e){function t(t){return If(t,e)}null!==ff&&If(ff,e),null!==hf&&If(hf,e),null!==pf&&If(pf,e),gf.forEach(t),mf.forEach(t);for(var n=0;n<vf.length;n++){var r=vf[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<vf.length&&null===(n=vf[0]).blockedOn;)Cf(n),null===n.blockedOn&&vf.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var i=n[r],a=n[r+1],o=i[Pe]||null;if("function"===typeof a)o||_f(n);else if(o){var s=null;if(a&&a.hasAttribute("formAction")){if(i=a,o=a[Pe]||null)s=o.formAction;else if(null!==uf(i))continue}else s=o.action;"function"===typeof s?n[r+1]=s:(n.splice(r,3),r-=3),_f(n)}}}function Df(e){this._internalRoot=e}function Af(e){this._internalRoot=e}Af.prototype.render=Df.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Xd(t.current,xu(),e,t,null,null)},Af.prototype.unmount=Df.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Xd(e.current,2,null,e,null,null),zu(),t[xe]=null}},Af.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ae();e={blockedOn:null,target:e,priority:t};for(var n=0;n<vf.length&&0!==t&&t<vf[n].priority;n++);vf.splice(n,0,e),0===n&&Cf(e)}};var Of=i.version;if("19.1.1"!==Of)throw Error(o(527,Of,"19.1.1"));V.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=l(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return c(i),e;if(a===r)return c(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=a;break}if(u===r){s=!0,r=i,n=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===n){s=!0,n=a,r=i;break}if(u===r){s=!0,r=a,n=i;break}u=u.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?d(e):null)?null:e.stateNode};var Nf={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:x,reconcilerVersion:"19.1.1"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Pf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pf.isDisabled&&Pf.supportsFiber)try{ce=Pf.inject(Nf),de=Pf}catch(xf){}}t.createRoot=function(e,t){if(!s(e))throw Error(o(299));var n=!1,r="",i=ys,a=bs,l=ws;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(i=t.onUncaughtError),void 0!==t.onCaughtError&&(a=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=Yd(e,1,!1,null,0,n,r,i,a,l,0,null),e[xe]=t.current,jc(e),new Df(t)},t.hydrateRoot=function(e,t,n){if(!s(e))throw Error(o(299));var r=!1,i="",a=ys,l=bs,u=ws,c=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onUncaughtError&&(a=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(u=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks,void 0!==n.formState&&(c=n.formState)),(t=Yd(e,1,!0,t,0,r,i,a,l,u,0,c)).context=Qd(null),n=t.current,(i=ia(r=Re(r=xu()))).callback=null,aa(n,i,r),n=r,t.current.lanes=n,Ie(t,n),kc(t),e[xe]=t.current,jc(e),new Af(t)},t.version="19.1.1"},43:(e,t,n)=>{e.exports=n(288)},288:(e,t)=>{var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),h=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,m={};function v(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var w=b.prototype=new y;w.constructor=b,g(w,v.prototype),w.isPureReactComponent=!0;var C=Array.isArray,k={H:null,A:null,T:null,S:null,V:null},E=Object.prototype.hasOwnProperty;function S(e,t,r,i,a,o){return r=o.ref,{$$typeof:n,type:e,key:t,ref:void 0!==r?r:null,props:o}}function I(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function _(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function R(){}function D(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l,u,c=!1;if(null===e)c=!0;else switch(s){case"bigint":case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case n:case r:c=!0;break;case f:return D((c=e._init)(e._payload),t,i,a,o)}}if(c)return o=o(e),c=""===a?"."+_(e,0):a,C(o)?(i="",null!=c&&(i=c.replace(T,"$&/")+"/"),D(o,t,i,"",function(e){return e})):null!=o&&(I(o)&&(l=o,u=i+(null==o.key||e&&e.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+c,o=S(l.type,u,void 0,0,0,l.props)),t.push(o)),1;c=0;var d,p=""===a?".":a+":";if(C(e))for(var g=0;g<e.length;g++)c+=D(a=e[g],t,i,s=p+_(a,g),o);else if("function"===typeof(g=null===(d=e)||"object"!==typeof d?null:"function"===typeof(d=h&&d[h]||d["@@iterator"])?d:null))for(e=g.call(e),g=0;!(a=e.next()).done;)c+=D(a=a.value,t,i,s=p+_(a,g++),o);else if("object"===s){if("function"===typeof e.then)return D(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(R,R):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,i,a,o);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return c}function A(e,t,n){if(null==e)return e;var r=[],i=0;return D(e,r,"","",function(e){return t.call(n,e,i++)}),r}function O(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var N="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function P(){}t.Children={map:A,forEach:function(e,t,n){A(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return A(e,function(){t++}),t},toArray:function(e){return A(e,function(e){return e})||[]},only:function(e){if(!I(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=o,t.PureComponent=b,t.StrictMode=a,t.Suspense=c,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return k.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var r=g({},e.props),i=e.key;if(null!=t)for(a in void 0!==t.ref&&void 0,void 0!==t.key&&(i=""+t.key),t)!E.call(t,a)||"key"===a||"__self"===a||"__source"===a||"ref"===a&&void 0===t.ref||(r[a]=t[a]);var a=arguments.length-2;if(1===a)r.children=n;else if(1<a){for(var o=Array(a),s=0;s<a;s++)o[s]=arguments[s+2];r.children=o}return S(e.type,i,void 0,0,0,r)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:s,_context:e},e},t.createElement=function(e,t,n){var r,i={},a=null;if(null!=t)for(r in void 0!==t.key&&(a=""+t.key),t)E.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(i[r]=t[r]);var o=arguments.length-2;if(1===o)i.children=n;else if(1<o){for(var s=Array(o),l=0;l<o;l++)s[l]=arguments[l+2];i.children=s}if(e&&e.defaultProps)for(r in o=e.defaultProps)void 0===i[r]&&(i[r]=o[r]);return S(e,a,void 0,0,0,i)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=I,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=k.T,n={};k.T=n;try{var r=e(),i=k.S;null!==i&&i(n,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then(P,N)}catch(a){N(a)}finally{k.T=t}},t.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},t.use=function(e){return k.H.use(e)},t.useActionState=function(e,t,n){return k.H.useActionState(e,t,n)},t.useCallback=function(e,t){return k.H.useCallback(e,t)},t.useContext=function(e){return k.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return k.H.useDeferredValue(e,t)},t.useEffect=function(e,t,n){var r=k.H;if("function"===typeof n)throw Error("useEffect CRUD overload is not enabled in this build of React.");return r.useEffect(e,t)},t.useId=function(){return k.H.useId()},t.useImperativeHandle=function(e,t,n){return k.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return k.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return k.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return k.H.useMemo(e,t)},t.useOptimistic=function(e,t){return k.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return k.H.useReducer(e,t,n)},t.useRef=function(e){return k.H.useRef(e)},t.useState=function(e){return k.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return k.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return k.H.useTransition()},t.version="19.1.1"},391:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4)},579:(e,t,n)=>{e.exports=n(799)},672:(e,t,n)=>{var r=n(43);function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var o={d:{f:a,r:function(){throw Error(i(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},s=Symbol.for("react.portal");var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(i(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:s,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=o.p;try{if(l.T=null,o.p=2,e)return e()}finally{l.T=t,o.p=n,o.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,o.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&o.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,r=u(n,t.crossOrigin),i="string"===typeof t.integrity?t.integrity:void 0,a="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?o.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:a}):"script"===n&&o.d.X(e,{crossOrigin:r,integrity:i,fetchPriority:a,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=u(t.as,t.crossOrigin);o.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&o.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,r=u(n,t.crossOrigin);o.d.L(e,n,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=u(t.as,t.crossOrigin);o.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else o.d.m(e)},t.requestFormReset=function(e){o.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.1.1"},799:(e,t)=>{var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function i(e,t,r){var i=null;if(void 0!==r&&(i=""+r),void 0!==t.key&&(i=""+t.key),"key"in t)for(var a in r={},t)"key"!==a&&(r[a]=t[a]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:i,ref:void 0!==t?t:null,props:r}}t.Fragment=r,t.jsx=i,t.jsxs=i},853:(e,t,n)=>{e.exports=n(896)},896:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,l=e[s],u=s+1,c=e[u];if(0>a(l,n))u<i&&0>a(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[s]=n,r=s);else{if(!(u<i&&0>a(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var u=[],c=[],d=1,f=null,h=3,p=!1,g=!1,m=!1,v=!1,y="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,w="undefined"!==typeof setImmediate?setImmediate:null;function C(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(u,t)}t=r(c)}}function k(e){if(m=!1,C(e),!g)if(null!==r(u))g=!0,S||(S=!0,E());else{var t=r(c);null!==t&&N(k,t.startTime-e)}}var E,S=!1,I=-1,T=5,_=-1;function R(){return!!v||!(t.unstable_now()-_<T)}function D(){if(v=!1,S){var e=t.unstable_now();_=e;var n=!0;try{e:{g=!1,m&&(m=!1,b(I),I=-1),p=!0;var a=h;try{t:{for(C(e),f=r(u);null!==f&&!(f.expirationTime>e&&R());){var o=f.callback;if("function"===typeof o){f.callback=null,h=f.priorityLevel;var s=o(f.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof s){f.callback=s,C(e),n=!0;break t}f===r(u)&&i(u),C(e)}else i(u);f=r(u)}if(null!==f)n=!0;else{var l=r(c);null!==l&&N(k,l.startTime-e),n=!1}}break e}finally{f=null,h=a,p=!1}n=void 0}}finally{n?E():S=!1}}}if("function"===typeof w)E=function(){w(D)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,O=A.port2;A.port1.onmessage=D,E=function(){O.postMessage(null)}}else E=function(){y(D,0)};function N(e,n){I=y(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_requestPaint=function(){v=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(c,e),null===r(u)&&e===r(c)&&(m?(b(I),I=-1):m=!0,N(k,a-o))):(e.sortIndex=s,n(u,e),g||p||(g=!0,S||(S=!0,E()))),e},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(672)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.m=e,n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce((t,r)=>(n.f[r](e,t),t),[])),n.u=e=>"static/js/"+e+".d802fbbf.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(Xf){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="shopping-frontend:";n.l=(r,i,a,o)=>{if(e[r])e[r].push(i);else{var s,l;if(void 0!==a)for(var u=document.getElementsByTagName("script"),c=0;c<u.length;c++){var d=u[c];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+a){s=d;break}}s||(l=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+a),s.src=r),e[r]=[i];var f=(t,n)=>{s.onerror=s.onload=null,clearTimeout(h);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach(e=>e(n)),t)return t(n)},h=setTimeout(f.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=f.bind(null,s.onerror),s.onload=f.bind(null,s.onload),l&&document.head.appendChild(s)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",(()=>{var e={792:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((n,r)=>i=e[t]=[n,r]);r.push(i[2]=a);var o=n.p+n.u(t),s=new Error;n.l(o,r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",s.name="ChunkLoadError",s.type=a,s.request=o,i[1](s)}},"chunk-"+t,t)}};var t=(t,r)=>{var i,a,o=r[0],s=r[1],l=r[2],u=0;if(o.some(t=>0!==e[t])){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(l)l(n)}for(t&&t(r);u<o.length;u++)a=o[u],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunkshopping_frontend=self.webpackChunkshopping_frontend||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var r={};n.r(r),n.d(r,{hasBrowserEnv:()=>me,hasStandardBrowserEnv:()=>ye,hasStandardBrowserWebWorkerEnv:()=>be,navigator:()=>ve,origin:()=>we});var i=n(43),a=n(391);function o(e,t){return function(){return e.apply(t,arguments)}}const{toString:s}=Object.prototype,{getPrototypeOf:l}=Object,{iterator:u,toStringTag:c}=Symbol,d=(f=Object.create(null),e=>{const t=s.call(e);return f[t]||(f[t]=t.slice(8,-1).toLowerCase())});var f;const h=e=>(e=e.toLowerCase(),t=>d(t)===e),p=e=>t=>typeof t===e,{isArray:g}=Array,m=p("undefined");function v(e){return null!==e&&!m(e)&&null!==e.constructor&&!m(e.constructor)&&w(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const y=h("ArrayBuffer");const b=p("string"),w=p("function"),C=p("number"),k=e=>null!==e&&"object"===typeof e,E=e=>{if("object"!==d(e))return!1;const t=l(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(c in e)&&!(u in e)},S=h("Date"),I=h("File"),T=h("Blob"),_=h("FileList"),R=h("URLSearchParams"),[D,A,O,N]=["ReadableStream","Request","Response","Headers"].map(h);function P(e,t){let n,r,{allOwnKeys:i=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),g(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{if(v(e))return;const r=i?Object.getOwnPropertyNames(e):Object.keys(e),a=r.length;let o;for(n=0;n<a;n++)o=r[n],t.call(null,e[o],o,e)}}function x(e,t){if(v(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r,i=n.length;for(;i-- >0;)if(r=n[i],t===r.toLowerCase())return r;return null}const V="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,L=e=>!m(e)&&e!==V;const F=(M="undefined"!==typeof Uint8Array&&l(Uint8Array),e=>M&&e instanceof M);var M;const U=h("HTMLFormElement"),j=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),z=h("RegExp"),B=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};P(n,(n,i)=>{let a;!1!==(a=t(n,i,e))&&(r[i]=a||n)}),Object.defineProperties(e,r)};const K=h("AsyncFunction"),H=((e,t)=>{return e?setImmediate:t?(n="axios@".concat(Math.random()),r=[],V.addEventListener("message",e=>{let{source:t,data:i}=e;t===V&&i===n&&r.length&&r.shift()()},!1),e=>{r.push(e),V.postMessage(n,"*")}):e=>setTimeout(e);var n,r})("function"===typeof setImmediate,w(V.postMessage)),q="undefined"!==typeof queueMicrotask?queueMicrotask.bind(V):"undefined"!==typeof process&&process.nextTick||H,G={isArray:g,isArrayBuffer:y,isBuffer:v,isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||w(e.append)&&("formdata"===(t=d(e))||"object"===t&&w(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&y(e.buffer),t},isString:b,isNumber:C,isBoolean:e=>!0===e||!1===e,isObject:k,isPlainObject:E,isEmptyObject:e=>{if(!k(e)||v(e))return!1;try{return 0===Object.keys(e).length&&Object.getPrototypeOf(e)===Object.prototype}catch(Xf){return!1}},isReadableStream:D,isRequest:A,isResponse:O,isHeaders:N,isUndefined:m,isDate:S,isFile:I,isBlob:T,isRegExp:z,isFunction:w,isStream:e=>k(e)&&w(e.pipe),isURLSearchParams:R,isTypedArray:F,isFileList:_,forEach:P,merge:function e(){const{caseless:t,skipUndefined:n}=L(this)&&this||{},r={},i=(i,a)=>{const o=t&&x(r,a)||a;E(r[o])&&E(i)?r[o]=e(r[o],i):E(i)?r[o]=e({},i):g(i)?r[o]=i.slice():n&&m(i)||(r[o]=i)};for(let a=0,o=arguments.length;a<o;a++)arguments[a]&&P(arguments[a],i);return r},extend:function(e,t,n){let{allOwnKeys:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return P(t,(t,r)=>{n&&w(t)?e[r]=o(t,n):e[r]=t},{allOwnKeys:r}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let i,a,o;const s={};if(t=t||{},null==e)return t;do{for(i=Object.getOwnPropertyNames(e),a=i.length;a-- >0;)o=i[a],r&&!r(o,e,t)||s[o]||(t[o]=e[o],s[o]=!0);e=!1!==n&&l(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:d,kindOfTest:h,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(g(e))return e;let t=e.length;if(!C(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[u]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:U,hasOwnProperty:j,hasOwnProp:j,reduceDescriptors:B,freezeMethods:e=>{B(e,(t,n)=>{if(w(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];w(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))})},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach(e=>{n[e]=!0})};return g(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,n){return t.toUpperCase()+n}),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:x,global:V,isContextDefined:L,isSpecCompliantForm:function(e){return!!(e&&w(e.append)&&"FormData"===e[c]&&e[u])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(k(e)){if(t.indexOf(e)>=0)return;if(v(e))return e;if(!("toJSON"in e)){t[r]=e;const i=g(e)?[]:{};return P(e,(e,t)=>{const a=n(e,r+1);!m(a)&&(i[t]=a)}),t[r]=void 0,i}}return e};return n(e,0)},isAsyncFn:K,isThenable:e=>e&&(k(e)||w(e))&&w(e.then)&&w(e.catch),setImmediate:H,asap:q,isIterable:e=>null!=e&&w(e[u])};function W(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}G.inherits(W,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:G.toJSONObject(this.config),code:this.code,status:this.status}}});const $=W.prototype,J={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{J[e]={value:e}}),Object.defineProperties(W,J),Object.defineProperty($,"isAxiosError",{value:!0}),W.from=(e,t,n,r,i,a)=>{const o=Object.create($);G.toFlatObject(e,o,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e);const s=e&&e.message?e.message:"Error",l=null==t&&e?e.code:t;return W.call(o,s,l,n,r,i),e&&null==o.cause&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",a&&Object.assign(o,a),o};const Y=W;function Q(e){return G.isPlainObject(e)||G.isArray(e)}function X(e){return G.endsWith(e,"[]")?e.slice(0,-2):e}function Z(e,t,n){return e?e.concat(t).map(function(e,t){return e=X(e),!n&&t?"["+e+"]":e}).join(n?".":""):t}const ee=G.toFlatObject(G,{},null,function(e){return/^is[A-Z]/.test(e)});const te=function(e,t,n){if(!G.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=G.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!G.isUndefined(t[e])})).metaTokens,i=n.visitor||u,a=n.dots,o=n.indexes,s=(n.Blob||"undefined"!==typeof Blob&&Blob)&&G.isSpecCompliantForm(t);if(!G.isFunction(i))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(G.isDate(e))return e.toISOString();if(G.isBoolean(e))return e.toString();if(!s&&G.isBlob(e))throw new Y("Blob is not supported. Use a Buffer instead.");return G.isArrayBuffer(e)||G.isTypedArray(e)?s&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function u(e,n,i){let s=e;if(e&&!i&&"object"===typeof e)if(G.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(G.isArray(e)&&function(e){return G.isArray(e)&&!e.some(Q)}(e)||(G.isFileList(e)||G.endsWith(n,"[]"))&&(s=G.toArray(e)))return n=X(n),s.forEach(function(e,r){!G.isUndefined(e)&&null!==e&&t.append(!0===o?Z([n],r,a):null===o?n:n+"[]",l(e))}),!1;return!!Q(e)||(t.append(Z(i,n,a),l(e)),!1)}const c=[],d=Object.assign(ee,{defaultVisitor:u,convertValue:l,isVisitable:Q});if(!G.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!G.isUndefined(n)){if(-1!==c.indexOf(n))throw Error("Circular reference detected in "+r.join("."));c.push(n),G.forEach(n,function(n,a){!0===(!(G.isUndefined(n)||null===n)&&i.call(t,n,G.isString(a)?a.trim():a,r,d))&&e(n,r?r.concat(a):[a])}),c.pop()}}(e),t};function ne(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function re(e,t){this._pairs=[],e&&te(e,this,t)}const ie=re.prototype;ie.append=function(e,t){this._pairs.push([e,t])},ie.toString=function(e){const t=e?function(t){return e.call(this,t,ne)}:ne;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};const ae=re;function oe(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function se(e,t,n){if(!t)return e;const r=n&&n.encode||oe;G.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let a;if(a=i?i(t,n):G.isURLSearchParams(t)?t.toString():new ae(t,n).toString(r),a){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+a}return e}const le=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){G.forEach(this.handlers,function(t){null!==t&&e(t)})}},ue={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1};function ce(e){return ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ce(e)}function de(e){var t=function(e,t){if("object"!=ce(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ce(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ce(t)?t:t+""}function fe(e,t,n){return(t=de(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function he(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?he(Object(n),!0).forEach(function(t){fe(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):he(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const ge={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:ae,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},me="undefined"!==typeof window&&"undefined"!==typeof document,ve="object"===typeof navigator&&navigator||void 0,ye=me&&(!ve||["ReactNative","NativeScript","NS"].indexOf(ve.product)<0),be="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,we=me&&window.location.href||"http://localhost",Ce=pe(pe({},r),ge);const ke=function(e){function t(e,n,r,i){let a=e[i++];if("__proto__"===a)return!0;const o=Number.isFinite(+a),s=i>=e.length;if(a=!a&&G.isArray(r)?r.length:a,s)return G.hasOwnProp(r,a)?r[a]=[r[a],n]:r[a]=n,!o;r[a]&&G.isObject(r[a])||(r[a]=[]);return t(e,n,r[a],i)&&G.isArray(r[a])&&(r[a]=function(e){const t={},n=Object.keys(e);let r;const i=n.length;let a;for(r=0;r<i;r++)a=n[r],t[a]=e[a];return t}(r[a])),!o}if(G.isFormData(e)&&G.isFunction(e.entries)){const n={};return G.forEachEntry(e,(e,r)=>{t(function(e){return G.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0])}(e),r,n,0)}),n}return null};const Ee={transitional:ue,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,i=G.isObject(e);i&&G.isHTMLForm(e)&&(e=new FormData(e));if(G.isFormData(e))return r?JSON.stringify(ke(e)):e;if(G.isArrayBuffer(e)||G.isBuffer(e)||G.isStream(e)||G.isFile(e)||G.isBlob(e)||G.isReadableStream(e))return e;if(G.isArrayBufferView(e))return e.buffer;if(G.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return te(e,new Ce.classes.URLSearchParams,pe({visitor:function(e,t,n,r){return Ce.isNode&&G.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((a=G.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return te(a?{"files[]":e}:e,t&&new t,this.formSerializer)}}return i||r?(t.setContentType("application/json",!1),function(e,t,n){if(G.isString(e))try{return(t||JSON.parse)(e),G.trim(e)}catch(Xf){if("SyntaxError"!==Xf.name)throw Xf}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||Ee.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(G.isResponse(e)||G.isReadableStream(e))return e;if(e&&G.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e,this.parseReviver)}catch(Xf){if(n){if("SyntaxError"===Xf.name)throw Y.from(Xf,Y.ERR_BAD_RESPONSE,this,null,this.response);throw Xf}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ce.classes.FormData,Blob:Ce.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};G.forEach(["delete","get","head","post","put","patch"],e=>{Ee.headers[e]={}});const Se=Ee,Ie=G.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Te=Symbol("internals");function _e(e){return e&&String(e).trim().toLowerCase()}function Re(e){return!1===e||null==e?e:G.isArray(e)?e.map(Re):String(e)}function De(e,t,n,r,i){return G.isFunction(r)?r.call(this,t,n):(i&&(t=n),G.isString(t)?G.isString(r)?-1!==t.indexOf(r):G.isRegExp(r)?r.test(t):void 0:void 0)}class Ae{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function i(e,t,n){const i=_e(t);if(!i)throw new Error("header name must be a non-empty string");const a=G.findKey(r,i);(!a||void 0===r[a]||!0===n||void 0===n&&!1!==r[a])&&(r[a||t]=Re(e))}const a=(e,t)=>G.forEach(e,(e,n)=>i(e,n,t));if(G.isPlainObject(e)||e instanceof this.constructor)a(e,t);else if(G.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))a((e=>{const t={};let n,r,i;return e&&e.split("\n").forEach(function(e){i=e.indexOf(":"),n=e.substring(0,i).trim().toLowerCase(),r=e.substring(i+1).trim(),!n||t[n]&&Ie[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t})(e),t);else if(G.isObject(e)&&G.isIterable(e)){let n,r,i={};for(const t of e){if(!G.isArray(t))throw TypeError("Object iterator must return a key-value pair");i[r=t[0]]=(n=i[r])?G.isArray(n)?[...n,t[1]]:[n,t[1]]:t[1]}a(i,t)}else null!=e&&i(t,e,n);return this}get(e,t){if(e=_e(e)){const n=G.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(G.isFunction(t))return t.call(this,e,n);if(G.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=_e(e)){const n=G.findKey(this,e);return!(!n||void 0===this[n]||t&&!De(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function i(e){if(e=_e(e)){const i=G.findKey(n,e);!i||t&&!De(0,n[i],i,t)||(delete n[i],r=!0)}}return G.isArray(e)?e.forEach(i):i(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const i=t[n];e&&!De(0,this[i],i,e,!0)||(delete this[i],r=!0)}return r}normalize(e){const t=this,n={};return G.forEach(this,(r,i)=>{const a=G.findKey(n,i);if(a)return t[a]=Re(r),void delete t[i];const o=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}(i):String(i).trim();o!==i&&delete t[i],t[o]=Re(r),n[o]=!0}),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return G.forEach(this,(n,r)=>{null!=n&&!1!==n&&(t[r]=e&&G.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(e=>{let[t,n]=e;return t+": "+n}).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.forEach(e=>t.set(e)),t}static accessor(e){const t=(this[Te]=this[Te]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=_e(e);t[r]||(!function(e,t){const n=G.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(e,n,i){return this[r].call(this,t,e,n,i)},configurable:!0})})}(n,e),t[r]=!0)}return G.isArray(e)?e.forEach(r):r(e),this}}Ae.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),G.reduceDescriptors(Ae.prototype,(e,t)=>{let{value:n}=e,r=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[r]=e}}}),G.freezeMethods(Ae);const Oe=Ae;function Ne(e,t){const n=this||Se,r=t||n,i=Oe.from(r.headers);let a=r.data;return G.forEach(e,function(e){a=e.call(n,a,i.normalize(),t?t.status:void 0)}),i.normalize(),a}function Pe(e){return!(!e||!e.__CANCEL__)}function xe(e,t,n){Y.call(this,null==e?"canceled":e,Y.ERR_CANCELED,t,n),this.name="CanceledError"}G.inherits(xe,Y,{__CANCEL__:!0});const Ve=xe;function Le(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new Y("Request failed with status code "+n.status,[Y.ERR_BAD_REQUEST,Y.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}const Fe=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i,a=0,o=0;return t=void 0!==t?t:1e3,function(s){const l=Date.now(),u=r[o];i||(i=l),n[a]=s,r[a]=l;let c=o,d=0;for(;c!==a;)d+=n[c++],c%=e;if(a=(a+1)%e,a===o&&(o=(o+1)%e),l-i<t)return;const f=u&&l-u;return f?Math.round(1e3*d/f):void 0}};const Me=function(e,t){let n,r,i=0,a=1e3/t;const o=function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();i=a,n=null,r&&(clearTimeout(r),r=null),e(...t)};return[function(){const e=Date.now(),t=e-i;for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];t>=a?o(l,e):(n=l,r||(r=setTimeout(()=>{r=null,o(n)},a-t)))},()=>n&&o(n)]},Ue=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=0;const i=Fe(50,250);return Me(n=>{const a=n.loaded,o=n.lengthComputable?n.total:void 0,s=a-r,l=i(s);r=a;e({loaded:a,total:o,progress:o?a/o:void 0,bytes:s,rate:l||void 0,estimated:l&&o&&a<=o?(o-a)/l:void 0,event:n,lengthComputable:null!=o,[t?"download":"upload"]:!0})},n)},je=(e,t)=>{const n=null!=e;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},ze=e=>function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return G.asap(()=>e(...n))},Be=Ce.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Ce.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Ce.origin),Ce.navigator&&/(msie|trident)/i.test(Ce.navigator.userAgent)):()=>!0,Ke=Ce.hasStandardBrowserEnv?{write(e,t,n,r,i,a){const o=[e+"="+encodeURIComponent(t)];G.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),G.isString(r)&&o.push("path="+r),G.isString(i)&&o.push("domain="+i),!0===a&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function He(e,t,n){let r=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(r||0==n)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const qe=e=>e instanceof Oe?pe({},e):e;function Ge(e,t){t=t||{};const n={};function r(e,t,n,r){return G.isPlainObject(e)&&G.isPlainObject(t)?G.merge.call({caseless:r},e,t):G.isPlainObject(t)?G.merge({},t):G.isArray(t)?t.slice():t}function i(e,t,n,i){return G.isUndefined(t)?G.isUndefined(e)?void 0:r(void 0,e,0,i):r(e,t,0,i)}function a(e,t){if(!G.isUndefined(t))return r(void 0,t)}function o(e,t){return G.isUndefined(t)?G.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function s(n,i,a){return a in t?r(n,i):a in e?r(void 0,n):void 0}const l={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:s,headers:(e,t,n)=>i(qe(e),qe(t),0,!0)};return G.forEach(Object.keys(pe(pe({},e),t)),function(r){const a=l[r]||i,o=a(e[r],t[r],r);G.isUndefined(o)&&a!==s||(n[r]=o)}),n}const We=e=>{const t=Ge({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:a,headers:o,auth:s}=t;if(t.headers=o=Oe.from(o),t.url=se(He(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),s&&o.set("Authorization","Basic "+btoa((s.username||"")+":"+(s.password?unescape(encodeURIComponent(s.password)):""))),G.isFormData(n))if(Ce.hasStandardBrowserEnv||Ce.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(G.isFunction(n.getHeaders)){const e=n.getHeaders(),t=["content-type","content-length"];Object.entries(e).forEach(e=>{let[n,r]=e;t.includes(n.toLowerCase())&&o.set(n,r)})}if(Ce.hasStandardBrowserEnv&&(r&&G.isFunction(r)&&(r=r(t)),r||!1!==r&&Be(t.url))){const e=i&&a&&Ke.read(a);e&&o.set(i,e)}return t},$e="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise(function(t,n){const r=We(e);let i=r.data;const a=Oe.from(r.headers).normalize();let o,s,l,u,c,{responseType:d,onUploadProgress:f,onDownloadProgress:h}=r;function p(){u&&u(),c&&c(),r.cancelToken&&r.cancelToken.unsubscribe(o),r.signal&&r.signal.removeEventListener("abort",o)}let g=new XMLHttpRequest;function m(){if(!g)return;const r=Oe.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders());Le(function(e){t(e),p()},function(e){n(e),p()},{data:d&&"text"!==d&&"json"!==d?g.response:g.responseText,status:g.status,statusText:g.statusText,headers:r,config:e,request:g}),g=null}g.open(r.method.toUpperCase(),r.url,!0),g.timeout=r.timeout,"onloadend"in g?g.onloadend=m:g.onreadystatechange=function(){g&&4===g.readyState&&(0!==g.status||g.responseURL&&0===g.responseURL.indexOf("file:"))&&setTimeout(m)},g.onabort=function(){g&&(n(new Y("Request aborted",Y.ECONNABORTED,e,g)),g=null)},g.onerror=function(t){const r=t&&t.message?t.message:"Network Error",i=new Y(r,Y.ERR_NETWORK,e,g);i.event=t||null,n(i),g=null},g.ontimeout=function(){let t=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const i=r.transitional||ue;r.timeoutErrorMessage&&(t=r.timeoutErrorMessage),n(new Y(t,i.clarifyTimeoutError?Y.ETIMEDOUT:Y.ECONNABORTED,e,g)),g=null},void 0===i&&a.setContentType(null),"setRequestHeader"in g&&G.forEach(a.toJSON(),function(e,t){g.setRequestHeader(t,e)}),G.isUndefined(r.withCredentials)||(g.withCredentials=!!r.withCredentials),d&&"json"!==d&&(g.responseType=r.responseType),h&&([l,c]=Ue(h,!0),g.addEventListener("progress",l)),f&&g.upload&&([s,u]=Ue(f),g.upload.addEventListener("progress",s),g.upload.addEventListener("loadend",u)),(r.cancelToken||r.signal)&&(o=t=>{g&&(n(!t||t.type?new Ve(null,e,g):t),g.abort(),g=null)},r.cancelToken&&r.cancelToken.subscribe(o),r.signal&&(r.signal.aborted?o():r.signal.addEventListener("abort",o)));const v=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(r.url);v&&-1===Ce.protocols.indexOf(v)?n(new Y("Unsupported protocol "+v+":",Y.ERR_BAD_REQUEST,e)):g.send(i||null)})},Je=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,r=new AbortController;const i=function(e){if(!n){n=!0,o();const t=e instanceof Error?e:this.reason;r.abort(t instanceof Y?t:new Ve(t instanceof Error?t.message:t))}};let a=t&&setTimeout(()=>{a=null,i(new Y("timeout ".concat(t," of ms exceeded"),Y.ETIMEDOUT))},t);const o=()=>{e&&(a&&clearTimeout(a),a=null,e.forEach(e=>{e.unsubscribe?e.unsubscribe(i):e.removeEventListener("abort",i)}),e=null)};e.forEach(e=>e.addEventListener("abort",i));const{signal:s}=r;return s.unsubscribe=()=>G.asap(o),s}};function Ye(e,t){this.v=e,this.k=t}function Qe(e){return function(){return new Xe(e.apply(this,arguments))}}function Xe(e){var t,n;function r(t,n){try{var a=e[t](n),o=a.value,s=o instanceof Ye;Promise.resolve(s?o.v:o).then(function(n){if(s){var l="return"===t?"return":"next";if(!o.k||n.done)return r(l,n);n=e[l](n).value}i(a.done?"return":"normal",n)},function(e){r("throw",e)})}catch(e){i("throw",e)}}function i(e,i){switch(e){case"return":t.resolve({value:i,done:!0});break;case"throw":t.reject(i);break;default:t.resolve({value:i,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,i){return new Promise(function(a,o){var s={key:e,arg:i,resolve:a,reject:o,next:null};n?n=n.next=s:(t=n=s,r(e,i))})},"function"!=typeof e.return&&(this.return=void 0)}function Ze(e){return new Ye(e,0)}function et(e){var t={},n=!1;function r(t,r){return n=!0,r=new Promise(function(n){n(e[t](r))}),{done:!1,value:new Ye(r,1)}}return t["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(e){return n?(n=!1,e):r("next",e)},"function"==typeof e.throw&&(t.throw=function(e){if(n)throw n=!1,e;return r("throw",e)}),"function"==typeof e.return&&(t.return=function(e){return n?(n=!1,e):r("return",e)}),t}function tt(e){var t,n,r,i=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,r=Symbol.iterator);i--;){if(n&&null!=(t=e[n]))return t.call(e);if(r&&null!=(t=e[r]))return new nt(t.call(e));n="@@asyncIterator",r="@@iterator"}throw new TypeError("Object is not async iterable")}function nt(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then(function(e){return{value:e,done:t}})}return nt=function(e){this.s=e,this.n=e.next},nt.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new nt(e)}Xe.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},Xe.prototype.next=function(e){return this._invoke("next",e)},Xe.prototype.throw=function(e){return this._invoke("throw",e)},Xe.prototype.return=function(e){return this._invoke("return",e)};const rt=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let r,i=0;for(;i<n;)r=i+t,yield e.slice(i,r),i=r},it=function(){var e=Qe(function*(e,t){var n,r=!1,i=!1;try{for(var a,o=tt(at(e));r=!(a=yield Ze(o.next())).done;r=!1){const e=a.value;yield*et(tt(rt(e,t)))}}catch(s){i=!0,n=s}finally{try{r&&null!=o.return&&(yield Ze(o.return()))}finally{if(i)throw n}}});return function(t,n){return e.apply(this,arguments)}}(),at=function(){var e=Qe(function*(e){if(e[Symbol.asyncIterator])return void(yield*et(tt(e)));const t=e.getReader();try{for(;;){const{done:e,value:n}=yield Ze(t.read());if(e)break;yield n}}finally{yield Ze(t.cancel())}});return function(t){return e.apply(this,arguments)}}(),ot=(e,t,n,r)=>{const i=it(e,t);let a,o=0,s=e=>{a||(a=!0,r&&r(e))};return new ReadableStream({async pull(e){try{const{done:t,value:r}=await i.next();if(t)return s(),void e.close();let a=r.byteLength;if(n){let e=o+=a;n(e)}e.enqueue(new Uint8Array(r))}catch(t){throw s(t),t}},cancel:e=>(s(e),i.return())},{highWaterMark:2})},{isFunction:st}=G,lt=(e=>{let{Request:t,Response:n}=e;return{Request:t,Response:n}})(G.global),{ReadableStream:ut,TextEncoder:ct}=G.global,dt=function(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return!!e(...n)}catch(Xf){return!1}},ft=e=>{e=G.merge.call({skipUndefined:!0},lt,e);const{fetch:t,Request:n,Response:r}=e,i=t?st(t):"function"===typeof fetch,a=st(n),o=st(r);if(!i)return!1;const s=i&&st(ut),l=i&&("function"===typeof ct?(u=new ct,e=>u.encode(e)):async e=>new Uint8Array(await new n(e).arrayBuffer()));var u;const c=a&&s&&dt(()=>{let e=!1;const t=new n(Ce.origin,{body:new ut,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),d=o&&s&&dt(()=>G.isReadableStream(new r("").body)),f={stream:d&&(e=>e.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!f[e]&&(f[e]=(t,n)=>{let r=t&&t[e];if(r)return r.call(t);throw new Y("Response type '".concat(e,"' is not supported"),Y.ERR_NOT_SUPPORT,n)})});const h=async(e,t)=>{const r=G.toFiniteNumber(e.getContentLength());return null==r?(async e=>{if(null==e)return 0;if(G.isBlob(e))return e.size;if(G.isSpecCompliantForm(e)){const t=new n(Ce.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return G.isArrayBufferView(e)||G.isArrayBuffer(e)?e.byteLength:(G.isURLSearchParams(e)&&(e+=""),G.isString(e)?(await l(e)).byteLength:void 0)})(t):r};return async e=>{let{url:i,method:o,data:s,signal:l,cancelToken:u,timeout:p,onDownloadProgress:g,onUploadProgress:m,responseType:v,headers:y,withCredentials:b="same-origin",fetchOptions:w}=We(e),C=t||fetch;v=v?(v+"").toLowerCase():"text";let k=Je([l,u&&u.toAbortSignal()],p),E=null;const S=k&&k.unsubscribe&&(()=>{k.unsubscribe()});let I;try{if(m&&c&&"get"!==o&&"head"!==o&&0!==(I=await h(y,s))){let e,t=new n(i,{method:"POST",body:s,duplex:"half"});if(G.isFormData(s)&&(e=t.headers.get("content-type"))&&y.setContentType(e),t.body){const[e,n]=je(I,Ue(ze(m)));s=ot(t.body,65536,e,n)}}G.isString(b)||(b=b?"include":"omit");const t=a&&"credentials"in n.prototype,l=pe(pe({},w),{},{signal:k,method:o.toUpperCase(),headers:y.normalize().toJSON(),body:s,duplex:"half",credentials:t?b:void 0});E=a&&new n(i,l);let u=await(a?C(E,w):C(i,l));const p=d&&("stream"===v||"response"===v);if(d&&(g||p&&S)){const e={};["status","statusText","headers"].forEach(t=>{e[t]=u[t]});const t=G.toFiniteNumber(u.headers.get("content-length")),[n,i]=g&&je(t,Ue(ze(g),!0))||[];u=new r(ot(u.body,65536,n,()=>{i&&i(),S&&S()}),e)}v=v||"text";let T=await f[G.findKey(f,v)||"text"](u,e);return!p&&S&&S(),await new Promise((t,n)=>{Le(t,n,{data:T,headers:Oe.from(u.headers),status:u.status,statusText:u.statusText,config:e,request:E})})}catch(T){if(S&&S(),T&&"TypeError"===T.name&&/Load failed|fetch/i.test(T.message))throw Object.assign(new Y("Network Error",Y.ERR_NETWORK,e,E),{cause:T.cause||T});throw Y.from(T,T&&T.code,e,E)}}},ht=new Map,pt=e=>{let t=e?e.env:{};const{fetch:n,Request:r,Response:i}=t,a=[r,i,n];let o,s,l=a.length,u=ht;for(;l--;)o=a[l],s=u.get(o),void 0===s&&u.set(o,s=l?new Map:ft(t)),u=s;return s},gt=(pt(),{http:null,xhr:$e,fetch:{get:pt}});G.forEach(gt,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(Xf){}Object.defineProperty(e,"adapterName",{value:t})}});const mt=e=>"- ".concat(e),vt=e=>G.isFunction(e)||null===e||!1===e,yt=(e,t)=>{e=G.isArray(e)?e:[e];const{length:n}=e;let r,i;const a={};for(let o=0;o<n;o++){let n;if(r=e[o],i=r,!vt(r)&&(i=gt[(n=String(r)).toLowerCase()],void 0===i))throw new Y("Unknown adapter '".concat(n,"'"));if(i&&(G.isFunction(i)||(i=i.get(t))))break;a[n||"#"+o]=i}if(!i){const e=Object.entries(a).map(e=>{let[t,n]=e;return"adapter ".concat(t," ")+(!1===n?"is not supported by the environment":"is not available in the build")});let t=n?e.length>1?"since :\n"+e.map(mt).join("\n"):" "+mt(e[0]):"as no adapter specified";throw new Y("There is no suitable adapter to dispatch the request "+t,"ERR_NOT_SUPPORT")}return i};function bt(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Ve(null,e)}function wt(e){bt(e),e.headers=Oe.from(e.headers),e.data=Ne.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return yt(e.adapter||Se.adapter,e)(e).then(function(t){return bt(e),t.data=Ne.call(e,e.transformResponse,t),t.headers=Oe.from(t.headers),t},function(t){return Pe(t)||(bt(e),t&&t.response&&(t.response.data=Ne.call(e,e.transformResponse,t.response),t.response.headers=Oe.from(t.response.headers))),Promise.reject(t)})}const Ct="1.12.2",kt={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{kt[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const Et={};kt.transitional=function(e,t,n){function r(e,t){return"[Axios v"+Ct+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,i,a)=>{if(!1===e)throw new Y(r(i," has been removed"+(t?" in "+t:"")),Y.ERR_DEPRECATED);return t&&!Et[i]&&(Et[i]=!0,console.warn(r(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,a)}},kt.spelling=function(e){return(t,n)=>(console.warn("".concat(n," is likely a misspelling of ").concat(e)),!0)};const St={assertOptions:function(e,t,n){if("object"!==typeof e)throw new Y("options must be an object",Y.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const a=r[i],o=t[a];if(o){const t=e[a],n=void 0===t||o(t,a,e);if(!0!==n)throw new Y("option "+a+" must be "+n,Y.ERR_BAD_OPTION_VALUE);continue}if(!0!==n)throw new Y("Unknown option "+a,Y.ERR_BAD_OPTION)}},validators:kt},It=St.validators;class Tt{constructor(e){this.defaults=e||{},this.interceptors={request:new le,response:new le}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}catch(Xf){}}throw n}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=Ge(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:i}=t;void 0!==n&&St.assertOptions(n,{silentJSONParsing:It.transitional(It.boolean),forcedJSONParsing:It.transitional(It.boolean),clarifyTimeoutError:It.transitional(It.boolean)},!1),null!=r&&(G.isFunction(r)?t.paramsSerializer={serialize:r}:St.assertOptions(r,{encode:It.function,serialize:It.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),St.assertOptions(t,{baseUrl:It.spelling("baseURL"),withXsrfToken:It.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let a=i&&G.merge(i.common,i[t.method]);i&&G.forEach(["delete","get","head","post","put","patch","common"],e=>{delete i[e]}),t.headers=Oe.concat(a,i);const o=[];let s=!0;this.interceptors.request.forEach(function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(s=s&&e.synchronous,o.unshift(e.fulfilled,e.rejected))});const l=[];let u;this.interceptors.response.forEach(function(e){l.push(e.fulfilled,e.rejected)});let c,d=0;if(!s){const e=[wt.bind(this),void 0];for(e.unshift(...o),e.push(...l),c=e.length,u=Promise.resolve(t);d<c;)u=u.then(e[d++],e[d++]);return u}c=o.length;let f=t;for(;d<c;){const e=o[d++],t=o[d++];try{f=e(f)}catch(h){t.call(this,h);break}}try{u=wt.call(this,f)}catch(h){return Promise.reject(h)}for(d=0,c=l.length;d<c;)u=u.then(l[d++],l[d++]);return u}getUri(e){return se(He((e=Ge(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}G.forEach(["delete","get","head","options"],function(e){Tt.prototype[e]=function(t,n){return this.request(Ge(n||{},{method:e,url:t,data:(n||{}).data}))}}),G.forEach(["post","put","patch"],function(e){function t(t){return function(n,r,i){return this.request(Ge(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}Tt.prototype[e]=t(),Tt.prototype[e+"Form"]=t(!0)});const _t=Tt;class Rt{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(e){t=e});const n=this;this.promise.then(e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null}),this.promise.then=e=>{let t;const r=new Promise(e=>{n.subscribe(e),t=e}).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e(function(e,r,i){n.reason||(n.reason=new Ve(e,r,i),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;const t=new Rt(function(t){e=t});return{token:t,cancel:e}}}const Dt=Rt;const At={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(At).forEach(e=>{let[t,n]=e;At[n]=t});const Ot=At;const Nt=function e(t){const n=new _t(t),r=o(_t.prototype.request,n);return G.extend(r,_t.prototype,n,{allOwnKeys:!0}),G.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(Ge(t,n))},r}(Se);Nt.Axios=_t,Nt.CanceledError=Ve,Nt.CancelToken=Dt,Nt.isCancel=Pe,Nt.VERSION=Ct,Nt.toFormData=te,Nt.AxiosError=Y,Nt.Cancel=Nt.CanceledError,Nt.all=function(e){return Promise.all(e)},Nt.spread=function(e){return function(t){return e.apply(null,t)}},Nt.isAxiosError=function(e){return G.isObject(e)&&!0===e.isAxiosError},Nt.mergeConfig=Ge,Nt.AxiosHeaders=Oe,Nt.formToJSON=e=>ke(G.isHTMLForm(e)?new FormData(e):e),Nt.getAdapter=yt,Nt.HttpStatusCode=Ot,Nt.default=Nt;const Pt=Nt;var xt=n(579);const Vt=e=>{let{product:t,onAddToCart:n}=e;return(0,xt.jsxs)("div",{className:"product-card",children:[(0,xt.jsx)("img",{src:t.image,alt:t.name,className:"product-image"}),(0,xt.jsxs)("div",{className:"product-info",children:[(0,xt.jsx)("h3",{className:"product-name",children:t.name}),(0,xt.jsx)("p",{className:"product-description",children:t.description}),(0,xt.jsxs)("div",{className:"product-footer",children:[(0,xt.jsxs)("span",{className:"product-price",children:["$",t.price]}),(0,xt.jsx)("button",{className:"add-to-cart-btn",onClick:()=>{n(t.id)},children:"Add to Cart"})]})]})]})},Lt=e=>{let{products:t,onAddToCart:n}=e;return 0===t.length?(0,xt.jsxs)("div",{className:"no-products",children:[(0,xt.jsx)("h2",{children:"No products found"}),(0,xt.jsx)("p",{children:"Try searching for something else"})]}):(0,xt.jsxs)("div",{className:"product-list",children:[(0,xt.jsx)("h2",{children:"Products"}),(0,xt.jsx)("div",{className:"products-grid",children:t.map(e=>(0,xt.jsx)(Vt,{product:e,onAddToCart:n},e.id))})]})},Ft=e=>{let{item:t,onRemove:n,onUpdateQuantity:r,isKameleoonActive:i}=e;const{product:a,quantity:o,productId:s}=t,l=e=>{e<1?n(s):r(s,e)};return(0,xt.jsxs)("div",{className:"cart-item ".concat(i?"cart-item-variation":""),children:[(0,xt.jsx)("img",{src:a.image,alt:a.name,className:"cart-item-image"}),(0,xt.jsxs)("div",{className:"cart-item-details",children:[(0,xt.jsx)("h4",{className:"cart-item-name",children:a.name}),(0,xt.jsxs)("p",{className:"cart-item-price",children:["$",a.price]})]}),(0,xt.jsxs)("div",{className:"cart-item-controls",children:[(0,xt.jsxs)("div",{className:"quantity-controls",children:[(0,xt.jsx)("button",{className:"quantity-btn",onClick:()=>l(o-1),children:"-"}),(0,xt.jsx)("span",{className:"quantity",children:o}),(0,xt.jsx)("button",{className:"quantity-btn",onClick:()=>l(o+1),children:"+"})]}),(0,xt.jsxs)("div",{className:"cart-item-total",children:["$",(a.price*o).toFixed(2)]}),(0,xt.jsx)("button",{className:"remove-btn",onClick:()=>{n(s)},children:"Remove"})]})]})},Mt=e=>{let{cart:t,products:n,isKameleoonActive:r,onRemove:i,onUpdateQuantity:a,onClose:o,onCheckout:s}=e;const l=t.map(e=>{const t=n.find(t=>t.id===e.productId);return pe(pe({},e),{},{product:t})}).filter(e=>e.product);return(0,xt.jsxs)("div",{className:"cart",children:[(0,xt.jsxs)("div",{className:"cart-header",children:[(0,xt.jsx)("h2",{children:"Shopping Cart"}),(0,xt.jsx)("button",{className:"close-cart-btn",onClick:o,children:"\u2715"})]}),0===l.length?(0,xt.jsxs)("div",{className:"empty-cart",children:[(0,xt.jsx)("p",{children:"Your cart is empty"}),(0,xt.jsx)("button",{className:"continue-shopping-btn",onClick:o,children:"Continue Shopping"})]}):(0,xt.jsxs)(xt.Fragment,{children:[(0,xt.jsx)("div",{className:"cart-items",children:l.map(e=>(0,xt.jsx)(Ft,{item:e,onRemove:i,onUpdateQuantity:a,isKameleoonActive:r},e.productId))}),(0,xt.jsxs)("div",{className:"cart-summary",children:[(0,xt.jsxs)("div",{className:"cart-total",children:[(0,xt.jsxs)("p",{children:["Total Items: ",l.reduce((e,t)=>e+t.quantity,0)]}),(0,xt.jsxs)("p",{className:"total-price",children:["Total: $",l.reduce((e,t)=>e+t.product.price*t.quantity,0).toFixed(2)]})]}),(0,xt.jsxs)("div",{className:"cart-actions",children:[(0,xt.jsx)("button",{className:"continue-shopping-btn",onClick:o,children:"Continue Shopping"}),(0,xt.jsx)("button",{className:"checkout-btn",onClick:s,id:"kameleoon-checkout-btn",children:"Checkout"})]})]})]})]})};function Ut(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}const jt=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},zt={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],a=i+1<e.length,o=a?e[i+1]:0,s=i+2<e.length,l=s?e[i+2]:0,u=t>>2,c=(3&t)<<4|o>>4;let d=(15&o)<<2|l>>6,f=63&l;s||(f=64,a||(d=64)),r.push(n[u],n[c],n[d],n[f])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(jt(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){const a=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{const a=e[n++],o=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&a)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;const o=i<e.length?n[e.charAt(i)]:64;++i;const s=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==a||null==o||null==s)throw new Bt;const l=t<<2|a>>4;if(r.push(l),64!==o){const e=a<<4&240|o>>2;if(r.push(e),64!==s){const e=o<<6&192|s;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Bt extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Kt=function(e){return function(e){const t=jt(e);return zt.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Ht=function(e){try{return zt.decodeString(e,!0)}catch(Xf){console.error("base64Decode failed: ",Xf)}return null};const qt=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,Gt=()=>{try{return qt()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(Xf){return}const t=e&&Ht(e[1]);return t&&JSON.parse(t)})()}catch(Xf){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(Xf))}},Wt=e=>{var t;return null===(t=Gt())||void 0===t||null===(t=t.emulatorHosts)||void 0===t?void 0:t[e]},$t=()=>{var e;return null===(e=Gt())||void 0===e?void 0:e.config},Jt=e=>{var t;return null===(t=Gt())||void 0===t?void 0:t["_".concat(e)]};class Yt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function Qt(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch(t){return!1}}const Xt={};let Zt=!1;function en(e,t){if("undefined"===typeof window||"undefined"===typeof document||!Qt(window.location.host)||Xt[e]===t||Xt[e]||Zt)return;function n(e){return"__firebase__banner__".concat(e)}Xt[e]=t;const r="__firebase__banner",i=function(){const e={prod:[],emulator:[]};for(const t of Object.keys(Xt))Xt[t]?e.emulator.push(t):e.prod.push(t);return e}().prod.length>0;function a(){const e=document.createElement("span");return e.style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{Zt=!0,function(){const e=document.getElementById(r);e&&e.remove()}()},e}function o(){const e=function(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}(r),t=n("text"),o=document.getElementById(t)||document.createElement("span"),s=n("learnmore"),l=document.getElementById(s)||document.createElement("a"),u=n("preprendIcon"),c=document.getElementById(u)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(e.created){const t=e.element;!function(e){e.style.display="flex",e.style.background="#7faaf0",e.style.position="fixed",e.style.bottom="5px",e.style.left="5px",e.style.padding=".5em",e.style.borderRadius="5px",e.style.alignItems="center"}(t),function(e,t){e.setAttribute("id",t),e.innerText="Learn more",e.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",e.setAttribute("target","__blank"),e.style.paddingLeft="5px",e.style.textDecoration="underline"}(l,s);const n=a();!function(e,t){e.setAttribute("width","24"),e.setAttribute("id",t),e.setAttribute("height","24"),e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("fill","none"),e.style.marginLeft="-6px"}(c,u),t.append(c,o,l,n),document.body.appendChild(t)}i?(o.innerText="Preview backend disconnected.",c.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(c.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',o.innerText="Preview backend running in this workspace."),o.setAttribute("id",t)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",o):o()}function tn(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function nn(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function rn(){try{return"object"===typeof indexedDB}catch(Xf){return!1}}function an(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})}class on extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,on.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,sn.prototype.create)}}class sn{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(ln,(e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")})}(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new on(n,a,t)}}const ln=/\{\$([^}]+)}/g;function un(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],a=t[i];if(cn(n)&&cn(a)){if(!un(n,a))return!1}else if(n!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function cn(e){return null!==e&&"object"===typeof e}function dn(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function fn(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function hn(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class pn{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=gn),void 0===r.error&&(r.error=gn),void 0===r.complete&&(r.complete=gn);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(Xf){}}),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(Xf){"undefined"!==typeof console&&console.error&&console.error(Xf)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function gn(){}function mn(e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;const n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3)*Math.pow(t,e),r=Math.round(.5*n*(Math.random()-.5)*2);return Math.min(144e5,n+r)}function vn(e){return e&&e._delegate?e._delegate:e}class yn{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const bn="[DEFAULT]";class wn{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Yt;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(Xf){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(Xf){if(r)return null;throw Xf}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:bn})}catch(Xf){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(Xf){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bn;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bn;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bn;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,a]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&a.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===bn?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(a){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bn;return this.component?this.component.multipleInstances?e:bn:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Cn{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new wn(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const kn=[];var En;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(En||(En={}));const Sn={debug:En.DEBUG,verbose:En.VERBOSE,info:En.INFO,warn:En.WARN,error:En.ERROR,silent:En.SILENT},In=En.INFO,Tn={[En.DEBUG]:"log",[En.VERBOSE]:"log",[En.INFO]:"info",[En.WARN]:"warn",[En.ERROR]:"error"},_n=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=Tn[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,a=new Array(i>2?i-2:0),o=2;o<i;o++)a[o-2]=arguments[o];console[r]("[".concat(n,"]  ").concat(e.name,":"),...a)};class Rn{constructor(e){this.name=e,this._logLevel=In,this._logHandler=_n,this._userLogHandler=null,kn.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in En))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?Sn[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,En.DEBUG,...t),this._logHandler(this,En.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,En.VERBOSE,...t),this._logHandler(this,En.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,En.INFO,...t),this._logHandler(this,En.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,En.WARN,...t),this._logHandler(this,En.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,En.ERROR,...t),this._logHandler(this,En.ERROR,...t)}}let Dn,An;const On=new WeakMap,Nn=new WeakMap,Pn=new WeakMap,xn=new WeakMap,Vn=new WeakMap;let Ln={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Nn.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Pn.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Un(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Fn(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(An||(An=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(jn(this),n),Un(On.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Un(e.apply(jn(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const a=e.call(jn(this),t,...r);return Pn.set(a,t.sort?t.sort():[t]),Un(a)}}function Mn(e){return"function"===typeof e?Fn(e):(e instanceof IDBTransaction&&function(e){if(Nn.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=()=>{t(),r()},a=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)});Nn.set(e,t)}(e),t=e,(Dn||(Dn=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>t instanceof e)?new Proxy(e,Ln):e);var t}function Un(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",a)},i=()=>{t(Un(e.result)),r()},a=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)});return t.then(t=>{t instanceof IDBCursor&&On.set(t,e)}).catch(()=>{}),Vn.set(t,e),t}(e);if(xn.has(e))return xn.get(e);const t=Mn(e);return t!==e&&(xn.set(e,t),Vn.set(t,e)),t}const jn=e=>Vn.get(e);function zn(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:a}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=indexedDB.open(e,t),s=Un(o);return r&&o.addEventListener("upgradeneeded",e=>{r(Un(o.result),e.oldVersion,e.newVersion,Un(o.transaction),e)}),n&&o.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),s.then(e=>{a&&e.addEventListener("close",()=>a()),i&&e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),s}const Bn=["get","getKey","getAll","getAllKeys","count"],Kn=["put","add","delete","clear"],Hn=new Map;function qn(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(Hn.get(t))return Hn.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Kn.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Bn.includes(n))return;const a=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let a=t.store;for(var o=arguments.length,s=new Array(o>1?o-1:0),l=1;l<o;l++)s[l-1]=arguments[l];return r&&(a=a.index(s.shift())),(await Promise.all([a[n](...s),i&&t.done]))[0]};return Hn.set(t,a),a}Ln=(e=>pe(pe({},e),{},{get:(t,n,r)=>qn(t,n)||e.get(t,n,r),has:(t,n)=>!!qn(t,n)||e.has(t,n)}))(Ln);class Gn{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null}).filter(e=>e).join(" ")}}const Wn="@firebase/app",$n="0.14.3",Jn=new Rn("@firebase/app"),Yn="@firebase/app-compat",Qn="@firebase/analytics-compat",Xn="@firebase/analytics",Zn="@firebase/app-check-compat",er="@firebase/app-check",tr="@firebase/auth",nr="@firebase/auth-compat",rr="@firebase/database",ir="@firebase/data-connect",ar="@firebase/database-compat",or="@firebase/functions",sr="@firebase/functions-compat",lr="@firebase/installations",ur="@firebase/installations-compat",cr="@firebase/messaging",dr="@firebase/messaging-compat",fr="@firebase/performance",hr="@firebase/performance-compat",pr="@firebase/remote-config",gr="@firebase/remote-config-compat",mr="@firebase/storage",vr="@firebase/storage-compat",yr="@firebase/firestore",br="@firebase/ai",wr="@firebase/firestore-compat",Cr="firebase",kr="[DEFAULT]",Er={[Wn]:"fire-core",[Yn]:"fire-core-compat",[Xn]:"fire-analytics",[Qn]:"fire-analytics-compat",[er]:"fire-app-check",[Zn]:"fire-app-check-compat",[tr]:"fire-auth",[nr]:"fire-auth-compat",[rr]:"fire-rtdb",[ir]:"fire-data-connect",[ar]:"fire-rtdb-compat",[or]:"fire-fn",[sr]:"fire-fn-compat",[lr]:"fire-iid",[ur]:"fire-iid-compat",[cr]:"fire-fcm",[dr]:"fire-fcm-compat",[fr]:"fire-perf",[hr]:"fire-perf-compat",[pr]:"fire-rc",[gr]:"fire-rc-compat",[mr]:"fire-gcs",[vr]:"fire-gcs-compat",[yr]:"fire-fst",[wr]:"fire-fst-compat",[br]:"fire-vertex","fire-js":"fire-js",[Cr]:"fire-js-all"},Sr=new Map,Ir=new Map,Tr=new Map;function _r(e,t){try{e.container.addComponent(t)}catch(Xf){Jn.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),Xf)}}function Rr(e){const t=e.name;if(Tr.has(t))return Jn.debug("There were multiple attempts to register component ".concat(t,".")),!1;Tr.set(t,e);for(const n of Sr.values())_r(n,e);for(const n of Ir.values())_r(n,e);return!0}function Dr(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Ar(e){return null!==e&&void 0!==e&&void 0!==e.settings}const Or=new sn("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Nr{constructor(e,t,n){this._isDeleted=!1,this._options=pe({},e),this._config=pe({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new yn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Or.create("app-deleted",{appName:this._name})}}const Pr="12.3.0";function xr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=pe({name:kr,automaticDataCollectionEnabled:!0},t),i=r.name;if("string"!==typeof i||!i)throw Or.create("bad-app-name",{appName:String(i)});if(n||(n=$t()),!n)throw Or.create("no-options");const a=Sr.get(i);if(a){if(un(n,a.options)&&un(r,a.config))return a;throw Or.create("duplicate-app",{appName:i})}const o=new Cn(i);for(const l of Tr.values())o.addComponent(l);const s=new Nr(n,r,o);return Sr.set(i,s),s}function Vr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kr;const t=Sr.get(e);if(!t&&e===kr&&$t())return xr();if(!t)throw Or.create("no-app",{appName:e});return t}function Lr(e,t,n){var r;let i=null!==(r=Er[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&e.push("and"),o&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Jn.warn(e.join(" "))}Rr(new yn("".concat(i,"-version"),()=>({library:i,version:t}),"VERSION"))}const Fr="firebase-heartbeat-store";let Mr=null;function Ur(){return Mr||(Mr=zn("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(Fr)}catch(Xf){console.warn(Xf)}}}).catch(e=>{throw Or.create("idb-open",{originalErrorMessage:e.message})})),Mr}async function jr(e,t){try{const n=(await Ur()).transaction(Fr,"readwrite"),r=n.objectStore(Fr);await r.put(t,zr(e)),await n.done}catch(Xf){if(Xf instanceof on)Jn.warn(Xf.message);else{const t=Or.create("idb-set",{originalErrorMessage:null===Xf||void 0===Xf?void 0:Xf.message});Jn.warn(t.message)}}}function zr(e){return"".concat(e.name,"!").concat(e.options.appId)}class Br{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Hr(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){try{var e;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Kr();var t;if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats))if(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(e=>e.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(Xf){Jn.warn(Xf)}}async getHeartbeatsHeader(){try{var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=Kr(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),qr(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),qr(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=Kt(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(Xf){return Jn.warn(Xf),""}}}function Kr(){return(new Date).toISOString().substring(0,10)}class Hr{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!rn()&&an().then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await Ur()).transaction(Fr),n=await t.objectStore(Fr).get(zr(e));return await t.done,n}catch(Xf){if(Xf instanceof on)Jn.warn(Xf.message);else{const t=Or.create("idb-get",{originalErrorMessage:null===Xf||void 0===Xf?void 0:Xf.message});Jn.warn(t.message)}}}(this.app);return null!==e&&void 0!==e&&e.heartbeats?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){var t;const n=await this.read();return jr(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){if(await this._canUseIndexedDBPromise){var t;const n=await this.read();return jr(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function qr(e){return Kt(JSON.stringify({version:2,heartbeats:e})).length}var Gr;Gr="",Rr(new yn("platform-logger",e=>new Gn(e),"PRIVATE")),Rr(new yn("heartbeat",e=>new Br(e),"PRIVATE")),Lr(Wn,$n,Gr),Lr(Wn,$n,"esm2020"),Lr("fire-js","");const Wr=["providerId"],$r=["uid","auth","stsTokenManager"],Jr=["providerId","signInMethod"];function Yr(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Qr=Yr,Xr=new sn("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Zr=new Rn("@firebase/auth");function ei(e){if(Zr.logLevel<=En.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Zr.error("Auth (".concat(Pr,"): ").concat(e),...n)}}function ti(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw oi(e,...n)}function ni(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return oi(e,...n)}function ri(e,t,n){const r=pe(pe({},Qr()),{},{[t]:n});return new sn("auth","Firebase",r).create(t,{appName:e.name})}function ii(e){return ri(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ai(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&ti(e,"argument-error"),ri(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function oi(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return Xr.create(e,...n)}function si(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw oi(t,...r)}}function li(e){const t="INTERNAL ASSERTION FAILED: "+e;throw ei(t),new Error(t)}function ui(e,t){e||li(t)}function ci(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function di(){return"http:"===fi()||"https:"===fi()}function fi(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class hi{constructor(e,t){this.shortDelay=e,this.longDelay=t,ui(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tn())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(di()||nn()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function pi(e,t){ui(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class gi{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void li("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void li("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void li("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const mi={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},vi=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],yi=new hi(3e4,6e4);function bi(e,t){return e.tenantId&&!t.tenantId?pe(pe({},t),{},{tenantId:e.tenantId}):t}async function wi(e,t,n,r){return Ci(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},async()=>{let i={},a={};r&&("GET"===t?a=r:i={body:JSON.stringify(r)});const o=dn(pe({key:e.config.apiKey},a)).slice(1),s=await e._getAdditionalHeaders();s["Content-Type"]="application/json",e.languageCode&&(s["X-Firebase-Locale"]=e.languageCode);const l=pe({method:t,headers:s},i);return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),e.emulatorConfig&&Qt(e.emulatorConfig.host)&&(l.credentials="include"),gi.fetch()(await Ei(e,e.config.apiHost,n,o),l)})}async function Ci(e,t,n){e._canInitEmulator=!1;const r=pe(pe({},mi),t);try{const t=new Ii(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const a=await i.json();if("needConfirmation"in a)throw Ti(e,"account-exists-with-different-credential",a);if(i.ok&&!("errorMessage"in a))return a;{const t=i.ok?a.errorMessage:a.error.message,[n,o]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Ti(e,"credential-already-in-use",a);if("EMAIL_EXISTS"===n)throw Ti(e,"email-already-in-use",a);if("USER_DISABLED"===n)throw Ti(e,"user-disabled",a);const s=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw ri(e,s,o);ti(e,s)}}catch(Xf){if(Xf instanceof on)throw Xf;ti(e,"network-request-failed",{message:String(Xf)})}}async function ki(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const a=await wi(e,t,n,r,i);return"mfaPendingCredential"in a&&ti(e,"multi-factor-auth-required",{_serverResponse:a}),a}async function Ei(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r),a=e,o=a.config.emulator?pi(e.config,i):"".concat(e.config.apiScheme,"://").concat(i);if(vi.includes(n)&&(await a._persistenceManagerAvailable,"COOKIE"===a._getPersistenceType())){return a._getPersistence()._getFinalTarget(o).toString()}return o}function Si(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Ii{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(ni(this.auth,"network-request-failed")),yi.get())})}}function Ti(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=ni(e,t,r);return i.customData._tokenResponse=n,i}function _i(e){return void 0!==e&&void 0!==e.enterprise}class Ri{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Si(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Di(e,t){return wi(e,"GET","/v2/recaptchaConfig",bi(e,t))}async function Ai(e,t){return wi(e,"POST","/v1/accounts:lookup",t)}function Oi(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(Xf){}}function Ni(e){return 1e3*Number(e)}function Pi(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return ei("JWT malformed, contained fewer than 3 sections"),null;try{const e=Ht(n);return e?JSON.parse(e):(ei("Failed to decode base64 JWT payload"),null)}catch(Xf){return ei("Caught error parsing JWT payload as JSON",null===Xf||void 0===Xf?void 0:Xf.toString()),null}}function xi(e){const t=Pi(e);return si(t,"internal-error"),si("undefined"!==typeof t.exp,"internal-error"),si("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function Vi(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(Xf){throw Xf instanceof on&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(Xf)&&e.auth.currentUser===e&&await e.auth.signOut(),Xf}}class Li{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{var t;this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(Xf){return void((null===Xf||void 0===Xf?void 0:Xf.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class Fi{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Oi(this.lastLoginAt),this.creationTime=Oi(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Mi(e){var t;const n=e.auth,r=await e.getIdToken(),i=await Vi(e,Ai(n,{idToken:r}));si(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const a=i.users[0];e._notifyReloadListener(a);const o=null!==(t=a.providerUserInfo)&&void 0!==t&&t.length?Ui(a.providerUserInfo):[],s=function(e,t){const n=e.filter(e=>!t.some(t=>t.providerId===e.providerId));return[...n,...t]}(e.providerData,o),l=e.isAnonymous,u=!(e.email&&a.passwordHash)&&!(null!==s&&void 0!==s&&s.length),c=!!l&&u,d={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:s,metadata:new Fi(a.createdAt,a.lastLoginAt),isAnonymous:c};Object.assign(e,d)}function Ui(e){return e.map(e=>{let{providerId:t}=e,n=Ut(e,Wr);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}class ji{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){si(e.idToken,"internal-error"),si("undefined"!==typeof e.idToken,"internal-error"),si("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):xi(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){si(0!==e.length,"internal-error");const t=xi(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(si(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await Ci(e,{},async()=>{const n=dn({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,a=await Ei(e,r,"/v1/token","key=".concat(i)),o=await e._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const s={method:"POST",headers:o,body:n};return e.emulatorConfig&&Qt(e.emulatorConfig.host)&&(s.credentials="include"),gi.fetch()(a,s)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,a=new ji;return n&&(si("string"===typeof n,"internal-error",{appName:e}),a.refreshToken=n),r&&(si("string"===typeof r,"internal-error",{appName:e}),a.accessToken=r),i&&(si("number"===typeof i,"internal-error",{appName:e}),a.expirationTime=i),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ji,this.toJSON())}_performRefresh(){return li("not implemented")}}function zi(e,t){si("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class Bi{constructor(e){let{uid:t,auth:n,stsTokenManager:r}=e,i=Ut(e,$r);this.providerId="firebase",this.proactiveRefresh=new Li(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Fi(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await Vi(this,this.stsTokenManager.getToken(this.auth,e));return si(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=vn(e),r=await n.getIdToken(t),i=Pi(r);si(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a="object"===typeof i.firebase?i.firebase:void 0,o=null===a||void 0===a?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:Oi(Ni(i.auth_time)),issuedAtTime:Oi(Ni(i.iat)),expirationTime:Oi(Ni(i.exp)),signInProvider:o||null,signInSecondFactor:(null===a||void 0===a?void 0:a.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=vn(e);await Mi(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(si(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>pe({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Bi(pe(pe({},this),{},{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){si(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Mi(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ar(this.auth.app))return Promise.reject(ii(this.auth));const e=await this.getIdToken();return await Vi(this,async function(e,t){return wi(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return pe(pe({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>pe({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{},{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,a,o,s,l,u;const c=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,f=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,h=null!==(a=t.photoURL)&&void 0!==a?a:void 0,p=null!==(o=t.tenantId)&&void 0!==o?o:void 0,g=null!==(s=t._redirectEventId)&&void 0!==s?s:void 0,m=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:y,emailVerified:b,isAnonymous:w,providerData:C,stsTokenManager:k}=t;si(y&&k,e,"internal-error");const E=ji.fromJSON(this.name,k);si("string"===typeof y,e,"internal-error"),zi(c,e.name),zi(d,e.name),si("boolean"===typeof b,e,"internal-error"),si("boolean"===typeof w,e,"internal-error"),zi(f,e.name),zi(h,e.name),zi(p,e.name),zi(g,e.name),zi(m,e.name),zi(v,e.name);const S=new Bi({uid:y,auth:e,email:d,emailVerified:b,displayName:c,isAnonymous:w,photoURL:h,phoneNumber:f,tenantId:p,stsTokenManager:E,createdAt:m,lastLoginAt:v});return C&&Array.isArray(C)&&(S.providerData=C.map(e=>pe({},e))),g&&(S._redirectEventId=g),S}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new ji;r.updateFromServerResponse(t);const i=new Bi({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await Mi(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];si(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?Ui(r.providerUserInfo):[],a=!(r.email&&r.passwordHash)&&!(null!==i&&void 0!==i&&i.length),o=new ji;o.updateFromIdToken(n);const s=new Bi({uid:r.localId,auth:e,stsTokenManager:o,isAnonymous:a}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new Fi(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null!==i&&void 0!==i&&i.length)};return Object.assign(s,l),s}}const Ki=new Map;function Hi(e){ui(e instanceof Function,"Expected a class definition");let t=Ki.get(e);return t?(ui(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Ki.set(e,t),t)}class qi{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}qi.type="NONE";const Gi=qi;function Wi(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class $i{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=Wi(this.userKey,r.apiKey,i),this.fullPersistenceKey=Wi("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if("string"===typeof e){const t=await Ai(this.auth,{idToken:e}).catch(()=>{});return t?Bi._fromGetAccountInfoResponse(this.auth,t,e):null}return Bi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new $i(Hi(Gi),e,n);const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let i=r[0]||Hi(Gi);const a=Wi(n,e.config.apiKey,e.name);let o=null;for(const u of t)try{const t=await u._get(a);if(t){let n;if("string"===typeof t){const r=await Ai(e,{idToken:t}).catch(()=>{});if(!r)break;n=await Bi._fromGetAccountInfoResponse(e,r,t)}else n=Bi._fromJSON(e,t);u!==i&&(o=n),i=u;break}}catch(l){}const s=r.filter(e=>e._shouldAllowMigration);return i._shouldAllowMigration&&s.length?(i=s[0],o&&await i._set(a,o.toJSON()),await Promise.all(t.map(async e=>{if(e!==i)try{await e._remove(a)}catch(t){}})),new $i(i,e,n)):new $i(i,e,n)}}function Ji(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Zi(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Yi(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(ta(t))return"Blackberry";if(na(t))return"Webos";if(Qi(t))return"Safari";if((t.includes("chrome/")||Xi(t))&&!t.includes("edge/"))return"Chrome";if(ea(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function Yi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tn();return/firefox\//i.test(e)}function Qi(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:tn()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Xi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tn();return/crios\//i.test(e)}function Zi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tn();return/iemobile/i.test(e)}function ea(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tn();return/android/i.test(e)}function ta(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tn();return/blackberry/i.test(e)}function na(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tn();return/webos/i.test(e)}function ra(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tn();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function ia(){return function(){const e=tn();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function aa(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tn();return ra(e)||ea(e)||na(e)||ta(e)||/windows phone/i.test(e)||Zi(e)}function oa(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Ji(tn());break;case"Worker":t="".concat(Ji(tn()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Pr,"/").concat(r)}class sa{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,r)=>{try{n(e(t))}catch(Xf){r(Xf)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(Xf){t.reverse();for(const n of t)try{n()}catch(Ah){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===Xf||void 0===Xf?void 0:Xf.message})}}}class la{constructor(e){var t,n,r,i;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=a.minPasswordLength)&&void 0!==t?t:6,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),void 0!==a.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),void 0!==a.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),void 0!==a.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),void 0!==a.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(n=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==n?n:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,a,o;const s={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,s),this.validatePasswordCharacterOptions(e,s),s.isValid&&(s.isValid=null===(t=s.meetsMinPasswordLength)||void 0===t||t),s.isValid&&(s.isValid=null===(n=s.meetsMaxPasswordLength)||void 0===n||n),s.isValid&&(s.isValid=null===(r=s.containsLowercaseLetter)||void 0===r||r),s.isValid&&(s.isValid=null===(i=s.containsUppercaseLetter)||void 0===i||i),s.isValid&&(s.isValid=null===(a=s.containsNumericCharacter)||void 0===a||a),s.isValid&&(s.isValid=null===(o=s.containsNonAlphanumericCharacter)||void 0===o||o),s}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class ua{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new da(this),this.idTokenSubscription=new da(this),this.beforeStateQueue=new sa(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Xr,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(e=>this._resolvePersistenceManagerAvailable=e)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Hi(t)),this._initializationPromise=this.queue(async()=>{var n,r,i;if(!this._deleted&&(this.persistenceManager=await $i.create(this,e),null===(n=this._resolvePersistenceManagerAvailable)||void 0===n||n.call(this),!this._deleted)){if(null!==(r=this._popupRedirectResolver)&&void 0!==r&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(Xf){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(i=this.currentUser)||void 0===i?void 0:i.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await Ai(this,{idToken:e}),n=await Bi._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Ar(this.app)){const e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let n=t,r=!1;if(e&&this.config.authDomain){var i,a;await this.getOrInitRedirectPersistenceManager();const t=null===(i=this.redirectUser)||void 0===i?void 0:i._redirectEventId,o=null===(a=n)||void 0===a?void 0:a._redirectEventId,s=await this.tryRedirectSignIn(e);t&&t!==o||null===s||void 0===s||!s.user||(n=s.user,r=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(n)}catch(Xf){n=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(Xf))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return si(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(Xf){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Mi(e)}catch(Xf){if((null===Xf||void 0===Xf?void 0:Xf.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ar(this.app))return Promise.reject(ii(this));const t=e?vn(e):null;return t&&si(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&si(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ar(this.app)?Promise.reject(ii(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ar(this.app)?Promise.reject(ii(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Hi(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return wi(e,"GET","/v2/passwordPolicy",bi(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new la(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new sn("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return wi(e,"POST","/v2/accounts:revokeToken",bi(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Hi(e)||this._popupRedirectResolver;si(t,this,"argument-error"),this.redirectPersistenceManager=await $i.create(this,[Hi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(e=null===(t=this.currentUser)||void 0===t?void 0:t.uid)&&void 0!==e?e:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let a=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(si(o,this,"internal-error"),o.then(()=>{a||i(this.currentUser)}),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{a=!0,i()}}{const n=e.addObserver(t);return()=>{a=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return si(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=oa(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if(Ar(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return null!==t&&void 0!==t&&t.error&&function(e){if(Zr.logLevel<=En.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Zr.warn("Auth (".concat(Pr,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function ca(e){return vn(e)}class da{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new pn(e,t);return n.subscribe.bind(n)}(e=>this.observer=e)}get next(){return si(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let fa={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ha(e){return fa.loadJS(e)}function pa(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class ga{constructor(){this.enterprise=new ma}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class ma{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const va="NO_RECAPTCHA";class ya{constructor(e){this.type="recaptcha-enterprise",this.auth=ca(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;_i(i)?i.enterprise.ready(()=>{i.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n(va)})}):r(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new ga).execute("siteKey",{action:"verify"})}return new Promise((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{Di(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0!==r.recaptchaKey){const n=new Ri(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{n(e)})})})(this.auth).then(i=>{if(!t&&_i(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=fa.recaptchaEnterpriseScript;0!==t.length&&(t+=i),ha(t).then(()=>{n(i,e,r)}).catch(e=>{r(e)})}}).catch(e=>{r(e)})})}}async function ba(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const a=new ya(e);let o;if(i)o=va;else try{o=await a.verify(n)}catch(l){o=await a.verify(n,!0)}const s=pe({},t);if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in s){const e=s.phoneEnrollmentInfo.phoneNumber,t=s.phoneEnrollmentInfo.recaptchaToken;Object.assign(s,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in s){const e=s.phoneSignInInfo.recaptchaToken;Object.assign(s,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return s}return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function wa(e,t,n,r,i){if("EMAIL_PASSWORD_PROVIDER"===i){var a;if(null!==(a=e._getRecaptchaConfig())&&void 0!==a&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await ba(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch(async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await ba(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)})}if("PHONE_PROVIDER"===i){var o;if(null!==(o=e._getRecaptchaConfig())&&void 0!==o&&o.isProviderEnabled("PHONE_PROVIDER")){const i=await ba(e,t,n);return r(e,i).catch(async i=>{var a;if("AUDIT"===(null===(a=e._getRecaptchaConfig())||void 0===a?void 0:a.getProviderEnforcementState("PHONE_PROVIDER"))&&(i.code==="auth/".concat("missing-recaptcha-token")||i.code==="auth/".concat("invalid-app-credential"))){console.log("Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ".concat(n," flow."));const i=await ba(e,t,n,!1,!0);return r(e,i)}return Promise.reject(i)})}{const i=await ba(e,t,n,!1,!0);return r(e,i)}}return Promise.reject(i+" provider is not supported.")}async function Ca(e){const t=ca(e),n=await Di(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new Ri(n);if(null==t.tenantId?t._agentRecaptchaConfig=r:t._tenantRecaptchaConfigs[t.tenantId]=r,r.isAnyProviderEnabled()){new ya(t).verify()}}function ka(e,t,n){const r=ca(e);si(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!(null===n||void 0===n||!n.disableWarnings),a=Ea(t),{host:o,port:s}=function(e){const t=Ea(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Sa(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Sa(t)}}}(t),l=null===s?"":":".concat(s),u={url:"".concat(a,"//").concat(o).concat(l,"/")},c=Object.freeze({host:o,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator)return si(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),void si(un(u,r.config.emulator)&&un(c,r.emulatorConfig),r,"emulator-config-failed");r.config.emulator=u,r.emulatorConfig=c,r.settings.appVerificationDisabledForTesting=!0,Qt(o)?(!async function(e){(await fetch(e,{credentials:"include"})).ok}("".concat(a,"//").concat(o).concat(l)),en("Auth",!0)):i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Ea(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Sa(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Ia{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return li("not implemented")}_getIdTokenResponse(e){return li("not implemented")}_linkToIdToken(e,t){return li("not implemented")}_getReauthenticationResolver(e){return li("not implemented")}}async function Ta(e,t){return wi(e,"POST","/v1/accounts:signUp",t)}async function _a(e,t){return ki(e,"POST","/v1/accounts:signInWithPassword",bi(e,t))}async function Ra(e,t){return wi(e,"POST","/v1/accounts:sendOobCode",bi(e,t))}async function Da(e,t){return Ra(e,t)}class Aa extends Ia{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Aa(e,t,"password")}static _fromEmailAndCode(e,t){return new Aa(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if(null!==t&&void 0!==t&&t.email&&null!==t&&void 0!==t&&t.password){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return wa(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",_a,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return ki(e,"POST","/v1/accounts:signInWithEmailLink",bi(e,t))}(e,{email:this._email,oobCode:this._password});default:ti(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return wa(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Ta,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return ki(e,"POST","/v1/accounts:signInWithEmailLink",bi(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:ti(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Oa(e,t){return ki(e,"POST","/v1/accounts:signInWithIdp",bi(e,t))}class Na extends Ia{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Na(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ti("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=Ut(t,Jr);if(!n||!r)return null;const a=new Na(n,r);return a.idToken=i.idToken||void 0,a.accessToken=i.accessToken||void 0,a.secret=i.secret,a.nonce=i.nonce,a.pendingToken=i.pendingToken||null,a}_getIdTokenResponse(e){return Oa(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Oa(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Oa(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=dn(t)}return e}}async function Pa(e,t){return wi(e,"POST","/v1/accounts:sendVerificationCode",bi(e,t))}const xa={USER_NOT_FOUND:"user-not-found"};class Va extends Ia{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Va({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Va({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return ki(e,"POST","/v1/accounts:signInWithPhoneNumber",bi(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await ki(e,"POST","/v1/accounts:signInWithPhoneNumber",bi(e,t));if(n.temporaryProof)throw Ti(e,"account-exists-with-different-credential",n);return n}(e,pe({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return ki(e,"POST","/v1/accounts:signInWithPhoneNumber",bi(e,pe(pe({},t),{},{operation:"REAUTH"})),xa)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new Va({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class La{constructor(e){var t,n,r,i,a,o;const s=fn(hn(e)),l=null!==(t=s.apiKey)&&void 0!==t?t:null,u=null!==(n=s.oobCode)&&void 0!==n?n:null,c=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=s.mode)&&void 0!==r?r:null);si(l&&u&&c,"argument-error"),this.apiKey=l,this.operation=c,this.code=u,this.continueUrl=null!==(i=s.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(a=s.lang)&&void 0!==a?a:null,this.tenantId=null!==(o=s.tenantId)&&void 0!==o?o:null}static parseLink(e){const t=function(e){const t=fn(hn(e)).link,n=t?fn(hn(t)).deep_link_id:null,r=fn(hn(e)).deep_link_id;return(r?fn(hn(r)).link:null)||r||n||t||e}(e);try{return new La(t)}catch(n){return null}}}class Fa{constructor(){this.providerId=Fa.PROVIDER_ID}static credential(e,t){return Aa._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=La.parseLink(t);return si(n,"argument-error"),Aa._fromEmailAndCode(e,n.code,n.tenantId)}}Fa.PROVIDER_ID="password",Fa.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Fa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Ma{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Ua extends Ma{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ja extends Ua{constructor(){super("facebook.com")}static credential(e){return Na._fromParams({providerId:ja.PROVIDER_ID,signInMethod:ja.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ja.credentialFromTaggedObject(e)}static credentialFromError(e){return ja.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return ja.credential(t.oauthAccessToken)}catch(n){return null}}}ja.FACEBOOK_SIGN_IN_METHOD="facebook.com",ja.PROVIDER_ID="facebook.com";class za extends Ua{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Na._fromParams({providerId:za.PROVIDER_ID,signInMethod:za.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return za.credentialFromTaggedObject(e)}static credentialFromError(e){return za.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return za.credential(n,r)}catch(i){return null}}}za.GOOGLE_SIGN_IN_METHOD="google.com",za.PROVIDER_ID="google.com";class Ba extends Ua{constructor(){super("github.com")}static credential(e){return Na._fromParams({providerId:Ba.PROVIDER_ID,signInMethod:Ba.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ba.credentialFromTaggedObject(e)}static credentialFromError(e){return Ba.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Ba.credential(t.oauthAccessToken)}catch(n){return null}}}Ba.GITHUB_SIGN_IN_METHOD="github.com",Ba.PROVIDER_ID="github.com";class Ka extends Ua{constructor(){super("twitter.com")}static credential(e,t){return Na._fromParams({providerId:Ka.PROVIDER_ID,signInMethod:Ka.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ka.credentialFromTaggedObject(e)}static credentialFromError(e){return Ka.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Ka.credential(n,r)}catch(i){return null}}}async function Ha(e,t){return ki(e,"POST","/v1/accounts:signUp",bi(e,t))}Ka.TWITTER_SIGN_IN_METHOD="twitter.com",Ka.PROVIDER_ID="twitter.com";class qa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await Bi._fromIdTokenResponse(e,n,r),a=Ga(n);return new qa({user:i,providerId:a,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Ga(n);return new qa({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Ga(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Wa extends on{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Wa.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new Wa(e,t,n,r)}}function $a(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw Wa._fromErrorAndOperation(e,n,t,r);throw n})}async function Ja(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await Vi(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return qa._forOperation(e,"link",r)}async function Ya(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(Ar(r.app))return Promise.reject(ii(r));const i="reauthenticate";try{const a=await Vi(e,$a(r,i,t,e),n);si(a.idToken,r,"internal-error");const o=Pi(a.idToken);si(o,r,"internal-error");const{sub:s}=o;return si(e.uid===s,r,"user-mismatch"),qa._forOperation(e,i,a)}catch(Xf){throw(null===Xf||void 0===Xf?void 0:Xf.code)==="auth/".concat("user-not-found")&&ti(r,"user-mismatch"),Xf}}async function Qa(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Ar(e.app))return Promise.reject(ii(e));const r="signIn",i=await $a(e,r,t),a=await qa._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(a.user),a}async function Xa(e,t){return Qa(ca(e),t)}function Za(e,t,n){var r;si((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),si("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),si("undefined"===typeof n.linkDomain||n.linkDomain.length>0,e,"invalid-hosting-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.linkDomain=n.linkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(si(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(si(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function eo(e){const t=ca(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function to(e,t){let{displayName:n,photoURL:r}=t;if(void 0===n&&void 0===r)return;const i=vn(e),a={idToken:await i.getIdToken(),displayName:n,photoUrl:r,returnSecureToken:!0},o=await Vi(i,async function(e,t){return wi(e,"POST","/v1/accounts:update",t)}(i.auth,a));i.displayName=o.displayName||null,i.photoURL=o.photoUrl||null;const s=i.providerData.find(e=>{let{providerId:t}=e;return"password"===t});s&&(s.displayName=i.displayName,s.photoURL=i.photoURL),await i._updateTokensIfNecessary(o)}function no(e,t){return wi(e,"POST","/v2/accounts/mfaEnrollment:start",bi(e,t))}new WeakMap;const ro="__sak";class io{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ro,"1"),this.storage.removeItem(ro),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class ao extends io{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=aa(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);ia()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}ao.type="LOCAL";const oo=ao;function so(e){var t,n;const r=e.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),i=RegExp("".concat(r,"=([^;]+)"));return null!==(t=null===(n=document.cookie.match(i))||void 0===n?void 0:n[1])&&void 0!==t?t:null}function lo(e){const t="http:"===window.location.protocol;return"".concat(t?"__dev_":"__HOST-","FIREBASE_").concat(e.split(":")[3])}class uo{constructor(){this.type="COOKIE",this.listenerUnsubscribes=new Map}_getFinalTarget(e){if(void 0===typeof window)return e;const t=new URL("".concat(window.location.origin,"/__cookies__"));return t.searchParams.set("finalTarget",e),t}async _isAvailable(){var e;return!("boolean"===typeof isSecureContext&&!isSecureContext)&&("undefined"!==typeof navigator&&"undefined"!==typeof document&&(null===(e=navigator.cookieEnabled)||void 0===e||e))}async _set(e,t){}async _get(e){if(!this._isAvailable())return null;const t=lo(e);if(window.cookieStore){const e=await window.cookieStore.get(t);return null===e||void 0===e?void 0:e.value}return so(t)}async _remove(e){if(!this._isAvailable())return;if(!await this._get(e))return;const t=lo(e);document.cookie="".concat(t,"=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High"),await fetch("/__cookies__",{method:"DELETE"}).catch(()=>{})}_addListener(e,t){if(!this._isAvailable())return;const n=lo(e);if(window.cookieStore){const e=e=>{const r=e.changed.find(e=>e.name===n);r&&t(r.value);e.deleted.find(e=>e.name===n)&&t(null)},r=()=>window.cookieStore.removeEventListener("change",e);return this.listenerUnsubscribes.set(t,r),window.cookieStore.addEventListener("change",e)}let r=so(n);const i=setInterval(()=>{const e=so(n);e!==r&&(t(e),r=e)},1e3);this.listenerUnsubscribes.set(t,()=>clearInterval(i))}_removeListener(e,t){const n=this.listenerUnsubscribes.get(t);n&&(n(),this.listenerUnsubscribes.delete(t))}}uo.type="COOKIE";class co extends io{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}co.type="SESSION";const fo=co;class ho{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new ho(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,a=this.handlersMap[r];if(null===a||void 0===a||!a.size)return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const o=Array.from(a).map(async e=>e(t.origin,i)),s=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}(o);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:s})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function po(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}ho.receivers=[];class go{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,a;return new Promise((o,s)=>{const l=po("",20);r.port1.start();const u=setTimeout(()=>{s(new Error("unsupported_event"))},n);a={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(u),i=setTimeout(()=>{s(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),o(t.data.response);break;default:clearTimeout(u),clearTimeout(i),s(new Error("invalid_response"))}}},this.handlers.add(a),r.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}function mo(){return window}function vo(){return"undefined"!==typeof mo().WorkerGlobalScope&&"function"===typeof mo().importScripts}const yo="firebaseLocalStorageDb",bo="firebaseLocalStorage",wo="fbase_key";class Co{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function ko(e,t){return e.transaction([bo],t?"readwrite":"readonly").objectStore(bo)}function Eo(){const e=indexedDB.open(yo,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(bo,{keyPath:wo})}catch(Xf){n(Xf)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(bo)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(yo);return new Co(e).toPromise()}(),t(await Eo()))})})}async function So(e,t,n){const r=ko(e,!0).put({[wo]:t,value:n});return new Co(r).toPromise()}function Io(e,t){const n=ko(e,!0).delete(t);return new Co(n).toPromise()}class To{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await Eo()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(Xf){if(t++>3)throw Xf;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return vo()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ho._getInstance(vo()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){var e;if(null===(e=navigator)||void 0===e||!e.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch(t){return null}}(),!this.activeServiceWorker)return;this.sender=new go(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&null!==(e=n[0])&&void 0!==e&&e.fulfilled&&null!==(t=n[0])&&void 0!==t&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=navigator)||void 0===e||null===(e=e.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Eo();return await So(e,ro,"1"),await Io(e,ro),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>So(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const n=ko(e,!1).get(t),r=await new Co(n).toPromise();return void 0===r?null:r.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Io(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=ko(e,!1).getAll();return new Co(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}To.type="LOCAL";const _o=To;function Ro(e,t){return wi(e,"POST","/v2/accounts/mfaSignIn:start",bi(e,t))}pa("rcb"),new hi(3e4,6e4);const Do="recaptcha";async function Ao(e,t,n){if(!e._getRecaptchaConfig())try{await Ca(e)}catch(i){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(i="string"===typeof t?{phoneNumber:t}:t,"session"in i){const t=i.session;if("phoneNumber"in i){si("enroll"===t.type,e,"internal-error");const r={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},a=wa(e,r,"mfaSmsEnrollment",async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===va){si((null===n||void 0===n?void 0:n.type)===Do,e,"argument-error");return no(e,await Oo(e,t,n))}return no(e,t)},"PHONE_PROVIDER");return(await a.catch(e=>Promise.reject(e))).phoneSessionInfo.sessionInfo}{var r;si("signin"===t.type,e,"internal-error");const a=(null===(r=i.multiFactorHint)||void 0===r?void 0:r.uid)||i.multiFactorUid;si(a,e,"missing-multi-factor-info");const o={mfaPendingCredential:t.credential,mfaEnrollmentId:a,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},s=wa(e,o,"mfaSmsSignIn",async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===va){si((null===n||void 0===n?void 0:n.type)===Do,e,"argument-error");return Ro(e,await Oo(e,t,n))}return Ro(e,t)},"PHONE_PROVIDER");return(await s.catch(e=>Promise.reject(e))).phoneResponseInfo.sessionInfo}}{const t={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"},r=wa(e,t,"sendVerificationCode",async(e,t)=>{if(t.captchaResponse===va){si((null===n||void 0===n?void 0:n.type)===Do,e,"argument-error");return Pa(e,await Oo(e,t,n))}return Pa(e,t)},"PHONE_PROVIDER");return(await r.catch(e=>Promise.reject(e))).sessionInfo}}finally{null===n||void 0===n||n._reset()}}async function Oo(e,t,n){si(n.type===Do,e,"argument-error");const r=await n.verify();si("string"===typeof r,e,"argument-error");const i=pe({},t);if("phoneEnrollmentInfo"in i){const e=i.phoneEnrollmentInfo.phoneNumber,t=i.phoneEnrollmentInfo.captchaResponse,n=i.phoneEnrollmentInfo.clientType,a=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:a}}),i}if("phoneSignInInfo"in i){const e=i.phoneSignInInfo.captchaResponse,t=i.phoneSignInInfo.clientType,n=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),i}return Object.assign(i,{recaptchaToken:r}),i}class No{constructor(e){this.providerId=No.PROVIDER_ID,this.auth=ca(e)}verifyPhoneNumber(e,t){return Ao(this.auth,e,vn(t))}static credential(e,t){return Va._fromVerification(e,t)}static credentialFromResult(e){const t=e;return No.credentialFromTaggedObject(t)}static credentialFromError(e){return No.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?Va._fromTokenResponse(n,r):null}}function Po(e,t){return t?Hi(t):(si(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}No.PROVIDER_ID="phone",No.PHONE_SIGN_IN_METHOD="phone";class xo extends Ia{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Oa(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Oa(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Oa(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Vo(e){return Qa(e.auth,new xo(e),e.bypassAuthState)}function Lo(e){const{auth:t,user:n}=e;return si(n,t,"internal-error"),Ya(n,new xo(e),e.bypassAuthState)}async function Fo(e){const{auth:t,user:n}=e;return si(n,t,"internal-error"),Ja(n,new xo(e),e.bypassAuthState)}class Mo{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(Xf){this.reject(Xf)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:a,type:o}=e;if(a)return void this.reject(a);const s={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(s))}catch(Xf){this.reject(Xf)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Vo;case"linkViaPopup":case"linkViaRedirect":return Fo;case"reauthViaPopup":case"reauthViaRedirect":return Lo;default:ti(this.auth,"internal-error")}}resolve(e){ui(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ui(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Uo=new hi(2e3,1e4);class jo extends Mo{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,jo.currentPopupAction&&jo.currentPopupAction.cancel(),jo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return si(e,this.auth,"internal-error"),e}async onExecution(){ui(1===this.filter.length,"Popup operations only handle one event");const e=po();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(ni(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(ni(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,jo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t;null!==(t=this.authWindow)&&void 0!==t&&null!==(t=t.window)&&void 0!==t&&t.closed?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ni(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,Uo.get())};e()}}jo.currentPopupAction=null;const zo=new Map;class Bo extends Mo{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=zo.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=qo(t),r=Ho(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(Xf){e=()=>Promise.reject(Xf)}zo.set(this.auth._key(),e)}return this.bypassAuthState||zo.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function Ko(e,t){zo.set(e._key(),t)}function Ho(e){return Hi(e._redirectPersistence)}function qo(e){return Wi("pendingRedirect",e.config.apiKey,e.name)}async function Go(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Ar(e.app))return Promise.reject(ii(e));const r=ca(e),i=Po(r,t),a=new Bo(r,i,n),o=await a.execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}class Wo{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Jo(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!Jo(e)){var n;const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(ni(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has($o(e))}saveEventToCache(e){this.cachedEventUids.add($o(e)),this.lastProcessedEventTime=Date.now()}}function $o(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function Jo(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const Yo=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Qo=/^https?/;async function Xo(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return wi(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(Zo(r))return}catch(n){}ti(e,"unauthorized-domain")}function Zo(e){const t=ci(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!Qo.test(n))return!1;if(Yo.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const es=new hi(3e4,6e4);function ts(){const e=mo().___jsl;if(null!==e&&void 0!==e&&e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function ns(e){return new Promise((t,n)=>{var r,i;function a(){ts(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{ts(),n(ni(e,"network-request-failed"))},timeout:es.get()})}if(null!==(r=mo().gapi)&&void 0!==r&&null!==(r=r.iframes)&&void 0!==r&&r.Iframe)t(gapi.iframes.getContext());else{if(null===(i=mo().gapi)||void 0===i||!i.load){const t=pa("iframefcb");return mo()[t]=()=>{gapi.load?a():n(ni(e,"network-request-failed"))},ha("".concat(fa.gapiScript,"?onload=").concat(t)).catch(e=>n(e))}a()}}).catch(e=>{throw rs=null,e})}let rs=null;const is=new hi(5e3,15e3),as={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},os=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ss(e){const t=e.config;si(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?pi(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:Pr},i=os.get(e.config.apiHost);i&&(r.eid=i);const a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(dn(r).slice(1))}async function ls(e){const t=await function(e){return rs=rs||ns(e),rs}(e),n=mo().gapi;return si(n,e,"internal-error"),t.open({where:document.body,url:ss(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:as,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=ni(e,"network-request-failed"),a=mo().setTimeout(()=>{r(i)},is.get());function o(){mo().clearTimeout(a),n(t)}t.ping(o).then(o,()=>{r(i)})}))}const us={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class cs{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(Xf){}}}function ds(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let s="";const l=pe(pe({},us),{},{width:r.toString(),height:i.toString(),top:a,left:o}),u=tn().toLowerCase();n&&(s=Xi(u)?"_blank":n),Yi(u)&&(t=t||"http://localhost",l.scrollbars="yes");const c=Object.entries(l).reduce((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")},"");if(function(){var e;return ra(arguments.length>0&&void 0!==arguments[0]?arguments[0]:tn())&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(u)&&"_self"!==s)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",s),new cs(null);const d=window.open(t||"",s,c);si(d,e,"popup-blocked");try{d.focus()}catch(Xf){}return new cs(d)}const fs="__/auth/handler",hs="emulator/auth/handler",ps=encodeURIComponent("fac");async function gs(e,t,n,r,i,a){si(e.config.authDomain,e,"auth-domain-config-required"),si(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Pr,eventId:i};if(t instanceof Ma){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(a||{}))o[e]=t}if(t instanceof Ua){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(o.scopes=e.join(","))}e.tenantId&&(o.tid=e.tenantId);const s=o;for(const c of Object.keys(s))void 0===s[c]&&delete s[c];const l=await e._getAppCheckToken(),u=l?"#".concat(ps,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(fs);return pi(t,hs)}(e),"?").concat(dn(s).slice(1)).concat(u)}const ms="webStorageSupport";const vs=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=fo,this._completeRedirectFn=Go,this._overrideRedirectResult=Ko}async _openPopup(e,t,n,r){var i;ui(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return ds(e,await gs(e,t,n,ci(),r),po())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){mo().location.href=e}(await gs(e,t,n,ci(),r)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(ui(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await ls(e),n=new Wo(e);return t.register("authEvent",t=>{si(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(ms,{type:ms},n=>{var r;const i=null===n||void 0===n||null===(r=n[0])||void 0===r?void 0:r[ms];void 0!==i&&t(!!i),ti(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Xo(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return aa()||Qi()||ra()}};var ys="@firebase/auth",bs="1.11.0";class ws{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){si(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Cs=Jt("authIdTokenMaxAge")||300;let ks=null;var Es;!function(e){fa=e}({loadJS:e=>new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=ni("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),Es="Browser",Rr(new yn("auth",(e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:o,authDomain:s}=r.options;si(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:s,clientPlatform:Es,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:oa(Es)},u=new ua(r,i,a,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Hi);null!==t&&void 0!==t&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),Rr(new yn("auth-internal",e=>(e=>new ws(e))(ca(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),Lr(ys,bs,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(Es)),Lr(ys,bs,"esm2020");Lr("firebase","12.3.0","app");const Ss="@firebase/installations",Is="0.6.19",Ts=1e4,_s="w:".concat(Is),Rs="FIS_v2",Ds=36e5,As=new sn("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Os(e){return e instanceof on&&e.code.includes("request-failed")}function Ns(e){let{projectId:t}=e;return"".concat("https://firebaseinstallations.googleapis.com/v1","/projects/").concat(t,"/installations")}function Ps(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}async function xs(e,t){const n=(await t.json()).error;return As.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function Vs(e){let{apiKey:t}=e;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Ls(e,t){let{refreshToken:n}=t;const r=Vs(e);return r.append("Authorization",function(e){return"".concat(Rs," ").concat(e)}(n)),r}async function Fs(e){const t=await e();return t.status>=500&&t.status<600?e():t}function Ms(e){return new Promise(t=>{setTimeout(t,e)})}const Us=/^[cdef][\w-]{21}$/;function js(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(e){const t=(n=e,btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_"));var n;return t.substr(0,22)}(e);return Us.test(t)?t:""}catch(e){return""}}function zs(e){return"".concat(e.appName,"!").concat(e.appId)}const Bs=new Map;function Ks(e,t){const n=zs(e);Hs(n,t),function(e,t){const n=Gs();n&&n.postMessage({key:e,fid:t});Ws()}(n,t)}function Hs(e,t){const n=Bs.get(e);if(n)for(const r of n)r(t)}let qs=null;function Gs(){return!qs&&"BroadcastChannel"in self&&(qs=new BroadcastChannel("[Firebase] FID Change"),qs.onmessage=e=>{Hs(e.data.key,e.data.fid)}),qs}function Ws(){0===Bs.size&&qs&&(qs.close(),qs=null)}const $s="firebase-installations-store";let Js=null;function Ys(){return Js||(Js=zn("firebase-installations-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore($s)}})),Js}async function Qs(e,t){const n=zs(e),r=(await Ys()).transaction($s,"readwrite"),i=r.objectStore($s),a=await i.get(n);return await i.put(t,n),await r.done,a&&a.fid===t.fid||Ks(e,t.fid),t}async function Xs(e){const t=zs(e),n=(await Ys()).transaction($s,"readwrite");await n.objectStore($s).delete(t),await n.done}async function Zs(e,t){const n=zs(e),r=(await Ys()).transaction($s,"readwrite"),i=r.objectStore($s),a=await i.get(n),o=t(a);return void 0===o?await i.delete(n):await i.put(o,n),await r.done,!o||a&&a.fid===o.fid||Ks(e,o.fid),o}async function el(e){let t;const n=await Zs(e.appConfig,n=>{const r=function(e){const t=e||{fid:js(),registrationStatus:0};return rl(t)}(n),i=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine){return{installationEntry:t,registrationPromise:Promise.reject(As.create("app-offline"))}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=async function(e,t){try{const n=await async function(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e,{fid:i}=t;const a=Ns(n),o=Vs(n),s=r.getImmediate({optional:!0});if(s){const e=await s.getHeartbeatsHeader();e&&o.append("x-firebase-client",e)}const l={fid:i,authVersion:Rs,appId:n.appId,sdkVersion:_s},u={method:"POST",headers:o,body:JSON.stringify(l)},c=await Fs(()=>fetch(a,u));if(c.ok){const e=await c.json();return{fid:e.fid||i,registrationStatus:2,refreshToken:e.refreshToken,authToken:Ps(e.authToken)}}throw await xs("Create Installation",c)}(e,t);return Qs(e.appConfig,n)}catch(Xf){throw Os(Xf)&&409===Xf.customData.serverCode?await Xs(e.appConfig):await Qs(e.appConfig,{fid:t.fid,registrationStatus:0}),Xf}}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:tl(e)}:{installationEntry:t}}(e,r);return t=i.registrationPromise,i.installationEntry});return""===n.fid?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}async function tl(e){let t=await nl(e.appConfig);for(;1===t.registrationStatus;)await Ms(100),t=await nl(e.appConfig);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:n}=await el(e);return n||t}return t}function nl(e){return Zs(e,e=>{if(!e)throw As.create("installation-not-found");return rl(e)})}function rl(e){return 1===(t=e).registrationStatus&&t.registrationTime+Ts<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}async function il(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e;const i=function(e,t){let{fid:n}=t;return"".concat(Ns(e),"/").concat(n,"/authTokens:generate")}(n,t),a=Ls(n,t),o=r.getImmediate({optional:!0});if(o){const e=await o.getHeartbeatsHeader();e&&a.append("x-firebase-client",e)}const s={installation:{sdkVersion:_s,appId:n.appId}},l={method:"POST",headers:a,body:JSON.stringify(s)},u=await Fs(()=>fetch(i,l));if(u.ok){return Ps(await u.json())}throw await xs("Generate Auth Token",u)}async function al(e){let t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=await Zs(e.appConfig,r=>{if(!sl(r))throw As.create("not-registered");const i=r.authToken;if(!n&&function(e){return 2===e.requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+Ds}(e)}(i))return r;if(1===i.requestStatus)return t=async function(e,t){let n=await ol(e.appConfig);for(;1===n.authToken.requestStatus;)await Ms(100),n=await ol(e.appConfig);const r=n.authToken;return 0===r.requestStatus?al(e,t):r}(e,n),r;{if(!navigator.onLine)throw As.create("app-offline");const n=function(e){const t={requestStatus:1,requestTime:Date.now()};return pe(pe({},e),{},{authToken:t})}(r);return t=async function(e,t){try{const n=await il(e,t),r=pe(pe({},t),{},{authToken:n});return await Qs(e.appConfig,r),n}catch(Xf){if(!Os(Xf)||401!==Xf.customData.serverCode&&404!==Xf.customData.serverCode){const n=pe(pe({},t),{},{authToken:{requestStatus:0}});await Qs(e.appConfig,n)}else await Xs(e.appConfig);throw Xf}}(e,n),n}});return t?await t:r.authToken}function ol(e){return Zs(e,e=>{if(!sl(e))throw As.create("not-registered");const t=e.authToken;return 1===(n=t).requestStatus&&n.requestTime+Ts<Date.now()?pe(pe({},e),{},{authToken:{requestStatus:0}}):e;var n})}function sl(e){return void 0!==e&&2===e.registrationStatus}async function ll(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=e;await async function(e){const{registrationPromise:t}=await el(e);t&&await t}(n);return(await al(n,t)).token}function ul(e){return As.create("missing-app-config-values",{valueName:e})}const cl="installations",dl=e=>{const t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw ul("App Configuration");if(!e.name)throw ul("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw ul(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:Dr(t,"heartbeat"),_delete:()=>Promise.resolve()}},fl=e=>{const t=Dr(e.getProvider("app").getImmediate(),cl).getImmediate();return{getId:()=>async function(e){const t=e,{installationEntry:n,registrationPromise:r}=await el(t);return r?r.catch(console.error):al(t).catch(console.error),n.fid}(t),getToken:e=>ll(t,e)}};Rr(new yn(cl,dl,"PUBLIC")),Rr(new yn("installations-internal",fl,"PRIVATE")),Lr(Ss,Is),Lr(Ss,Is,"esm2020");const hl="analytics",pl="https://www.googletagmanager.com/gtag/js",gl=new Rn("@firebase/analytics"),ml=new sn("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function vl(e){if(!e.startsWith(pl)){const t=ml.create("invalid-gtag-resource",{gtagURL:e});return gl.warn(t.message),""}return e}function yl(e){return Promise.all(e.map(e=>e.catch(e=>e)))}function bl(e,t){const n=function(e,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}("firebase-js-sdk-policy",{createScriptURL:vl}),r=document.createElement("script"),i="".concat(pl,"?l=").concat(e,"&id=").concat(t);r.src=n?null===n||void 0===n?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function wl(e,t,n,r){return async function(i){try{for(var a=arguments.length,o=new Array(a>1?a-1:0),s=1;s<a;s++)o[s-1]=arguments[s];if("event"===i){const[r,i]=o;await async function(e,t,n,r,i){try{let a=[];if(i&&i.send_to){let e=i.send_to;Array.isArray(e)||(e=[e]);const r=await yl(n);for(const n of e){const e=r.find(e=>e.measurementId===n),i=e&&t[e.appId];if(!i){a=[];break}a.push(i)}}0===a.length&&(a=Object.values(t)),await Promise.all(a),e("event",r,i||{})}catch(Xf){gl.error(Xf)}}(e,t,n,r,i)}else if("config"===i){const[i,a]=o;await async function(e,t,n,r,i,a){const o=r[i];try{if(o)await t[o];else{const e=(await yl(n)).find(e=>e.measurementId===i);e&&await t[e.appId]}}catch(Xf){gl.error(Xf)}e("config",i,a)}(e,t,n,r,i,a)}else if("consent"===i){const[t,n]=o;e("consent",t,n)}else if("get"===i){const[t,n,r]=o;e("get",t,n,r)}else if("set"===i){const[t]=o;e("set",t)}else e(i,...o)}catch(Xf){gl.error(Xf)}}}const Cl=new class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function kl(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function El(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Cl,n=arguments.length>2?arguments[2]:void 0;const{appId:r,apiKey:i,measurementId:a}=e.options;if(!r)throw ml.create("no-app-id");if(!i){if(a)return{measurementId:a,appId:r};throw ml.create("no-api-key")}const o=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},s=new Il;return setTimeout(async()=>{s.abort()},void 0!==n?n:6e4),Sl({appId:r,apiKey:i,measurementId:a},o,s,t)}async function Sl(e,t,n){let{throttleEndTimeMillis:r,backoffCount:i}=t,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Cl;const{appId:o,measurementId:s}=e;try{await function(e,t){return new Promise((n,r)=>{const i=Math.max(t-Date.now(),0),a=setTimeout(n,i);e.addEventListener(()=>{clearTimeout(a),r(ml.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}(n,r)}catch(Xf){if(s)return gl.warn("Timed out fetching this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(s)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===Xf||void 0===Xf?void 0:Xf.message,"]")),{appId:o,measurementId:s};throw Xf}try{const t=await async function(e){const{appId:t,apiKey:n}=e,r={method:"GET",headers:kl(n)},i="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",t),a=await fetch(i,r);if(200!==a.status&&304!==a.status){let e="";try{var o;const t=await a.json();null!==(o=t.error)&&void 0!==o&&o.message&&(e=t.error.message)}catch(s){}throw ml.create("config-fetch-failed",{httpStatus:a.status,responseMessage:e})}return a.json()}(e);return a.deleteThrottleMetadata(o),t}catch(Xf){var l;const r=Xf;if(!function(e){if(!(e instanceof on)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(r)){if(a.deleteThrottleMetadata(o),s)return gl.warn("Failed to fetch this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(s)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===r||void 0===r?void 0:r.message,"]")),{appId:o,measurementId:s};throw Xf}const u=503===Number(null===r||void 0===r||null===(l=r.customData)||void 0===l?void 0:l.httpStatus)?mn(i,a.intervalMillis,30):mn(i,a.intervalMillis),c={throttleEndTimeMillis:Date.now()+u,backoffCount:i+1};return a.setThrottleMetadata(o,c),gl.debug("Calling attemptFetch again in ".concat(u," millis")),Sl(e,c,n,a)}}class Il{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let Tl,_l;function Rl(e){_l=e}function Dl(e){Tl=e}async function Al(e,t,n,r,i,a,o){var s;const l=El(e);l.then(t=>{n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&gl.warn("The measurement ID in the local Firebase config (".concat(e.options.measurementId,")")+" does not match the measurement ID fetched from the server (".concat(t.measurementId,").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")}).catch(e=>gl.error(e)),t.push(l);const u=async function(){if(!rn())return gl.warn(ml.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{await an()}catch(Xf){return gl.warn(ml.create("indexeddb-unavailable",{errorInfo:null===Xf||void 0===Xf?void 0:Xf.toString()}).message),!1}return!0}().then(e=>e?r.getId():void 0),[c,d]=await Promise.all([l,u]);(function(e){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(pl)&&n.src.includes(e))return n;return null})(a)||bl(a,c.measurementId),_l&&(i("consent","default",_l),Rl(void 0)),i("js",new Date);const f=null!==(s=null===o||void 0===o?void 0:o.config)&&void 0!==s?s:{};return f.origin="firebase",f.update=!0,null!=d&&(f.firebase_id=d),i("config",c.measurementId,f),Tl&&(i("set",Tl),Dl(void 0)),c.measurementId}class Ol{constructor(e){this.app=e}_delete(){return delete Nl[this.app.options.appId],Promise.resolve()}}let Nl={},Pl=[];const xl={};let Vl,Ll,Fl="dataLayer",Ml="gtag",Ul=!1;function jl(){const e=[];if(nn()&&e.push("This is a browser extension environment."),"undefined"!==typeof navigator&&navigator.cookieEnabled||e.push("Cookies are not available."),e.length>0){const t=e.map((e,t)=>"(".concat(t+1,") ").concat(e)).join(" "),n=ml.create("invalid-analytics-context",{errorInfo:t});gl.warn(n.message)}}function zl(e,t,n){jl();const r=e.options.appId;if(!r)throw ml.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw ml.create("no-api-key");gl.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+" measurement ID for this Firebase app. Falling back to the measurement ID ".concat(e.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.')}if(null!=Nl[r])throw ml.create("already-exists",{id:r});if(!Ul){!function(e){let t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(Fl);const{wrappedGtag:e,gtagCore:t}=function(e,t,n,r,i){let a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];window[r].push(arguments)};return window[i]&&"function"===typeof window[i]&&(a=window[i]),window[i]=wl(a,e,t,n),{gtagCore:a,wrappedGtag:window[i]}}(Nl,Pl,xl,Fl,Ml);Ll=e,Vl=t,Ul=!0}Nl[r]=Al(e,Pl,xl,t,Vl,Fl,n);return new Ol(e)}function Bl(e,t,n,r){e=vn(e),async function(e,t,n,r,i){if(i&&i.global)e("event",n,r);else{const i=await t;e("event",n,pe(pe({},r),{},{send_to:i}))}}(Ll,Nl[e.app.options.appId],t,n,r).catch(e=>gl.error(e))}const Kl="@firebase/analytics",Hl="0.10.18";Rr(new yn(hl,(e,t)=>{let{options:n}=t;return zl(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n)},"PUBLIC")),Rr(new yn("analytics-internal",function(e){try{const t=e.getProvider(hl).getImmediate();return{logEvent:(e,n,r)=>Bl(t,e,n,r)}}catch(Xf){throw ml.create("interop-component-reg-failed",{reason:Xf})}},"PRIVATE")),Lr(Kl,Hl),Lr(Kl,Hl,"esm2020");const ql=xr({apiKey:"AIzaSyBjsoSbq_t-kxsPPazZdGknFpI2143qrRM",authDomain:"gueripep.firebaseapp.com",projectId:"gueripep",storageBucket:"gueripep.firebasestorage.app",messagingSenderId:"640739834165",appId:"1:640739834165:web:5b612ac1404b6ab126347c",measurementId:"G-26ZBG61PYX"}),Gl=(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vr();e=vn(e);const t=Dr(e,hl);t.isInitialized()?t.getImmediate():function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=Dr(e,hl);if(n.isInitialized()){const e=n.getImmediate();if(un(t,n.getOptions()))return e;throw ml.create("already-initialized")}const r=n.initialize({options:t})}(e)}(ql),function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vr();const t=Dr(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=Dr(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(un(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;ti(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:vs,persistence:[_o,oo,fo]}),r=Jt("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(i=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>Cs)return;const r=null===t||void 0===t?void 0:t.token;ks!==r&&(ks=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:"Bearer ".concat(r)}:{}}))});!function(e,t,n){vn(e).beforeAuthStateChanged(t,n)}(n,t,()=>t(n.currentUser)),function(e,t,n,r){vn(e).onIdTokenChanged(t,n,r)}(n,e=>t(e))}}var i;const a=Wt("auth");return a&&ka(n,"http://".concat(a)),n}(ql)),Wl=new za,$l=(0,i.createContext)();function Jl(){return(0,i.useContext)($l)}function Yl(e){let{children:t}=e;const[n,r]=(0,i.useState)(null),[a,o]=(0,i.useState)(!0);(0,i.useEffect)(()=>{const e=function(e,t,n,r){return vn(e).onAuthStateChanged(t,n,r)}(Gl,e=>{r(e),o(!1)});return e},[]);const s={currentUser:n,login:function(e,t){return function(e,t,n){return Ar(e.app)?Promise.reject(ii(e)):Xa(vn(e),Fa.credential(t,n)).catch(async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&eo(e),t})}(Gl,e,t)},signup:function(e,t,n){return async function(e,t,n){if(Ar(e.app))return Promise.reject(ii(e));const r=ca(e),i=wa(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Ha,"EMAIL_PASSWORD_PROVIDER"),a=await i.catch(t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&eo(e),t}),o=await qa._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(o.user),o}(Gl,e,t).then(e=>n?to(e.user,{displayName:n}):e)},logout:function(){return function(e){return vn(e).signOut()}(Gl)},resetPassword:function(e){return async function(e,t,n){const r=ca(e),i={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};n&&Za(r,i,n),await wa(r,i,"getOobCode",Da,"EMAIL_PASSWORD_PROVIDER")}(Gl,e)},updateEmail:function(e){return n.updateEmail(e)},updatePassword:function(e){return n.updatePassword(e)},signInWithGoogle:function(){return async function(e,t,n){if(Ar(e.app))return Promise.reject(ni(e,"operation-not-supported-in-this-environment"));const r=ca(e);ai(e,t,Ma);const i=Po(r,n);return new jo(r,"signInViaPopup",t,i).executeNotNull()}(Gl,Wl)}};return(0,xt.jsx)($l.Provider,{value:s,children:!a&&t})}const Ql=e=>{let{cartItemCount:t,onCartClick:n,onSearch:r,searchQuery:i,isKameleoonActive:a,onLoginClick:o}=e;const{currentUser:s,logout:l}=Jl();return(0,xt.jsx)("header",{className:"header ".concat(a?"kameleoon-active-header":""),children:(0,xt.jsxs)("div",{className:"header-content",children:[(0,xt.jsx)("h1",{className:"logo",children:"\ud83d\uded2 ShopEasy"}),(0,xt.jsxs)("form",{className:"search-form",onSubmit:e=>{e.preventDefault(),r(i)},children:[(0,xt.jsx)("input",{type:"text",placeholder:"Search products...",value:i,onChange:e=>r(e.target.value),className:"search-input"}),(0,xt.jsx)("button",{type:"submit",className:"search-button",children:"\ud83d\udd0d"})]}),(0,xt.jsx)("div",{className:"header-actions",children:s?(0,xt.jsxs)(xt.Fragment,{children:[(0,xt.jsxs)("span",{className:"user-welcome",children:["Welcome, ",s.displayName||s.email,"!"]}),(0,xt.jsxs)("button",{className:"cart-button",onClick:n,children:["\ud83d\uded2 Cart (",t,")"]}),(0,xt.jsx)("button",{className:"logout-button",onClick:async()=>{try{await l()}catch(e){console.error("Failed to log out:",e)}},children:"Logout"})]}):(0,xt.jsxs)(xt.Fragment,{children:[(0,xt.jsx)("button",{className:"login-button",onClick:o,children:"Login"}),(0,xt.jsx)("button",{className:"cart-button disabled",disabled:!0,children:"\ud83d\uded2 Cart (0)"})]})})]})})};const Xl=function(e){let{onClose:t,switchToRegister:n}=e;const[r,a]=(0,i.useState)(""),[o,s]=(0,i.useState)(""),[l,u]=(0,i.useState)(""),[c,d]=(0,i.useState)(!1),{login:f,signInWithGoogle:h}=Jl();return(0,xt.jsx)("div",{className:"login-overlay",children:(0,xt.jsxs)("div",{className:"login-modal",children:[(0,xt.jsxs)("div",{className:"login-header",children:[(0,xt.jsx)("h2",{children:"Sign In"}),(0,xt.jsx)("button",{className:"close-btn",onClick:t,children:"\xd7"})]}),l&&(0,xt.jsx)("div",{className:"alert alert-error",children:l}),(0,xt.jsxs)("form",{onSubmit:async function(e){e.preventDefault();try{u(""),d(!0),await f(r,o),t()}catch(l){u("Failed to log in: "+l.message)}d(!1)},children:[(0,xt.jsxs)("div",{className:"form-group",children:[(0,xt.jsx)("label",{htmlFor:"email",children:"Email"}),(0,xt.jsx)("input",{type:"email",id:"email",value:r,onChange:e=>a(e.target.value),required:!0})]}),(0,xt.jsxs)("div",{className:"form-group",children:[(0,xt.jsx)("label",{htmlFor:"password",children:"Password"}),(0,xt.jsx)("input",{type:"password",id:"password",value:o,onChange:e=>s(e.target.value),required:!0})]}),(0,xt.jsx)("button",{disabled:c,className:"btn btn-primary btn-full",type:"submit",children:c?"Signing In...":"Sign In"})]}),(0,xt.jsx)("div",{className:"divider",children:(0,xt.jsx)("span",{children:"OR"})}),(0,xt.jsxs)("button",{disabled:c,className:"btn btn-google btn-full",onClick:async function(){try{u(""),d(!0),await h(),t()}catch(l){u("Failed to sign in with Google: "+l.message)}d(!1)},children:[(0,xt.jsx)("img",{src:"https://developers.google.com/identity/images/g-logo.png",alt:"Google"}),"Sign in with Google"]}),(0,xt.jsxs)("div",{className:"login-footer",children:["Don't have an account?",(0,xt.jsx)("button",{className:"link-btn",onClick:n,children:"Sign up here"})]})]})})};const Zl=function(e){let{onClose:t,switchToLogin:n}=e;const[r,a]=(0,i.useState)(""),[o,s]=(0,i.useState)(""),[l,u]=(0,i.useState)(""),[c,d]=(0,i.useState)(""),[f,h]=(0,i.useState)(""),[p,g]=(0,i.useState)(!1),{signup:m,signInWithGoogle:v}=Jl();return(0,xt.jsx)("div",{className:"login-overlay",children:(0,xt.jsxs)("div",{className:"login-modal",children:[(0,xt.jsxs)("div",{className:"login-header",children:[(0,xt.jsx)("h2",{children:"Create Account"}),(0,xt.jsx)("button",{className:"close-btn",onClick:t,children:"\xd7"})]}),f&&(0,xt.jsx)("div",{className:"alert alert-error",children:f}),(0,xt.jsxs)("form",{onSubmit:async function(e){if(e.preventDefault(),o!==l)return h("Passwords do not match");if(o.length<6)return h("Password must be at least 6 characters");try{h(""),g(!0),await m(r,o,c),t()}catch(f){h("Failed to create an account: "+f.message)}g(!1)},children:[(0,xt.jsxs)("div",{className:"form-group",children:[(0,xt.jsx)("label",{htmlFor:"displayName",children:"Full Name"}),(0,xt.jsx)("input",{type:"text",id:"displayName",value:c,onChange:e=>d(e.target.value),required:!0})]}),(0,xt.jsxs)("div",{className:"form-group",children:[(0,xt.jsx)("label",{htmlFor:"email",children:"Email"}),(0,xt.jsx)("input",{type:"email",id:"email",value:r,onChange:e=>a(e.target.value),required:!0})]}),(0,xt.jsxs)("div",{className:"form-group",children:[(0,xt.jsx)("label",{htmlFor:"password",children:"Password"}),(0,xt.jsx)("input",{type:"password",id:"password",value:o,onChange:e=>s(e.target.value),required:!0,minLength:"6"})]}),(0,xt.jsxs)("div",{className:"form-group",children:[(0,xt.jsx)("label",{htmlFor:"password-confirm",children:"Confirm Password"}),(0,xt.jsx)("input",{type:"password",id:"password-confirm",value:l,onChange:e=>u(e.target.value),required:!0,minLength:"6"})]}),(0,xt.jsx)("button",{disabled:p,className:"btn btn-primary btn-full",type:"submit",children:p?"Creating Account...":"Create Account"})]}),(0,xt.jsx)("div",{className:"divider",children:(0,xt.jsx)("span",{children:"OR"})}),(0,xt.jsxs)("button",{disabled:p,className:"btn btn-google btn-full",onClick:async function(){try{h(""),g(!0),await v(),t()}catch(f){h("Failed to sign in with Google: "+f.message)}g(!1)},children:[(0,xt.jsx)("img",{src:"https://developers.google.com/identity/images/g-logo.png",alt:"Google"}),"Sign up with Google"]}),(0,xt.jsxs)("div",{className:"login-footer",children:["Already have an account?",(0,xt.jsx)("button",{className:"link-btn",onClick:n,children:"Sign in here"})]})]})})};function eu(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var tu,nu,ru,iu,au,ou,su,lu,uu,cu,du,fu,hu,pu,gu,mu,vu,yu,bu,wu,Cu,ku,Eu,Su,Iu,Tu,_u,Ru,Du,Au,Ou,Nu,Pu,xu,Vu,Lu,Fu,Mu,Uu,ju,zu,Bu,Ku,Hu,qu,Gu,Wu,$u,Ju,Yu,Qu,Xu,Zu,ec,tc,nc,rc,ic,ac,oc,sc,lc,uc,cc,dc,fc,hc,pc,gc,mc,vc,yc,bc,wc,Cc,kc,Ec,Sc,Ic,Tc,_c,Rc,Dc,Ac,Oc,Nc,Pc,xc,Vc,Lc,Fc,Mc,Uc,jc,zc,Bc,Kc,Hc,qc,Gc,Wc,$c,Jc,Yc,Qc,Xc,Zc,ed,td,nd,rd,id,ad,od,sd,ld,ud,cd,dd,fd,hd,pd,gd,md,vd,yd,bd,wd,Cd,kd,Ed,Sd,Id,Td,_d,Rd,Dd,Ad,Od,Nd,Pd,xd,Vd,Ld,Fd,Md,Ud,jd,zd,Bd,Kd,Hd,qd,Gd,Wd,$d,Jd,Yd,Qd,Xd,Zd,ef,tf,nf,rf,af,of,sf,lf,uf,cf,df,ff,hf,pf,gf,mf,vf,yf,bf,wf,Cf,kf,Ef,Sf,If,Tf,_f,Rf,Df,Af,Of,Nf,Pf,xf,Vf,Lf,Ff,Mf,Uf,jf,zf,Bf,Kf,Hf,qf,Gf,Wf,$f,Jf,Yf,Qf,Xf,Zf="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof n.g?n.g:"undefined"!=typeof self?self:{},eh={},th={},nh=(Yf||(Yf=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Err=e.Ok=void 0;var t=function(){if(Jf)return th;function e(e){if(!this.ok){if("string"==typeof this.error||void 0===this.error)throw new Error(e||this.error||"There was an error! No specific error message was provided.");throw e&&(this.error.message=e),this.error}return this.data}function t(e){return this.ok?this.data:e(this.error)}function n(e){return this.ok?this.data:e}function r(e){return this.ok&&e(this.data),this}return Jf=1,Object.defineProperty(th,"__esModule",{value:!0}),th.Err=th.Ok=void 0,th.Ok=function(i){return{ok:!0,data:i,throw:e,else:t,or:n,and:r}},th.Err=function(i){return{ok:!1,error:i,throw:e,else:t,or:n,and:r}},th}();Object.defineProperty(e,"Ok",{enumerable:!0,get:function(){return t.Ok}}),Object.defineProperty(e,"Err",{enumerable:!0,get:function(){return t.Err}})}(eh)),eh);function rh(e,t,n,r){return new(n||(n=Promise))(function(t,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function o(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var r;e.done?t(e.value):(r=e.value,r instanceof n?r:new n(function(e){e(r)})).then(a,o)}s((r=r.apply(e,[])).next())})}"function"==typeof SuppressedError&&SuppressedError,(Xf=Qf||(Qf={})).Credentials="Credentials",Xf.EventSourceInitialization="EventSourceInitialization",Xf.FeatureFlagConfigurationNotFound="FeatureFlagConfigurationNotFound",Xf.FeatureFlagVariableNotFound="FeatureFlagVariableNotFound",Xf.FeatureFlagVariationNotFound="FeatureFlagVariationNotFound",Xf.FeatureFlagExperimentNotFound="FeatureFlagExperimentNotFound",Xf.FeatureFlagEnvironmentDisabled="FeatureFlagEnvironmentDisabled",Xf.VisitAmount="VisitAmount",Xf.VisitorCodeMaxLength="VisitorCodeMaxLength",Xf.VisitorCodeEmpty="VisitorCodeEmpty",Xf.StorageInitialization="StorageInitialization",Xf.StorageWrite="StorageWrite",Xf.StorageRead="StorageRead",Xf.StorageParse="StorageParse",Xf.StorageEmpty="StorageEmpty",Xf.ClientConfiguration="ClientConfiguration",Xf.TargetingCondition="TargetingCondition",Xf.AmongValuesCheck="AmongValuesCheck",Xf.RangeCheck="RangeCheck",Xf.Initialization="Initialization",Xf.JSONParse="JSONParse",Xf.NumberParse="NumberParse",Xf.VersionParse="VersionParse",Xf.CookieParse="CookieParse",Xf.SemanticVersionParse="SemanticVersionParse",Xf.RemoteData="RemoteData",Xf.MaximumRetriesReached="MaximumRetriesReached";const ih={[Qf.CookieParse]:e=>"Couldn't parse cookie string: ".concat(e),[Qf.JSONParse]:e=>"Couldn't parse JSON variable: ".concat(e),[Qf.NumberParse]:e=>"It's not possible to parse value ".concat(e," to Number"),[Qf.VersionParse]:e=>"It's not possible to parse a version value ".concat(e," to Number, version should be in format x.x"),[Qf.SemanticVersionParse]:e=>"It's not possible to parse a version value ".concat(e," to Number, version should be in format x.x.x"),[Qf.Initialization]:()=>"It seems that the client wasn't properly initialized, make sure to run `initialize` method before invoking other methods",[Qf.Credentials]:()=>"KameleoonClient can not be created without credentials",[Qf.StorageInitialization]:()=>"There was an error while initializing React Native SDK storage, it seems that the storage library dependency wasn't installed",[Qf.EventSourceInitialization]:()=>"There was an error while initializing Real Time Update service, it seems that the event source library dependency wasn't installed",[Qf.FeatureFlagConfigurationNotFound]:e=>"No feature flag with key ".concat(e," was found."),[Qf.FeatureFlagEnvironmentDisabled]:(e,t)=>"Feature flag with key ".concat(e," is disabled in ").concat(t," environment."),[Qf.FeatureFlagVariableNotFound]:(e,t)=>"No feature flag variable with key ".concat(e," was found for ").concat(t," visitorCode."),[Qf.FeatureFlagVariationNotFound]:(e,t)=>"No feature flag variation with key ".concat(e," was found for ").concat(t," visitorCode."),[Qf.FeatureFlagExperimentNotFound]:(e,t)=>"No feature flag experiment with id ".concat(e," was found for ").concat(t," visitorCode."),[Qf.VisitAmount]:()=>"Visit amount must be a number between 1 and 25",[Qf.VisitorCodeMaxLength]:()=>"Visitor code can not be more than 255 characters long",[Qf.VisitorCodeEmpty]:()=>"Visitor code can not be empty",[Qf.StorageWrite]:e=>"Couldn't update storage for kameleoonClient: ".concat(e),[Qf.StorageRead]:e=>"No data found in storage under ".concat(e," key"),[Qf.StorageEmpty]:()=>"No data found in storage",[Qf.StorageParse]:(e,t)=>"Couldn't parse ".concat(t," storage data, the data may be corrupted. Error: ").concat(e),[Qf.ClientConfiguration]:e=>"Couldn't retrieve client configuration from Kameleoon Api. Error: ".concat(e),[Qf.TargetingCondition]:e=>"".concat(e," targeting condition is not yet supported."),[Qf.AmongValuesCheck]:(e,t)=>"Couldn't parse value \"".concat(t,'": ').concat(e),[Qf.RangeCheck]:e=>"Couldn't parse value \"".concat(e,'" as a range, value should be in format [x: number, y: number]'),[Qf.RemoteData]:e=>"Couldn't retrieve data from Kameleoon server. Error: ".concat(e),[Qf.MaximumRetriesReached]:e=>"Maximum retries reached, request failed. Reason: ".concat(e)};function ah(e){throw new Error("Reaching an impossible state because of ".concat(e))}class oh extends Error{constructor(e,t,n){switch(super("Error: ".concat(e)),this.name="KameleoonError",this.errorType=e,e){case Qf.Initialization:case Qf.Credentials:case Qf.VisitorCodeMaxLength:case Qf.VisitorCodeEmpty:case Qf.StorageInitialization:case Qf.VisitAmount:case Qf.EventSourceInitialization:case Qf.StorageEmpty:this.message=ih[e]();break;case Qf.CookieParse:case Qf.FeatureFlagConfigurationNotFound:case Qf.NumberParse:case Qf.ClientConfiguration:case Qf.MaximumRetriesReached:case Qf.RemoteData:case Qf.VersionParse:case Qf.SemanticVersionParse:this.message=ih[e](t);break;case Qf.FeatureFlagExperimentNotFound:case Qf.FeatureFlagVariationNotFound:case Qf.FeatureFlagEnvironmentDisabled:case Qf.FeatureFlagVariableNotFound:this.message=ih[e](t,n);break;case Qf.StorageWrite:case Qf.JSONParse:case Qf.StorageRead:this.message=ih[e](t);break;case Qf.StorageParse:this.message=ih[e](t,n);break;case Qf.TargetingCondition:this.message=ih[e](t);break;case Qf.AmongValuesCheck:this.message=ih[e](t,n);break;case Qf.RangeCheck:this.message=ih[e](t);break;default:ah(e)}}get type(){return this.errorType}}var sh,lh,uh,ch;!function(e){e.DataApi="dataApi",e.Events="events",e.ClientConfiguration="clientConfiguration"}(sh||(sh={})),function(e){e.Get="GET",e.Post="POST"}(lh||(lh={})),function(e){e[e.VisitEvent=0]="VisitEvent",e[e.VisitData=1]="VisitData",e[e.DataMap=2]="DataMap"}(uh||(uh={})),function(e){e.Configuration="configuration",e.Tracking="tracking",e.RemoteData="remoteData"}(ch||(ch={}));var dh;!function(e){e.UserAgent="User-Agent",e.ContentType="Content-Type",e.SdkVersion="X-Kameleoon-SDK-Version",e.SdkType="X-Kameleoon-SDK-Type",e.Authorization="Authorization",e.AcceptEncoding="Accept-Encoding",e.IfModifiedSince="If-Modified-Since",e.LastModified="Last-Modified"}(dh||(dh={}));const fh="eventType=staticData",hh="&browserIndex=",ph="&browserVersion=",gh="&deviceType=",mh="&visitorCode=",vh="&nonce=",yh="&id=",bh="&maxNumberPreviousVisits=",wh="&os=",Ch="&osIndex=",kh="&browser=",Eh="&mappingValue=",Sh="visit/",Ih={[sh.DataApi]:"data.kameleoon.io",[sh.Events]:"events.kameleoon.eu",[sh.ClientConfiguration]:"sdk-config.kameleoon.eu"};var Th;!function(e){e[e.NONE=0]="NONE",e[e.ERROR=1]="ERROR",e[e.WARNING=2]="WARNING",e[e.INFO=3]="INFO",e[e.DEBUG=4]="DEBUG"}(Th||(Th={}));const _h={[Th.NONE]:"NONE",[Th.ERROR]:"ERROR",[Th.WARNING]:"WARNING",[Th.INFO]:"INFO",[Th.DEBUG]:"DEBUG"},Rh=(e,t)=>"credentials"===e?{clientId:"****",clientSecret:"****"}:t instanceof Map?Array.from(t.entries()):t;class Dh{static setLogger(e){Dh.logger=e}static setLogLevel(e){Dh.logLevel=e}static log(e){let t,{level:n,strings:r,keys:i}=e;if(Dh.checkLevel(n)){if("string"==typeof r)t=r;else if("function"==typeof r)try{t=r()}catch(n){t="Failed to log message"}else t=function(e,t){let n="";if(t)for(let r=0;r<t.length;r++){let i=t[r];if("object"==typeof i)try{n+=e[r]+JSON.stringify(i,Rh)}catch(t){n+=e[r]+"{object}"}else n+="string"==typeof i?e[r]+"'"+i+"'":e[r]+i}return n+=e[e.length-1],n}(r,i);Dh.writeMessage(n,t)}}static info(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Dh.log({level:Th.INFO,strings:e,keys:n})}static error(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Dh.log({level:Th.ERROR,strings:e,keys:n})}static warning(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Dh.log({level:Th.WARNING,strings:e,keys:n})}static debug(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Dh.log({level:Th.DEBUG,strings:e,keys:n})}static checkLevel(e){return e<=Dh.logLevel&&e!==Th.NONE}static writeMessage(e,t){Dh.logger.log(e,"Kameleoon [".concat(_h[e],"]: ").concat(t))}}Dh.logger=new class{log(e,t){switch(e){case Th.DEBUG:console.debug(t);break;case Th.INFO:console.info(t);break;case Th.WARNING:console.warn(t);break;case Th.ERROR:console.error(t)}}},Dh.logLevel=Th.WARNING;let Ah=class{constructor(e){let{urlProvider:t,packageInfo:n,externalRequester:r,requestTimeout:i,trackRetryDelay:a,useAbortController:o}=e;Dh.debug(tu||(tu=eu(["CALL: new Requester(urlProvider, packageInfo: ",", externalRequester, requestTimeout: ",", trackRetryDelay: ",", useAbortController: ",")"])),n,i,a,o),this.urlProvider=t,this.useAbortController=o,this.externalRequester=r,this.trackRetryDelay=a,this.packageInfo=n,this.timeout=i,Dh.debug(nu||(nu=eu(["RETURN: new Requester(urlProvider, packageInfo: ",", externalRequester, requestTimeout: ",", trackRetryDelay: ",", useAbortController: ",")"])),n,i,a,o)}getClientConfiguration(e,t){return rh(this,0,void 0,function*(){const n=this.urlProvider.getClientConfigurationUrl(e);let r=Object.assign({[dh.SdkType]:this.packageInfo.type.toLowerCase(),[dh.SdkVersion]:this.packageInfo.version},t&&{[dh.IfModifiedSince]:t});try{let e={message:""};Dh.debug(ru||(ru=eu(["Running configuration request Method: ",", Url: ",", Headers: ",", with retry limit ",""])),lh.Get,n,r,3);for(let t=0;t<3;t++){const i=yield this.sendRequest({url:n,requestType:ch.Configuration,retryCount:t,parameters:{method:lh.Get,headers:r}});if(i.ok){const e=yield i.json();this.logReceivedConfigurationResponse(i.status,n,r);const t=this.getLastModifiedHeader(i),a=e;return nh.Ok({configuration:a,lastModified:t})}if(304===i.status)return this.logReceivedConfigurationResponse(i.status,n,r),nh.Ok({});if(2===t){if(i.text){const t=yield i.text();e=JSON.parse(t)}Dh.error(iu||(iu=eu(["Failed to get configuration response "," for request Method: ",", Url: ",", Headers: ",""])),{status:i.status,message:e.message},lh.Get,n,r)}else yield this.logRequestError({logLevel:Th.WARNING,message:"Failed to get configuration response",response:i,method:lh.Get,url:n})}return nh.Err(new oh(Qf.MaximumRetriesReached,e.message))}catch(e){return yield this.logRequestError({logLevel:Th.ERROR,message:"Failed to get configuration response",error:e,method:lh.Get,url:n,headers:r}),nh.Err(new oh(Qf.ClientConfiguration,e))}})}getRemoteData(e){var t;return rh(this,0,void 0,function*(){const n=this.urlProvider.getRemoteDataUrl(e);Dh.debug(au||(au=eu(["Running remote data request Method: ",", Url: ",""])),lh.Get,n);try{const e=yield this.sendRequest({url:n,requestType:ch.RemoteData,retryCount:0,parameters:{method:lh.Get}});if(!e.ok){if(yield this.logRequestError({logLevel:Th.ERROR,message:"Failed to get remote data response",response:e,method:lh.Get,url:n}),e.text){const n=yield e.text(),r=null===(t=JSON.parse(n))||void 0===t?void 0:t.message;return nh.Err(new oh(Qf.RemoteData,r))}return nh.Err(new oh(Qf.RemoteData,"Unknown Reason - no `text()` was found for a response"))}const r=yield e.json();return Dh.debug(ou||(ou=eu(["Received remote data response: "," for request Method: ",", Url: ",""])),{status:e.status},lh.Get,n),nh.Ok(r)}catch(e){return yield this.logRequestError({logLevel:Th.ERROR,message:"Failed to get remote data response",error:e,method:lh.Get,url:n}),nh.Err(new oh(Qf.RemoteData,e))}})}getVisitorData(e){let{visitorCode:t,filters:n,isMappingIdentifier:r}=e;var i;return rh(this,0,void 0,function*(){const e=this.urlProvider.getVisitorDataUrl({visitorCode:t,filters:n,isMappingIdentifier:r});Dh.debug(su||(su=eu(["Running visitor data request Method: ",", Url: ",""])),lh.Get,e);try{const t=yield this.sendRequest({url:e,requestType:ch.RemoteData,retryCount:0,parameters:{method:lh.Get}});if(!t.ok){if(yield this.logRequestError({logLevel:Th.ERROR,message:"Failed to get visitor data response",response:t,method:lh.Get,url:e}),"function"==typeof t.text){const e=yield t.text();if(e){const t=null===(i=JSON.parse(e))||void 0===i?void 0:i.message;return nh.Err(new oh(Qf.RemoteData,t))}}return t.status?nh.Err(new oh(Qf.RemoteData,"No error message. Error status: ".concat(t.status))):nh.Err(new oh(Qf.RemoteData,"Unknown Reason - no text message or error status was found for a response"))}const n=yield t.json();return Dh.debug(lu||(lu=eu(["Received visitor data response: "," for request Method: ",", Url: ",""])),{status:t.status},lh.Get,e),nh.Ok(n)}catch(t){return yield this.logRequestError({logLevel:Th.ERROR,message:"Failed to get visitor data response",error:t,method:lh.Get,url:e}),nh.Err(new oh(Qf.RemoteData,t))}})}track(e,t){return rh(this,0,void 0,function*(){const n=this.urlProvider.getTrackingUrl(t);Dh.debug(uu||(uu=eu(["Running tracking request Method: ",", Url: ",", Body: ",", with retry limit ",", retry delay "," ms"])),lh.Post,n,e,3,this.trackRetryDelay);for(let t=0;t<3;t++){let r;try{if(r=yield this.sendRequest({url:n,retryCount:t,requestType:ch.Tracking,parameters:{body:e,method:lh.Post,headers:{[dh.ContentType]:"*/*"}}}),r.ok)return Dh.debug(cu||(cu=eu(["Received tracking response: "," for request Method: ",", Url: ",", Body: ",""])),{status:r.status},lh.Post,n,e),nh.Ok();yield this.logRequestError({logLevel:2==t?Th.ERROR:Th.WARNING,message:"Failed to get tracking response",response:r,method:lh.Post,url:n})}catch(e){yield this.logRequestError({logLevel:2==t?Th.ERROR:Th.WARNING,message:"Failed to get tracking response",error:e,method:lh.Post,url:n})}t<3&&(yield new Promise(e=>setTimeout(e,this.trackRetryDelay)))}return nh.Err()})}sendRequest(e){let{url:t,requestType:n,retryCount:r,parameters:i}=e;return rh(this,0,void 0,function*(){let e;if(this.useAbortController){const a=new AbortController,o=setTimeout(()=>a.abort(),this.timeout);e=yield this.externalRequester.sendRequest({url:t,retryCount:r,requestType:n,parameters:Object.assign(Object.assign({},i),{signal:a.signal})}),clearTimeout(o)}else e=yield this.externalRequester.sendRequest({url:t,retryCount:r,requestType:n,parameters:i});return e})}logRequestError(e){let{logLevel:t,message:n,error:r,method:i,url:a,response:o,headers:s}=e;return rh(this,0,void 0,function*(){if(r){let e="Unknown error";r instanceof Error&&(e=r.message),Dh.log({level:t,strings:()=>"".concat(n," with error: ").concat(e," for request Method: ").concat(i,", Url: ").concat(a)})}else if(o&&Dh.checkLevel(t)){const e=yield this.parseResponse(o);Dh.log({level:t,strings:()=>"".concat(n," response: Status: '").concat(e.status,"' Message: '").concat(e.message,"' for request Method: ").concat(i,", Url: '").concat(a,"'")+(s?", Headers: ".concat(s):"")})}})}parseResponse(e){return rh(this,0,void 0,function*(){let t="";try{if("function"==typeof e.text){const n=yield e.text();n&&(t=n)}}catch(e){}return{status:e.status,message:t}})}getLastModifiedHeader(e){if(e.headers){const t=dh.LastModified.toLowerCase();for(const[n,r]of e.headers)if(n.toLowerCase()===t)return r}}logReceivedConfigurationResponse(e,t,n){Dh.debug(du||(du=eu(["Received configuration response: "," for request Method: ",", Url: ",", Headers: ",""])),{status:e},lh.Get,t,n)}};var Oh,Nh,Ph,xh,Vh,Lh,Fh,Mh,Uh,jh,zh;!function(e){e.Production="production",e.Staging="staging",e.Development="development"}(Oh||(Oh={}));class Bh{constructor(){this.ready=!1,this.isCustomDomain=!1,this.domains=Ih}initialize(e){let{domain:t,siteCode:n,packageInfo:r,environment:i}=e;this.siteCode=n,this.environment=i,this.packageInfo=r,this.ready=!0,this.setDomains(t)}set dataApiDomain(e){if(!this.isCustomDomain)return void(this.domains[sh.DataApi]=e);const t=e.split(".")[0],n=this.domains[sh.DataApi];this.domains[sh.DataApi]=n.replace(/^[^.]+/,t)}getClientConfigurationUrl(e){this.isInitialized();const t="https://".concat(this.domains[sh.ClientConfiguration],"/v3/"),n=this.environment===Oh.Production?"":"?environment="+encodeURIComponent(this.environment);let r="";return e&&(r=n?"&ts="+e:"?ts="+e),t+this.siteCode+n+r}getEventSourceUrl(){return this.isInitialized(),"https://".concat(this.domains[sh.Events],":8110/sse?siteCode=").concat(this.siteCode)}getRemoteDataUrl(e){return this.isInitialized(),this.getDataApiUrl(uh.DataMap)+this.siteCode+"&key="+encodeURI(e)}getVisitorDataUrl(e){let{visitorCode:t,filters:n,isMappingIdentifier:r}=e;this.isInitialized();const{customData:i,previousVisitAmount:a,currentVisit:o,conversions:s,geolocation:l,experiments:u,pageViews:c,device:d,browser:f,operatingSystem:h,kcs:p,personalization:g,visitorCode:m,cbs:v}=n,y=r?Eh:mh,b=i||m?"&customData="+!0:"",w=s?"&conversion="+!0:"",C=l?"&geolocation="+!0:"",k=u?"&experiment="+!0:"",E=c?"&page="+!0:"",S=o?"&currentVisit="+!0:"",I=p?"&kcs="+!0:"",T=g?"&personalization="+!0:"",_="number"!=typeof a?bh+1:bh+a,R=v?"&cbs="+!0:"";return this.getDataApiUrl(uh.VisitData)+this.siteCode+y+t+_+b+w+C+k+E+"&staticData="+!0+S+I+T+R}getTrackingUrl(e){this.isInitialized();const{type:t,version:n}=this.packageInfo;let r=this.getDataApiUrl(uh.VisitEvent)+this.siteCode+"&sdkName="+t.toLowerCase()+"&sdkVersion="+n;return e&&(r+="&bodyUa="+!0),r}isInitialized(){if(!this.ready)throw new Error("UrlProvider is not initialized")}getDataApiUrl(e){if(!this.domains[sh.DataApi])throw new Error("Data API domain is not set");const t="https://".concat(this.domains[sh.DataApi]);switch(e){case uh.VisitEvent:return"".concat(t,"/").concat(Sh+"events?siteCode=");case uh.VisitData:return"".concat(t,"/").concat(Sh+"visitor?siteCode=");case uh.DataMap:return"".concat(t,"/map/map?siteCode=")}}setDomains(e){e&&(this.isCustomDomain=!0,this.domains[sh.DataApi]="data."+e,this.domains[sh.Events]="events."+e,this.domains[sh.ClientConfiguration]="sdk-config."+e)}}!function(e){e.BOOLEAN="BOOLEAN",e.NUMBER="NUMBER",e.STRING="STRING",e.JSON="JSON",e.JS="JS",e.CSS="CSS"}(Nh||(Nh={})),function(e){e.Sent="sent",e.Unsent="unsent",e.Pending="pending"}(Ph||(Ph={})),function(e){e[e.Second=1e3]="Second",e[e.Minute=6e4]="Minute",e[e.Hour=36e5]="Hour",e[e.Day=864e5]="Day",e[e.Week=6048e5]="Week",e[e.Month=2592e6]="Month"}(xh||(xh={}));class Kh{constructor(e){this.cacheMap=new Map,this.intervalId=null,this.cleanupTimeout=e*xh.Second}add(e){let{key:t,data:n,lifetime:r}=e;Dh.debug(fu||(fu=eu(["CALL: CacheManager.add(key: ",", data: ",", lifetime: ",")"])),t,n,r),null===this.intervalId&&this.activate();const i=r*xh.Second,a={data:n,expirationTime:Date.now()+i};this.cacheMap.set(t,a),Dh.debug(hu||(hu=eu(["RETURN: CacheManager.add(key: ",", data: ",", lifetime: ",")"])),t,n,r)}getAliveItem(e){Dh.debug(pu||(pu=eu(["CALL: CacheManager.getAliveItem(key: ",")"])),e);const t=this.cacheMap.get(e);if(t&&t.expirationTime>=Date.now()){const n=t.data;return Dh.debug(gu||(gu=eu(["RETURN: CacheManager.getAliveItem(key: ",") -> (item: ",")"])),e,n),n}return t&&this.cacheMap.delete(e),Dh.debug(mu||(mu=eu(["RETURN: CacheManager.getAliveItem(key: ",") -> (item: null)"])),e),null}activate(){this.intervalId=setInterval(()=>{const e=Date.now();for(const[t,n]of this.cacheMap)n.expirationTime<e&&this.cacheMap.delete(t);this.cacheMap.size||this.cleanupInterval()},this.cleanupTimeout)}cleanupInterval(){this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null)}}!function(e){e[e.Polling=0]="Polling",e[e.RealTime=1]="RealTime"}(Vh||(Vh={})),function(e){e.TARGETED_DELIVERY="TARGETED_DELIVERY",e.EXPERIMENTATION="EXPERIMENTATION"}(Lh||(Lh={})),function(e){e.ANDROID="ANDROID",e.SWIFT="SWIFT",e.JAVA="JAVA",e.CSHARP="CSHARP",e.NODEJS="NODEJS",e.PHP="PHP",e.RUBY="RUBY",e.GO="GO",e.FLUTTER="FLUTTER",e.REACTJS="REACTJS"}(Fh||(Fh={})),function(e){e.ACTIVATED="ACTIVATED",e.DEACTIVATED="DEACTIVATED",e.SCHEDULED="SCHEDULED"}(Mh||(Mh={})),function(e){e.Visit="VISIT",e.Visitor="VISITOR",e.Page="Page"}(Uh||(Uh={})),function(e){e.Required="REQUIRED",e.NotRequired="NOT_REQUIRED"}(jh||(jh={}));class Hh{addEventHandler(e,t){this.eventHandlers||(this.eventHandlers=new Map),this.eventHandlers.set(e,t)}fireEvent(e,t){var n;const r=null===(n=this.eventHandlers)||void 0===n?void 0:n.get(e);r&&t&&r(t)}}!function(e){e.Evaluation="evaluation",e.ConfigurationUpdate="configurationUpdate"}(zh||(zh={})),jh.NotRequired;const qh={customData:[],featureFlags:[],configuration:{realTimeUpdate:!1,consentType:jh.NotRequired,dataApiDomain:"data.kameleoon.io"}};class Gh{constructor(e){this._featureFlags=e.slice().sort((e,t)=>e.id-t.id)}getFeatureFlagByHash(e){let t=Math.floor(e*this._featureFlags.length);return t=Math.min(t,this._featureFlags.length-1),this._featureFlags[t]}get featureFlags(){return this._featureFlags}}class Wh{constructor(e){let{updateInterval:t,urlProvider:n,storage:r,requester:i,dataManager:a,eventSource:o,externalVisitorCodeManager:s,eventManager:l,externalPackageInfo:u,defaultDataFile:c}=e;this.updateConfigurationIntervalId=null,this.updateType=Vh.Polling,this.configurationData=qh,this.featureFlagsData=new Map,this.isTargetedDeliveryRule=null,this.segmentsData=null,this.holdoutData=null,this.meGroupsData=new Map,this.mappedRules=null,this.mappedExperiments=null,this.usedDefaultDataFile=!1,this.CACHE_REVALIDATE_PERIOD=90*xh.Minute,this.urlProvider=n,this.requester=i,this.updateInterval=t,this.lastUpdate=new Date,this.storage=r,this.dataManager=a,this.eventManager=l,this.visitorCodeManager=s,this.eventSource=o,this.externalPackageInfo=u,this.defaultDataFile=c}initialize(){return rh(this,0,void 0,function*(){if(Dh.debug("CALL: ClientConfiguration.initialize()"),this.readStorageData(),this.checkShouldUpdate()){const e=yield this.updateClientConfiguration();if(!e.ok)return Dh.error("Error occurred during client configuration update"),e;if(e.data)return Dh.debug("RETURN: ClientConfiguration.initialize()"),nh.Ok()}return this.updateType!==Vh.RealTime||this.eventSource.isOpen?(this.updateType===Vh.Polling&&this.handlePollingUpdates(),Dh.debug("RETURN: ClientConfiguration.initialize()"),nh.Ok()):(this.handleRealTimeUpdates(),Dh.debug("RETURN: ClientConfiguration.initialize()"),nh.Ok())})}cleanupHandlers(){this.eventSource.isOpen&&this.eventSource.close(),this.updateConfigurationIntervalId&&clearInterval(this.updateConfigurationIntervalId)}handleRealTimeUpdates(){this.cleanupHandlers(),this.eventSource.open(e=>{this.updateClientConfiguration(e).then(t=>{t.ok&&this.eventManager.fireEvent(zh.ConfigurationUpdate,{timestamp:e})})}),this.eventSource.onError(e=>{Dh.error(vu||(vu=eu(["Error occurred during real-time update: ",". Switching to polling updates while the connection is not restored."])),e),this.updateType=Vh.Polling,this.handlePollingUpdates()})}handlePollingUpdates(){this.cleanupHandlers();try{const e=this.lastUpdate.getTime(),t=Date.now(),n=Math.max(this.updateInterval-(t-e),0);setTimeout(()=>rh(this,0,void 0,function*(){yield this.updateClientConfiguration(),this.updateConfigurationIntervalId=setInterval(this.updateClientConfiguration.bind(this),this.updateInterval)}),n)}catch(Xf){throw this.updateConfigurationIntervalId&&clearInterval(this.updateConfigurationIntervalId),Xf}}get featureFlags(){return this.featureFlagsData}get configuration(){return this.configurationData.configuration}get segments(){if(this.segmentsData)return this.segmentsData;const e=new Map;return this.featureFlagsData.forEach(t=>{t.rules.forEach(t=>{t.segment&&!e.has(t.segment.id.toString())&&e.set(t.segment.id.toString(),t.segment)})}),this.segmentsData=e,e}get ruleMap(){var e;if(null===(e=this.mappedRules)||void 0===e?void 0:e.size)return this.mappedRules;const t=new Map;for(const n of this.featureFlags.values())for(const e of n.rules){const{id:r,experimentId:i,variationByExposition:a}=e,o=new Map;a.forEach(e=>{let{variationKey:t,variationId:n}=e;"number"==typeof n&&o.set(t,n)}),t.set(r,{featureId:n.id,experimentId:i,variations:o})}return this.mappedRules=t,t}get experimentMap(){var e;if(null===(e=this.mappedExperiments)||void 0===e?void 0:e.size)return this.mappedExperiments;const t=new Map;for(const n of this.featureFlags.values())for(const e of n.rules){const{experimentId:n,variationByExposition:r}=e,i=new Map;r.forEach(e=>{let{variationKey:t,variationId:n}=e;"number"==typeof n&&i.set(t,n)}),t.set(n,{type:e.type,variations:i})}return this.mappedExperiments=t,t}get holdout(){return this.holdoutData}get meGroups(){return this.meGroupsData}get isConsentRequired(){return this.configuration.consentType===jh.Required}get hasAnyTargetedDeliveryRule(){if(null!==this.isTargetedDeliveryRule)return this.isTargetedDeliveryRule;for(const e of this.featureFlags.values())if(e.environmentEnabled&&e.rules.some(e=>e.type===Lh.TARGETED_DELIVERY))return!0;return!1}checkShouldUpdate(){const{configuration:e}=this.configurationData;return this.updateType=e.realTimeUpdate?Vh.RealTime:Vh.Polling,!this.featureFlags.size||this.lastUpdate.getTime()<Date.now()-this.updateInterval}readStorageData(){var e,t,n;Dh.debug("CALL: ClientConfiguration.readStorageData()");const r=this.storage.read();if(r.ok){let{data:i,lastUpdate:a,lastModified:o,requestTime:s}=r.data,l=!1;if(this.defaultDataFile)try{const r=JSON.parse(this.defaultDataFile);this.defaultDataFile=void 0,this.usedDefaultDataFile=!0;const a=null!==(t=null!==(e=i.dateModified)&&void 0!==e?e:s)&&void 0!==t?t:-1,o=null!==(n=r.dateModified)&&void 0!==n?n:0;(!s||o>a)&&(i=r,l=!0)}catch(e){Dh.error(yu||(yu=eu(["Error parsing default data file: ",""])),String(e))}this.updateConfigurationData(i,l),this.lastUpdate=this.usedDefaultDataFile?new Date(0):new Date(Date.parse(a)),this.lastModified=o,this.requestTime=s}Dh.debug(bu||(bu=eu(["RETURN: ClientConfiguration.readStorageData() -> (result: ",")"])),r.ok)}updateClientConfiguration(e){return rh(this,0,void 0,function*(){const t=Date.now();if(this.usedDefaultDataFile)return this.updateClientConfigurationInBackground(),nh.Ok(!1);if(this.requestTime&&!e&&!this.externalPackageInfo.isServer){if(t-this.requestTime<=this.CACHE_REVALIDATE_PERIOD)return this.updateClientConfigurationInBackground(),nh.Ok(!1);Dh.debug(wu||(wu=eu(["Cached configuration data has expired. Fetching fresh data."])))}const n=yield this.requester.getClientConfiguration(e,this.lastModified);return this.applyNewConfigurationDataFromResponse(n)})}updateClientConfigurationInBackground(){setTimeout(()=>rh(this,0,void 0,function*(){const e=yield this.requester.getClientConfiguration(void 0,this.lastModified);yield this.applyNewConfigurationDataFromResponse(e)}),0)}applyNewConfigurationDataFromResponse(e){var t,n;return rh(this,0,void 0,function*(){if(this.requestTime=Date.now(),!e.ok)return this.featureFlags.size?(Dh.error("Error occurred while updating configuration. Existing configuration will be used as a fallback."),nh.Ok(!0)):e;if(void 0===e.data.configuration)return this.updateStorageData(),nh.Ok(!1);const r=e.data.configuration;this.updateConfigurationData(r,!0),this.dataManager.clearTrees(),null===(t=this.mappedRules)||void 0===t||t.clear(),null===(n=this.experimentMap)||void 0===n||n.clear(),this.isTargetedDeliveryRule=null,e.data.lastModified&&(this.lastModified=e.data.lastModified);const i=this.updateStorageData();if(!i.ok)return i;const a=r.configuration.realTimeUpdate?Vh.RealTime:Vh.Polling,o=a!==this.updateType;return o&&(this.updateType=a,Dh.info(Cu||(Cu=eu(["Configuration update type was toggled to ",""])),Vh[a]),yield this.initialize()),nh.Ok(o)})}updateConfigurationData(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const{configuration:n,featureFlags:r,customData:i,holdout:a,segments:o,dateModified:s}=e;let l=o?new Map(o.map(e=>[e.id.toString(),e])):null,u=null;if(t&&(null==i?void 0:i.length)){u=new Map;for(let e of i){if(void 0===e.id){u=null;break}u.set(e.id,e.index)}}const c=new Map;for(const d of r)c.set(d.featureKey,d),t&&(this.updateFeatureFlagSegments(d,l),this.updateFeatureFlagBucketingCustomDataId(d,u));this.featureFlagsData=c,(null==i?void 0:i.length)&&(this.dataManager.customDataIndexes=i),this.meGroupsData=this.makeMEGroups(r),this.holdoutData=null!=a?a:null,this.configurationData={configuration:n,customData:i,holdout:a,dateModified:s},this.urlProvider.dataApiDomain=e.configuration.dataApiDomain,this.updateConsentRequired(),this.segmentsData=l}updateFeatureFlagSegments(e,t){null!==t&&e.rules.forEach(e=>{var n;const r=e.segmentId;e.segment=null!=r&&null!==(n=t.get(r.toString()))&&void 0!==n?n:null})}updateFeatureFlagBucketingCustomDataId(e,t){const n=e.bucketingCustomDataId;null!=n&&t&&(e.bucketingCustomDataIndex=t.get(n))}makeMEGroups(e){const t=new Map;e.forEach(e=>{const n=e.mutuallyExclusiveGroup;if(n){let r=t.get(n);r?r.push(e):t.set(n,[e])}});const n=new Map;return t.forEach((e,t)=>{n.set(t,new Gh(e))}),n}updateStorageData(){this.lastUpdate=new Date;const e={data:Object.assign(Object.assign({},this.configurationData),{featureFlags:Array.from(this.featureFlags.values()),segments:this.segmentsData?Array.from(this.segmentsData.values()):void 0}),lastUpdate:this.lastUpdate.toString(),lastModified:this.lastModified,requestTime:this.requestTime};return this.storage.write(e)}updateConsentRequired(){this.visitorCodeManager.consentRequired=this.isConsentRequired&&!this.hasAnyTargetedDeliveryRule}}function $h(e){return Object.fromEntries(Object.entries(e).map(e=>{let[t,n]=e;return[n,t]}))}var Jh,Yh,Qh,Xh;!function(e){e.UniqueIdentifier="uniqueIdentifier",e.CustomData="customData",e.PageView="pageView",e.GeolocationData="geolocation",e.Browser="browser",e.Conversion="conversion",e.Cookie="cookie",e.Device="device",e.OperatingSystem="operatingSystem",e.UserAgent="userAgent",e.ApplicationVersion="applicationVersion",e.VisitsData="visitsData",e.KameleoonConversionScore="kameleoonConversionScore",e.Personalization="personalization",e.CBScores="cbScores",e.TargetedSegment="targetedSegment"}(Jh||(Jh={})),function(e){e.Phone="PHONE",e.Tablet="TABLET",e.Desktop="DESKTOP"}(Yh||(Yh={})),function(e){e.WindowsPhone="WINDOWS_PHONE",e.Windows="WINDOWS",e.Android="ANDROID",e.Linux="LINUX",e.Mac="MAC",e.IOS="IOS"}(Qh||(Qh={})),function(e){e.Chrome="CHROME",e.InternetExplorer="IE",e.Firefox="FIREFOX",e.Safari="SAFARI",e.Opera="OPERA",e.Other="OTHER"}(Xh||(Xh={}));const Zh={[Qh.Windows]:0,[Qh.Mac]:1,[Qh.IOS]:2,[Qh.Linux]:3,[Qh.Android]:4,[Qh.WindowsPhone]:5},ep=$h(Zh),tp={[Xh.Chrome]:0,[Xh.InternetExplorer]:1,[Xh.Firefox]:2,[Xh.Safari]:3,[Xh.Opera]:4,[Xh.Other]:5},np=$h(tp),rp="off",ip="warehouseAudiences";var ap;!function(e){e.ANDROID="ANDROID",e.IOS="IOS",e.JAVA="JAVA",e.CSHARP="CSHARP",e.NODEJS="NODEJS",e.PHP="PHP",e.RUBY="RUBY",e.GO="GO",e.FLUTTER="FLUTTER",e.REACT="REACT",e.PYTHON="PYTHON",e.JAVASCRIPT="JAVASCRIPT",e.RUST="RUST"}(ap||(ap={}));const op={previousVisitAmount:1,currentVisit:!0,customData:!0,pageViews:!1,geolocation:!1,device:!1,browser:!1,operatingSystem:!1,conversions:!1,experiments:!1,kcs:!1,visitorCode:!0,personalization:!1};var sp,lp,up,cp,dp,fp,hp,pp,gp,mp,vp,yp;!function(e){e.And="AND",e.Or="OR"}(sp||(sp={})),function(e){e.TRUE="TRUE",e.FALSE="FALSE",e.EXACT="EXACT",e.CONTAINS="CONTAINS",e.REGULAR_EXPRESSION="REGULAR_EXPRESSION",e.EQUAL="EQUAL",e.LOWER="LOWER",e.GREATER="GREATER",e.UNDEFINED="UNDEFINED",e.AMONG_VALUES="AMONG_VALUES",e.RANGE="RANGE"}(lp||(lp={})),function(e){e.NEW="NEW",e.RETURNING="RETURNING"}(up||(up={})),function(e){e.ANY="ANY",e.EXACT="EXACT"}(cp||(cp={})),function(e){e.ALL="ALL",e.TEST="TEST",e.PERSO="PERSO"}(dp||(dp={})),function(e){e.Experiment="EXPERIMENT",e.Personalization="PERSONALIZATION",e.Any="ANY"}(fp||(fp={})),function(e){e.EXACT="EXACT",e.CONTAINS="CONTAINS",e.REGULAR_EXPRESSION="REGULAR_EXPRESSION",e.GREATER="GREATER",e.EQUAL="EQUAL",e.LOWER="LOWER"}(hp||(hp={})),function(e){e.GREATER="GREATER",e.EQUAL="EQUAL",e.LOWER="LOWER"}(pp||(pp={})),function(e){e.EXACT="EXACT",e.CONTAINS="CONTAINS",e.REGULAR_EXPRESSION="REGULAR_EXPRESSION",e.OPTIONAL="OPTIONAL"}(gp||(gp={})),function(e){e.PAGE_URL="PAGE_URL",e.PAGE_TITLE="PAGE_TITLE",e.LANDING_PAGE="LANDING_PAGE",e.ORIGIN="ORIGIN",e.ORIGIN_TYPE="ORIGIN_TYPE",e.REFERRERS="REFERRERS",e.NEW_VISITORS="NEW_VISITORS",e.INTERESTS="INTERESTS",e.BROWSER_LANGUAGE="BROWSER_LANGUAGE",e.GEOLOCATION="GEOLOCATION",e.DEVICE_TYPE="DEVICE_TYPE",e.SCREEN_DIMENSION="SCREEN_DIMENSION",e.VISITOR_IP="VISITOR_IP",e.AD_BLOCKER="AD_BLOCKER",e.PREVIOUS_PAGE="PREVIOUS_PAGE",e.KEY_PAGES="KEY_PAGES",e.PAGE_VIEWS="PAGE_VIEWS",e.FIRST_VISIT="FIRST_VISIT",e.LAST_VISIT="LAST_VISIT",e.ACTIVE_SESSION="ACTIVE_SESSION",e.TIME_SINCE_PAGE_LOAD="TIME_SINCE_PAGE_LOAD",e.SAME_DAY_VISITS="SAME_DAY_VISITS",e.VISITS="VISITS",e.VISITS_BY_PAGE="VISITS_BY_PAGE",e.VISITOR_CODE="VISITOR_CODE",e.SDK_LANGUAGE="SDK_LANGUAGE",e.INTERNAL_SEARCH_KEYWORDS="INTERNAL_SEARCH_KEYWORDS",e.TABS_ON_SITE="TABS_ON_SITE",e.CONVERSION_PROBABILITY="CONVERSION_PROBABILITY",e.HEAT_SLICE="HEAT_SLICE",e.SKY_STATUS="SKY_STATUS",e.TEMPERATURE="TEMPERATURE",e.DAY_NIGHT="DAY_NIGHT",e.FORECAST_SKY_STATUS="FORECAST_SKY_STATUS",e.FORECAST_TEMPERATURE="FORECAST_TEMPERATURE",e.DAY_OF_WEEK="DAY_OF_WEEK",e.TIME_RANGE="TIME_RANGE",e.HOUR_MINUTE_RANGE="HOUR_MINUTE_RANGE",e.JS_CODE="JS_CODE",e.COOKIE="COOKIE",e.EVENT="EVENT",e.BROWSER="BROWSER",e.OPERATING_SYSTEM="OPERATING_SYSTEM",e.DOM_ELEMENT="DOM_ELEMENT",e.MOUSE_OUT="MOUSE_OUT",e.TARGET_EXPERIMENT="TARGET_EXPERIMENT",e.TARGET_FEATURE_FLAG="TARGET_FEATURE_FLAG",e.TARGET_PERSONALIZATION="TARGET_PERSONALIZATION",e.EXCLUSIVE_EXPERIMENT="EXCLUSIVE_EXPERIMENT",e.CONVERSIONS="CONVERSIONS",e.CUSTOM_DATUM="CUSTOM_DATUM",e.YSANCE_SEGMENT="YSANCE_SEGMENT",e.SEGMENT="SEGMENT",e.YSANCE_ATTRIBUT="YSANCE_ATTRIBUT",e.TEALIUM_BADGE="TEALIUM_BADGE",e.TEALIUM_AUDIENCE="TEALIUM_AUDIENCE",e.PRICE_OF_DISPLAYED_PAGE="PRICE_OF_DISPLAYED_PAGE",e.NUMBER_OF_VISITED_PAGES="NUMBER_OF_VISITED_PAGES",e.VISITED_PAGES="VISITED_PAGES",e.CUSTOM="CUSTOM",e.EXPLICIT_TRIGGER="EXPLICIT_TRIGGER",e.APPLICATION_VERSION="APPLICATION_VERSION"}(mp||(mp={})),function(e){e.Minute="MINUTE",e.Hour="HOUR",e.Day="DAY",e.Week="WEEK",e.Month="MONTH"}(vp||(vp={})),function(e){e.Ascending="asc",e.Descending="desc"}(yp||(yp={}));const bp="localhost",wp=/^(\.?(([a-zA-Z\d][a-zA-Z\d-]*[a-zA-Z\d])|[a-zA-Z\d]))(\.(([a-zA-Z\d][a-zA-Z\d-]*[a-zA-Z\d])|[a-zA-Z\d])){1,126}$/;class Cp{static validateVersion(e){const t=e.split(".").map(e=>parseInt(e,10));for(;t.length<3;)t.push(0);return t.some(e=>isNaN(e))?nh.Err(new oh(Qf.SemanticVersionParse,e)):nh.Ok(t.slice(0,3))}static validateDomain(e){return e?(e=Cp.checkAndTrimProtocol(e.toLowerCase()),wp.test(e)||e===bp||Dh.error(ku||(ku=eu(["The top-level domain "," is invalid. The value has been set as provided, but it does not meet the required format for proper SDK functionality. Please check the domain for correctness."])),e),nh.Ok(e)):nh.Err()}static validateNetworkDomain(e){return e?(e=(e=Cp.checkAndTrimProtocol(e.toLowerCase())).replace(/^\.+|\.+$/g,""),wp.test(e)||e===bp?nh.Ok(e):(Dh.error(Eu||(Eu=eu(["The network domain "," is invalid."])),e),nh.Err())):nh.Err()}static checkAndTrimProtocol(e){const t=["http://","https://"];for(const n of t)if(e.startsWith(n)){e=e.substring(n.length),Dh.warning(Su||(Su=eu(["The domain contains ",". Domain after protocol trimming: ",""])),n,e);break}return e}}class kp{static getNonce(e){let t="";for(let n=0;n<16;n++){const n=e.getRandomNumber(),r=Math.floor(16*n);t+="0123456789ABCDEF".charAt(r)}return t}static checkTargeting(e){let{segment:t,visitorCode:n,targetingData:r,experimentId:i,variationConfiguration:a,clientConfiguration:o,packageInfo:s,dataManager:l}=e;if(Dh.debug(Iu||(Iu=eu(["CALL: checkTargeting(segment, visitorCode: ",", targetingData: ",", experimentId: ",", variationConfiguration, clientConfiguration, packageInfo, dataManager)"])),n,r,i),!t||!t.conditionsData.firstLevel.length){const e=nh.Ok(!0);return Dh.debug(Tu||(Tu=eu(["RETURN checkTargeting(segment, visitorCode: ",", targetingData: ",", experimentId: ",", variationConfiguration, clientConfiguration, packageInfo, dataManager) -> (result: ",")"])),n,r,i,e),e}if(!a){const e=nh.Err(new oh(Qf.Initialization));return Dh.debug(_u||(_u=eu(["RETURN checkTargeting(segment, visitorCode: ",", targetingData: ",", experimentId: ",", variationConfiguration, clientConfiguration, packageInfo, dataManager) -> (result: ",")"])),n,r,i,e),e}let u={};const c=a.getStoredVariations(n);c.ok&&(u=c.data);const d=l.getTree(t);let f,h,p;d.hasTargetingType(mp.SEGMENT)&&(f=l.trees,p=o.segments),d.hasTargetingType(mp.TARGET_FEATURE_FLAG)&&(h=o.ruleMap);const g=d.evaluate({variationData:u,sdkInfo:s,segments:p,ruleMap:h,trees:f,targetingData:r,experimentId:i,visitorCode:n});return Dh.debug(Ru||(Ru=eu(["RETURN checkTargeting(segment, visitorCode: ",", targetingData: ",", experimentId: ",", variationConfiguration, clientConfiguration, packageInfo, dataManager) -> (result: ",")"])),n,r,i,g),g}static convertTimeUnit(e,t){return e/{[vp.Minute]:xh.Minute,[vp.Hour]:xh.Hour,[vp.Day]:xh.Day,[vp.Week]:xh.Week,[vp.Month]:xh.Month}[t]}static isCustomData(e){return e.data.type===Jh.CustomData}static updateCache(e){let{hasJsCssVariables:t,cacheManager:n,visitorCode:r,experimentId:i,variationId:a}=e;const o=n.getAliveItem(r),s=o?Object.assign({},o):{};s[i]={variationId:a,hasJsCssVariables:t,expirationTime:Date.now()+5*xh.Second},n.add({key:r,data:s,lifetime:5})}static getTrackingCode(e,t){let n="window.kameleoonQueue=window.kameleoonQueue||[];";const r=e.getAliveItem(t);if(!r)return n;const i={};return Object.entries(r).forEach(e=>{let[t,{variationId:r,expirationTime:a,hasJsCssVariables:o}]=e;const s=!o;a>Date.now()&&(n+="window.kameleoonQueue.push(['Experiments.assignVariation',".concat(t,",").concat(r,",true]);"),n+="window.kameleoonQueue.push(['Experiments.trigger',".concat(t,",").concat(s,"]);"),i[Number(t)]={variationId:r,expirationTime:a,hasJsCssVariables:o})}),e.add({key:t,data:i,lifetime:5}),n}static compareSemVer(e){let{version:t,compareVersion:n,operator:r}=e;const i=Cp.validateVersion(t),a=Cp.validateVersion(n);if(!i.ok)return nh.Err(i.error);if(!a.ok)return nh.Err(a.error);const[o,s,l]=i.data,[u,c,d]=a.data,[f,h,p]=[o===u,s===c,l===d];switch(r){case pp.EQUAL:return nh.Ok(f&&h&&p);case pp.GREATER:return nh.Ok(o>u||f&&s>c||f&&h&&l>d);case pp.LOWER:return nh.Ok(o<u||f&&s<c||f&&h&&l<d);default:Dh.error(Du||(Du=eu(["Unknown version match type: ",""])),r),ah(r)}}static getVariationByHash(e,t){let n=0;for(const r of e)if(n+=r.exposition,n>=t)return r;return null}}class Ep{static insertInOrderedListMutably(e){let{list:t,element:n,order:r}=e;if(t.includes(n))return;const i=t.findIndex(e=>r===yp.Ascending?e>=n:e<=n);-1===i?t.push(n):t.splice(i,0,n)}static insertVisitInOrderedListMutably(e){let{list:t,visit:n}=e;if(t.find(e=>"number"==typeof e?e===n.timeStarted:e.timeStarted===n.timeStarted))return;const r=t.findIndex(e=>"number"==typeof e?e>=n.timeStarted:e.timeStarted>=n.timeStarted);-1===r?t.push(n):t.splice(r,0,n),t.length>26&&t.splice(0,t.length-26)}}class Sp{constructor(e){let{urlAddress:t,title:n,referrers:r}=e;this.urlAddress=t,this.title=n,this.referrers=r,this.timestamps=[{time:Date.now(),status:Ph.Unsent}]}get url(){var e;if(!this.urlAddress)return"";const t=this.title?"&title="+encodeURIComponent(this.title):"",n=(null===(e=this.referrers)||void 0===e?void 0:e.length)?"&referrersIndices="+JSON.stringify(this.referrers):"";return"eventType=page&href="+encodeURIComponent(this.urlAddress)+t+n}get status(){const{[Ph.Sent]:e,[Ph.Unsent]:t,[Ph.Pending]:n}=this.timestamps.reduce((e,t)=>{let{status:n}=t;return e[n]=!0,e},{[Ph.Sent]:!1,[Ph.Unsent]:!1,[Ph.Pending]:!1});return!e||t||n?n&&!t?Ph.Pending:Ph.Unsent:Ph.Sent}set status(e){this.timestamps=this.timestamps.map(t=>Object.assign(Object.assign({},t),{status:e}))}set _nonce(e){this.nonce=e}get data(){return{urlAddress:this.urlAddress,title:this.title,referrers:this.referrers,type:Jh.PageView,timestamps:this.timestamps,status:this.status,nonce:this.nonce}}static _fromRaw(e){const{urlAddress:t,title:n,referrers:r,timestamps:i,nonce:a}=e,o=new Sp({urlAddress:t,title:n,referrers:r});return o.timestamps=i,a&&(o._nonce=a),o}static _updateFromVisit(e,t){const n=e.pageEvents;if(n)for(const r of n){let e=[];const{time:n}=r,{href:i,title:a,referrersIndices:o}=r.data;let s;if("number"==typeof o[0]&&(e=o),t.has(i)){const r=t.get(i).timestamps;s=new Sp({urlAddress:i,title:a,referrers:e}),s.timestamps=[...r,{time:n,status:Ph.Sent}]}else s=new Sp({urlAddress:i,title:a,referrers:e}),s.timestamps=[{time:n,status:Ph.Sent}];t.set(i,s)}}}let Ip=class e{constructor(e,t){this._status=Ph.Unsent,this.isIdentifier=!1;const n="boolean"==typeof t;for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];"number"==typeof e?this.index=e:(this.name=e,this.index=-1),this.overwrite=!n||t,this.value=n?i:[t,...i].filter(e=>null!=e)}get url(){if("number"!=typeof this.index)return"";const e=[...new Set(this.value)];let t={};e.forEach(e=>{t[e]=1});let n="";return this.isIdentifier&&(n="&mappingIdentifier="+String(!0)),"eventType=customData&index="+this.index+"&valuesCountMap="+encodeURIComponent(JSON.stringify(t))+"&overwrite="+String(this.overwrite)+n}get data(){return Object.assign(Object.assign({index:this.index},void 0!==this.name?{name:this.name}:{}),{value:this.value,type:Jh.CustomData,isIdentifier:this.isIdentifier,status:this.status,overwrite:this.overwrite})}get status(){return this._isMappingIdentifier?Ph.Unsent:this._status}static _fromRaw(t){const{index:n,value:r,status:i,isIdentifier:a,name:o,overwrite:s}=t;let l;return o?(l=new e(o,null==s||s,...r),l._index=n):l=new e(n,null==s||s,...r),l.status=i,l._isMappingIdentifier=a,l}set _isMappingIdentifier(e){this.isIdentifier=e}set status(e){this._status=e}static _updateFromVisit(t,n){var r;if(null===(r=t.customDataEvents)||void 0===r?void 0:r.length)for(let i=t.customDataEvents.length-1;i>=0;i--){const{index:r,valuesCountMap:a}=t.customDataEvents[i].data;n.has(r)||n.set(r,new e(r,...Object.keys(a)))}}set _index(e){this.index=e}},Tp=class e{constructor(e){let{goalId:t,revenue:n=0,negative:r=!1,metadata:i}=e;this.goalId=t,this.revenue=n,this.negative=r,this.status=Ph.Unsent,this.id=Math.floor(1e6*Math.random()),this.metadata=i}set _id(e){this.id=e}set _nonce(e){this.nonce=e}get url(){var e;return"eventType=conversion&goalId="+String(this.goalId)+"&revenue="+String(this.revenue)+"&negative="+String(this.negative)+((null===(e=this.metadata)||void 0===e?void 0:e.length)?"&metadata="+this._encodeMetadata():"")}get data(){var e;return{goalId:this.goalId,nonce:this.nonce,revenue:this.revenue,negative:this.negative,type:Jh.Conversion,status:this.status,id:this.id,metadata:(null===(e=this.metadata)||void 0===e?void 0:e.map(e=>e.data))||void 0}}_encodeMetadata(){var e;if(!(null===(e=this.metadata)||void 0===e?void 0:e.length))return"";const t=new Set;return encodeURIComponent(JSON.stringify(this.metadata.reduce((e,n)=>(t.has(n.data.index)||(t.add(n.data.index),e[n.data.index]=n.data.value),e),{})))}static _fromRaw(t){const{goalId:n,revenue:r,negative:i,status:a,id:o,nonce:s,metadata:l}=t,u=new e({goalId:n,revenue:r,negative:i,metadata:e.parseMetadata(l)});return u._id=o,u.status=a,s&&(u._nonce=s),u}static parseMetadata(e){return(null==e?void 0:e.map(e=>Ip._fromRaw(e)))||void 0}static _listFromVisit(t){var n,r;const i=[];if(!(null===(n=t.conversionEvents)||void 0===n?void 0:n.length))return[];if(null===(r=t.conversionEvents)||void 0===r?void 0:r.length)for(const a of t.conversionEvents){const{goalId:t,revenue:n,negative:r}=a.data,o=new e({goalId:t,revenue:n,negative:r});o.status=Ph.Sent,i.push(o)}return i}static _updateFromVisit(t,n){var r;if(null===(r=t.conversionEvents)||void 0===r?void 0:r.length)for(const i of t.conversionEvents){const{goalId:t}=i.data;if(!n.has(t)){const r=new e({goalId:t});r.status=Ph.Sent,n.set(t,r)}}}},_p=class e{constructor(e,t){this.browser=e,this.version=t,this.status=Ph.Unsent}get url(){if(!this.browser)return"";const e=this.version?ph+this.version:"";return fh+kh+this.browser+hh+tp[this.browser]+e}get data(){return{browser:this.browser,type:Jh.Browser,version:this.version,status:this.status}}static _fromRaw(t){const{browser:n,version:r,status:i}=t,a=new e(n,r);return a.status=i,a}static _fromVisit(t){if(!t.staticDataEvent)return;const{browser:n,browserIndex:r,browserVersion:i}=t.staticDataEvent.data;if(n||"number"==typeof r){const t=null!=n?n:np[r];return i?new e(t,i):new e(t)}}},Rp=class e{constructor(e){this.device=e,this.status=Ph.Unsent}get url(){return this.device?fh+gh+this.device:""}get data(){return{device:this.device,type:Jh.Device,status:this.status}}static _fromRaw(t){const{device:n,status:r}=t,i=new e(n);return i.status=r,i}static _fromVisit(t){var n;if(null===(n=t.staticDataEvent)||void 0===n?void 0:n.data.deviceType)return new e(t.staticDataEvent.data.deviceType)}},Dp=class e{constructor(e){this.operatingSystem=e,this.status=Ph.Unsent}get url(){return this.operatingSystem?fh+wh+this.operatingSystem+Ch+Zh[this.operatingSystem]:""}get data(){return{operatingSystem:this.operatingSystem,type:Jh.OperatingSystem,status:this.status}}static _fromRaw(t){const{operatingSystem:n,status:r}=t,i=new e(n);return i.status=r,i}static _fromVisit(t){if(!t.staticDataEvent)return;const{os:n,osIndex:r}=t.staticDataEvent.data;if(n||"number"==typeof r){const t=null!=n?n:ep[r];return new e(t)}}};class Ap{constructor(e){let{country:t,region:n,city:r,postalCode:i,coordinates:a}=e;this.country=t,this.region=n,this.city=r,this.postalCode=i,this.coordinates=a,this.status=Ph.Unsent}get url(){const e=this.region?"&region="+encodeURIComponent(this.region):"",t=this.city?"&city="+encodeURIComponent(this.city):"",n=this.postalCode?"&postalCode="+encodeURIComponent(this.postalCode):"",r=this.coordinates?"&latitude="+this.coordinates[0]+"&longitude="+this.coordinates[1]:"";return"eventType=geolocation&country="+encodeURIComponent(this.country)+e+t+n+r}get data(){return{type:Jh.GeolocationData,country:this.country,region:this.region,city:this.city,postalCode:this.postalCode,coordinates:this.coordinates,status:this.status}}static _fromRaw(e){const{country:t,region:n,city:r,postalCode:i,coordinates:a,status:o}=e,s=new Ap({country:t,region:n,city:r,postalCode:i,coordinates:a});return s.status=o,s}static _fromVisit(e){var t;if(!(null===(t=e.geolocationEvents)||void 0===t?void 0:t.length))return;let n;for(const o of e.geolocationEvents){const{data:e}=o;e.country&&(n=e)}const{country:r,region:i,city:a}=n||{};return r?new Ap(i&&a?{country:r,region:i,city:a}:i?{country:r,region:i}:{country:r}):void 0}}class Op{constructor(e){this.status=Ph.Sent,this.visits=e,this.visitNumber=e.length?e.length-1:0}get url(){return""}get data(){return{visits:this.visits,visitNumber:this.visitNumber,type:Jh.VisitsData,status:this.status}}get isSent(){return!0}set timestamp(e){Ep.insertVisitInOrderedListMutably({list:this.visits,visit:e}),this.visitNumber=this.visits.length?this.visits.length-1:0}updateVisitNumber(e){e>this.visitNumber&&(this.visitNumber=e)}}class Np{constructor(e){this.kcs=e,this.status=Ph.Sent}get url(){return""}get data(){return{kcs:this.kcs,type:Jh.KameleoonConversionScore,status:this.status}}}class Pp{constructor(e,t){this.id=e,this.variationId=t,this.status=Ph.Sent}get url(){return""}get data(){return{id:this.id,variationId:this.variationId,type:Jh.Personalization,status:Ph.Sent}}static _fromRaw(e){return new Pp(e.id,e.variationId)}static _updateFromVisit(e,t){var n;if(null===(n=e.personalizationEvents)||void 0===n?void 0:n.length)for(const r of e.personalizationEvents){const{id:e,variationId:n}=r.data;if(!t.has(e)){const r=new Pp(e,n);t.set(e,r)}}}}class xp{constructor(e){this.values=new Map(Object.entries(e).map(e=>{let[t,n]=e;return[Number(t),this.extractVarIds(n)]})),this.cbs=e,this.status=Ph.Sent}extractVarIds(e){const t=new Map;return Object.entries(e).forEach(e=>{let[n,r]=e;t.has(r)||t.set(r,[]),t.get(r).push(Number(n))}),Array.from(t.entries()).sort((e,t)=>{let[n]=e,[r]=t;return r-n}).map(e=>{let[,t]=e;return{ids:t.sort((e,t)=>e-t)}})}getValues(){return this.values}get url(){return""}get data(){return{cbs:this.cbs,type:Jh.CBScores,status:this.status}}static _fromRaw(e){const t=new xp(e.cbs);return t.status=e.status,t}}class Vp{constructor(e){let{filters:t,dataManager:n,visitorCode:r}=e;this.visitsData=new Op([]),this.visitorData=[],this.storageVisitorData=[],this.experimentData={},this.singleDataTypes={[Jh.Device]:null,[Jh.Browser]:null,[Jh.GeolocationData]:null,[Jh.OperatingSystem]:null,[Jh.KameleoonConversionScore]:null,[Jh.CBScores]:null},this.multipleDataTypes={[Jh.CustomData]:new Map,[Jh.PageView]:new Map,[Jh.Conversion]:new Map,[Jh.Personalization]:new Map},this.filters=t,this.dataManager=n,this.visitorDataTypes=n.getVisitorStoredDataTypes(r)}get data(){return{visitorData:this.visitorData,storageVisitorData:this.storageVisitorData,visitsData:this.visitsData,experimentData:this.experimentData}}processVisit(e){this.processBrowser(e),this.processDevice(e),this.processOperatingSystem(e),this.processGeolocationData(e),this.processCustomData(e),this.processConversion(e),this.processPageView(e),this.processExperiments(e),this.processPersonalization(e)}processMultipleDataTypes(){for(const[e,t]of Object.entries(this.multipleDataTypes))if(t.size)switch(e){case Jh.PageView:this.visitorData.push(...t.values()),this.storageVisitorData.push(...t.values());break;case Jh.Personalization:case Jh.Conversion:this.storageVisitorData.push(...t.values());break;case Jh.CustomData:t.forEach(e=>{this.visitorData.push(e),this.dataManager.storedCustomDataIndexes.has(e.data.index)||this.storageVisitorData.push(e)})}}processKcs(e){if(this.filters.kcs&&e){const t=new Np(e);this.storageVisitorData.push(t)}}processVisitsData(e){var t;this.visitsData.timestamp={timeStarted:e.timeStarted,timeLastActivity:null!==(t=e.timeLastEvent)&&void 0!==t?t:e.timeStarted}}processVisitNumber(e,t){if(e.staticDataEvent){const n=e.staticDataEvent.data.visitNumber+(t?0:1);this.visitsData.updateVisitNumber(n)}}processCbs(e){if(this.filters.cbs&&e){const t=new xp(e);this.storageVisitorData.push(t)}}processBrowser(e){if(this.filters.browser&&!this.singleDataTypes[Jh.Browser]){const t=_p._fromVisit(e);t&&(this.visitorDataTypes.has(Jh.Browser)||this.storageVisitorData.push(t),this.visitorData.push(t),this.singleDataTypes[Jh.Browser]=t)}}processDevice(e){if(this.filters.device&&!this.singleDataTypes[Jh.Device]){const t=Rp._fromVisit(e);t&&(this.visitorDataTypes.has(Jh.Device)||this.storageVisitorData.push(t),this.visitorData.push(t),this.singleDataTypes[Jh.Device]=t)}}processOperatingSystem(e){if(this.filters.operatingSystem&&!this.singleDataTypes[Jh.OperatingSystem]){const t=Dp._fromVisit(e);t&&(this.visitorDataTypes.has(Jh.OperatingSystem)||this.storageVisitorData.push(t),this.visitorData.push(t),this.singleDataTypes[Jh.OperatingSystem]=t)}}processGeolocationData(e){if(this.filters.geolocation&&!this.singleDataTypes[Jh.GeolocationData]){const t=Ap._fromVisit(e);t&&(this.visitorDataTypes.has(Jh.GeolocationData)||this.storageVisitorData.push(t),this.visitorData.push(t),this.singleDataTypes[Jh.GeolocationData]=t)}}processCustomData(e){this.filters.customData&&Ip._updateFromVisit(e,this.multipleDataTypes[Jh.CustomData])}processConversion(e){if(this.filters.conversions){Tp._updateFromVisit(e,this.multipleDataTypes[Jh.Conversion]);const t=Tp._listFromVisit(e);t.length&&this.visitorData.push(...t)}}processPageView(e){this.filters.pageViews&&Sp._updateFromVisit(e,this.multipleDataTypes[Jh.PageView])}processExperiments(e){if(this.filters.experiments&&e.experimentEvents)for(const t of e.experimentEvents){const{id:e,variationId:n}=t.data;this.experimentData[e]={variationId:n,isTargetedRule:!1,status:Ph.Unsent}}}processPersonalization(e){this.filters.personalization&&Pp._updateFromVisit(e,this.multipleDataTypes[Jh.Personalization])}processMappingIdentifier(e){var t,n;if(!e)return;const r=null===(n=null===(t=e.customDataEvents)||void 0===t?void 0:t.find(e=>e.data.mappingIdentifier))||void 0===n?void 0:n.time;return r&&e.visitorCode?{mappingIdentifier:e.visitorCode,timestamp:r}:void 0}}class Lp{static parseFeatureVariable(e){const{key:t,type:n,value:r}=e;switch(n){case Nh.BOOLEAN:return nh.Ok({key:t,type:n,value:Boolean(r)});case Nh.JS:case Nh.CSS:case Nh.STRING:return nh.Ok({key:t,type:n,value:String(r)});case Nh.NUMBER:const i=Number(r);return Number.isNaN(i)?nh.Err(new oh(Qf.NumberParse,String(r))):nh.Ok({key:t,type:n,value:i});case Nh.JSON:try{const r=JSON.parse(String(e.value));return nh.Ok({key:t,type:n,value:r})}catch(e){return nh.Err(new oh(Qf.JSONParse,e))}default:ah(n)}}static parseVisitorData(e){let{data:t,filters:n,visitorCode:r,dataManager:i,variationConfiguration:a}=e;const o=new Vp({filters:n,dataManager:i,visitorCode:r}),{currentVisit:s,previousVisits:l,kcs:u,cbs:c}=t;if(!(null==l?void 0:l.length)&&!s)return{visitorData:[],storageVisitorData:[],visitsData:new Op([])};s&&(o.processVisit(s),o.processVisitNumber(s,!0)),null==l||l.forEach(e=>{o.processVisit(e),o.processVisitsData(e),o.processVisitNumber(e,!1)}),o.processKcs(u),o.processCbs(c),o.processMultipleDataTypes();const d=o.processMappingIdentifier(null!=s?s:null==l?void 0:l[0]),{visitorData:f,storageVisitorData:h,visitsData:p,experimentData:g}=o.data;return a.updateStoredVariations(r,g),{visitorData:f,storageVisitorData:h,visitsData:p,mappingIdentifier:d}}static parseRegExp(e){if("/"===e[0]){const[t,n,r]=e.split("/");return new RegExp(n,r)}return new RegExp(e)}static parseSecret(e){if(null===e)return"null";const t=e.length;if(t<=4)return"*".repeat(t);const n=Math.max(t-4,4);return e.substring(0,t-n)+"*".repeat(n)}}class Fp{constructor(e,t){Dh.debug(Au||(Au=eu(["CALL: new ClientSettings(siteCode: ",", configuration: ",")"])),e,t),this.siteCode=e,this.environment=this.getEnvironment(t),this.networkDomain=this.getNetworkDomain(t),this.updateInterval=this.getUpdateInterval(t),this.cleanupInterval=this.getCleanupInterval(t),this.requestTimeout=this.getRequestTimeout(t),this.trackingInterval=this.getTrackingInterval(t),this.trackRetryDelay=5*xh.Second,Dh.debug(Ou||(Ou=eu(["RETURN: new ClientSettings(siteCode: ",", configuration: ",")"])),e,t)}getTrackingInterval(e){return"number"==typeof(null==e?void 0:e.trackingInterval)?e.trackingInterval<100?(Dh.warning("Tracking interval must not be shorter than 100 ms. Minimum possible interval was applied."),100):e.trackingInterval>1e3?(Dh.warning("Tracking interval must not be longer than 1000 ms. Maximum possible interval was applied."),1e3):e.trackingInterval:1e3}getEnvironment(e){return(null==e?void 0:e.environment)?e.environment:Oh.Production}getCleanupInterval(e){return"number"==typeof(null==e?void 0:e.targetingDataCleanupInterval)?e.targetingDataCleanupInterval<1?(Dh.warning("Targeting data cleanup interval must not be shorter than 1 minute. Minimum possible interval was applied."),1*xh.Minute):e.targetingDataCleanupInterval*xh.Minute:null}getUpdateInterval(e){return"number"==typeof(null==e?void 0:e.updateInterval)?e.updateInterval<1?(Dh.warning("Update interval must not be shorter than 1 minute. Minimum possible interval was applied."),1*xh.Minute):e.updateInterval*xh.Minute:60*xh.Minute}getNetworkDomain(e){const t=Cp.validateNetworkDomain(null==e?void 0:e.networkDomain);return t.ok?t.data:null}getRequestTimeout(e){return"number"==typeof(null==e?void 0:e.requestTimeout)?e.requestTimeout:10*xh.Second}get settings(){return{trackingInterval:this.trackingInterval,trackRetryDelay:this.trackRetryDelay,cleanupInterval:this.cleanupInterval,updateInterval:this.updateInterval,requestTimeout:this.requestTimeout,networkDomain:this.networkDomain,environment:this.environment,siteCode:this.siteCode}}}let Mp=class e{constructor(e){this.cookie=e,this.status=Ph.Sent}static fromString(t){if(!t)return new e([]);const n=t.split(";").map(e=>{const[n,r]=e.trim().split("=");return n?{key:n,value:r}:(Dh.warning(Nu||(Nu=eu(["Cookie string has an empty key: ",""])),t),null)}).filter(e=>null!==e);return new e(n)}get url(){return""}get data(){return{cookie:this.cookie,type:Jh.Cookie,status:this.status}}};class Up{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;this.cleanupInterval=e,this.packageInfo=t}mutUpdateData(e){let{infoData:t,visitorCode:n,mutData:r,dataItem:i}=e,{visitorReference:a,data:o,isReference:s}=this.dereferenceData(r,n);this.packageInfo.isServer&&s&&!r[a]&&(t.mappingIdentifiers&&delete t.mappingIdentifiers[n],delete r[n],a=n);const l=this.cleanupInterval?Date.now()+this.cleanupInterval:0;switch(i.data.type){case Jh.CustomData:this.updateCustomData({expirationTime:l,customData:i,visitorCode:a,mutData:o});break;case Jh.PageView:this.updatePageView({expirationTime:l,pageView:i,visitorCode:a,mutData:o});break;case Jh.Conversion:this.updateConversion({expirationTime:l,conversion:i,visitorCode:a,mutData:o});break;case Jh.VisitsData:this.updateVisitsData({expirationTime:l,visitsData:i,visitorCode:a,mutData:o});break;case Jh.Personalization:this.updatePersonalization({expirationTime:l,personalization:i,visitorCode:a,mutData:o});break;case Jh.TargetedSegment:this.updateTargetedSegment({expirationTime:l,targetedSegment:i,visitorCode:a,mutData:o});break;default:this.updateCommonData({expirationTime:l,commonData:i,visitorCode:a,mutData:o})}return l}mutCleanupData(e,t){var n;if(!this.cleanupInterval)return null;let r=0;for(const[i,a]of Object.entries(e)){if("string"==typeof a){this.removeReference({mutData:e,visitorCode:i,linkedVisitor:a,infoData:t});continue}let o=0;for(const e of Object.keys(a)){const t=e;let n;switch(t){case Jh.CustomData:case Jh.PageView:case Jh.Conversion:case Jh.Personalization:n=this.deleteNestedExpiredField(a,t);break;default:n=this.deleteExpiredField(a,t)}(!o||n&&n<o)&&(o=n)}Object.keys(e[i]).length?(!r||o&&o<r)&&(r=o):(delete e[i],this.packageInfo.isServer&&(null!==(n=t.mappingIdentifiers)&&void 0!==n||(t.mappingIdentifiers={}),delete t.mappingIdentifiers[i]))}return r}mutAddUnsentData(e){let{mutData:t,visitorCode:n,dataType:r}=e;const i=t.unsentData[n];if(i&&i.length){const e=new Set([...i]);e.add(r),t.unsentData[n]=Array.from(e)}else t.unsentData[n]=[r]}createReference(e){let{mutData:t,visitorCode:n,linkedVisitor:r}=e;t[r]=n}removeReference(e){let{mutData:t,visitorCode:n,linkedVisitor:r,infoData:i}=e;this.packageInfo.isServer&&(t[r]||(delete t[n],i.mappingIdentifiers&&delete i.mappingIdentifiers[n]))}updatePageView(e){let{visitorCode:t,mutData:n,pageView:r,expirationTime:i}=e;const{data:a}=r,o=n[t]&&Jh.PageView in n[t]&&a.urlAddress in n[t][Jh.PageView],s={expirationTime:i,visitorCode:t,data:n,key:Jh.PageView,nestedKey:a.urlAddress,value:a};if(o){const e=n[t][Jh.PageView][a.urlAddress].timestamps;for(const t of e){const{time:e}=t;if(a.timestamps.some(t=>{let{time:n}=t;return n===e}))continue;const n=a.timestamps.findIndex(t=>{let{time:n}=t;return n>=e});-1===n?a.timestamps.push(t):a.timestamps.splice(n,0,t)}this.updateNestedField(s)}else this.createNestedField(s)}updateCustomData(e){let{visitorCode:t,customData:n,mutData:r,expirationTime:i}=e;const{data:a}=n,o=r[t]&&Jh.CustomData in r[t],s={expirationTime:i,visitorCode:t,data:r,key:Jh.CustomData,nestedKey:a.index.toString(),value:a};o?this.updateNestedField(s):this.createNestedField(s)}updateConversion(e){let{conversion:t,mutData:n,visitorCode:r,expirationTime:i}=e;const{data:a}=t,o=n[r]&&Jh.Conversion in n[r],s={expirationTime:i,visitorCode:r,data:n,key:Jh.Conversion,nestedKey:a.id.toString(),value:a};o?this.updateNestedField(s):this.createNestedField(s)}updateVisitsData(e){let{visitorCode:t,mutData:n,visitsData:r,expirationTime:i}=e;var a,o;const{data:s}=r,l=n[t]&&Jh.VisitsData in n[t],u={expirationTime:i,data:n,key:Jh.VisitsData,value:s,visitorCode:t};if(l){const e=n[t][Jh.VisitsData];e.visits.forEach(e=>{Ep.insertVisitInOrderedListMutably({list:s.visits,visit:e})});const r=Math.max(null!==(a=s.visitNumber)&&void 0!==a?a:s.visits.length-1,s.visits.length-1,null!==(o=e.visitNumber)&&void 0!==o?o:0);this.updateField(Object.assign(Object.assign({},u),{value:Object.assign(Object.assign({},s),{visits:s.visits,visitNumber:r})}))}else this.createField(u)}updatePersonalization(e){let{visitorCode:t,mutData:n,personalization:r,expirationTime:i}=e;const{data:a}=r,o=n[t]&&Jh.Personalization in n[t],s={expirationTime:i,visitorCode:t,data:n,key:Jh.Personalization,nestedKey:a.id.toString(),value:a};o?this.updateNestedField(s):this.createNestedField(s)}updateTargetedSegment(e){let{visitorCode:t,mutData:n,targetedSegment:r,expirationTime:i}=e;const{data:a}=r,o=n[t]&&Jh.TargetedSegment in n[t],s={expirationTime:i,visitorCode:t,data:n,key:Jh.TargetedSegment,nestedKey:a.id.toString(),value:a};o?this.updateNestedField(s):this.createNestedField(s)}updateCommonData(e){let{visitorCode:t,mutData:n,commonData:r,expirationTime:i}=e;const{data:a}=r,o=n[t]&&a.type in n[t],s={expirationTime:i,data:n,key:a.type,visitorCode:t,value:a};o?this.updateField(s):this.createField(s)}dereferenceData(e,t){return"string"==typeof e[t]?{visitorReference:e[t],data:e,isReference:!0}:{visitorReference:t,data:e,isReference:!1}}deleteExpiredField(e,t){if(!e)return 0;const n=t;return e[n].expirationTime<Date.now()?(delete e[n],0):e[n].expirationTime}deleteNestedExpiredField(e,t){if(!e[t])return 0;const n=e[t];let r;for(const[i,a]of Object.entries(n))a&&(a.expirationTime<Date.now()?delete n[i]:(!r||a.expirationTime<r)&&(r=a.expirationTime));return Object.keys(n).length||delete e[t],r}updateField(e){let{key:t,value:n,data:r,visitorCode:i,expirationTime:a}=e;r[i][t]=Object.assign(Object.assign({},n),{expirationTime:a})}createField(e){let{key:t,value:n,data:r,visitorCode:i,expirationTime:a}=e;r[i]=Object.assign(Object.assign({},r[i]),{[t]:Object.assign(Object.assign({},n),{expirationTime:a})})}updateNestedField(e){let{key:t,nestedKey:n,value:r,data:i,visitorCode:a,expirationTime:o}=e;i[a][t][n]=Object.assign(Object.assign({},r),{expirationTime:o})}createNestedField(e){let{key:t,nestedKey:n,value:r,data:i,visitorCode:a,expirationTime:o}=e;var s;(null===(s=i[a])||void 0===s?void 0:s[t])?i[a]=Object.assign(Object.assign({},i[a]),{[t]:Object.assign(Object.assign({},i[a][t]),{[n]:Object.assign(Object.assign({},r),{expirationTime:o})})}):i[a]=Object.assign(Object.assign({},i[a]),{[t]:{[n]:Object.assign(Object.assign({},r),{expirationTime:o})}})}}class jp{constructor(e){let{browserType:t,visitNumber:n,timeSincePreviousVisit:r,os:i,deviceType:a,browserVersion:o}=e;this.browserType=t,this.visitNumber=n,this.timeSincePreviousVisit=r,this.os=i,this.deviceType=a,this.browserVersion=o}get url(){const e=this.browserVersion?ph+this.browserVersion:"",t=this.browserType?kh+this.browserType:"",n=this.browserType?hh+tp[this.browserType]:"",r=this.os?wh+this.os:"",i=this.os?Ch+Zh[this.os]:"",a=this.deviceType?gh+this.deviceType:"",o=void 0!==this.visitNumber?"&visitNumber="+this.visitNumber:"",s=void 0!==this.timeSincePreviousVisit?"&timeSincePreviousVisit="+this.timeSincePreviousVisit:"";return fh+t+n+e+o+s+r+i+a}}class zp{static setConditionFactoryInstance(e){this.conditionFactoryInstance=e}static createCondition(e){return this.conditionFactoryInstance.createCondition(e)}}class Bp{constructor(e,t,n){var r;if(this.inverseResult=!1,this.isOperator(e))this.nodeValue=e;else{const t=zp.createCondition(e);this.inverseResult=!(null===(r=e.isInclude)||void 0===r||r),t.ok?this.nodeValue=t.data:this.nodeError=t.error}this.leftChild=t,this.rightChild=n}get value(){return this.nodeValue}get error(){return this.nodeError}get left(){return this.leftChild}get right(){return this.rightChild}get inverse(){return this.inverseResult}isOperator(e){return e===sp.And||e===sp.Or}}class Kp{constructor(e){this.error=null,this.targetingTypes=new Set,Dh.debug(Pu||(Pu=eu(["CALL: new Tree(segment: ",")"])),e);const{nestedConditions:t,topLevelOperators:n}=this.flattenSegment(e),r=t.map(e=>{let{conditions:t,operators:n}=e;const r=t.map(e=>(this.targetingTypes.add(e.targetingType),new Bp(e)));return this.buildTree(r,n)});this.tree=this.buildTree(r,n),Dh.debug(xu||(xu=eu(["RETURN: new Tree(segment: ",")"])),e)}evaluate(e){const t=this.evaluateNode(this.tree,e);return this.error?nh.Err(this.error):nh.Ok(t)}hasTargetingType(e){return this.targetingTypes.has(e)}evaluateNode(e,t){if(this.isLeafNode(e)){if(e.error)return e.error.type===Qf.TargetingCondition;const n=e.value.evaluate(t);return n.ok?e.inverse?!n.data:n.data:(this.error=n.error,!1)}if(this.isNonLeafNode(e))switch(e.value){case sp.And:return this.evaluateNode(e.left,t)&&this.evaluateNode(e.right,t);case sp.Or:return this.evaluateNode(e.left,t)||this.evaluateNode(e.right,t)}return!1}isLeafNode(e){return!Boolean(e.left&&e.right)}isNonLeafNode(e){return Boolean(e.left&&e.right&&(e.value===sp.Or||e.value===sp.And))}buildTree(e,t){if(1===e.length)return e[0];for(const n of t){const t=e.shift(),r=e.shift(),i=new Bp(n,t,r);e.unshift(i)}return e[0]}flattenSegment(e){const{firstLevel:t,firstLevelOrOperators:n}=e.conditionsData,r=[];return t.forEach(e=>{const{conditions:t,orOperators:n}=e,i={operators:this.convertOperators(n),conditions:t};r.push(i)}),{topLevelOperators:this.convertOperators(n),nestedConditions:r}}convertOperators(e){return e.map(e=>e?sp.Or:sp.And)}}class Hp{constructor(e){let{device:t}=e;this.device=t}evaluate(e){let{targetingData:t}=e;const n=null==t?void 0:t[Jh.Device];if(n){const{device:e}=n;return nh.Ok(e===this.device)}return nh.Ok(!1)}}class qp{constructor(e){let{browser:t,version:n,versionMatchType:r}=e;this.browser=t,this.version=n,this.versionMatchType=r}evaluate(e){let{targetingData:t}=e;const n=null==t?void 0:t[Jh.Browser];if(n){const e=this.checkCondition(n);return this.error?nh.Err(this.error):nh.Ok(e)}return nh.Ok(!1)}checkCondition(e){const{browser:t,version:n}=e;if("string"!=typeof this.browser)return!1;if(!this.version)return t===this.browser;if(!this.versionMatchType||"number"!=typeof n)return!1;const r=parseFloat(this.version);switch(isNaN(r)&&(Dh.error(Vu||(Vu=eu(["Failed to parse version: "," in Browser condition"])),this.version),this.error=new oh(Qf.VersionParse,this.version)),this.versionMatchType){case pp.EQUAL:return t===this.browser&&n===r;case pp.GREATER:return t===this.browser&&n>r;case pp.LOWER:return t===this.browser&&n<r;default:Dh.error(Lu||(Lu=eu(["Unexpected comparing operation for Browser condition: ",""])),this.versionMatchType),ah(this.versionMatchType)}}}class Gp{constructor(e){let{goalId:t}=e;this.conditionValue=t}evaluate(e){let{targetingData:t}=e;const n=null==t?void 0:t[Jh.Conversion];if(!this.conditionValue)return nh.Ok(!1);if(n){if(Object.keys(n).length&&-1===this.conditionValue)return nh.Ok(!0);const e=Object.values(n);return nh.Ok(e.some(e=>!!e&&e.goalId===this.conditionValue))}return nh.Ok(!1)}}class Wp{constructor(e){let{customDataIndex:t,valueMatchType:n,value:r,range:i}=e;this.customDataIndex=t?Number(t):-1,this.matchType=n,this.conditionValue=r,this.range=i}evaluate(e){let{targetingData:t}=e;var n;const r=null===(n=null==t?void 0:t[Jh.CustomData])||void 0===n?void 0:n[this.customDataIndex];if(this.matchType===lp.UNDEFINED)return nh.Ok(!r);if(r){const{value:e}=r,t=this.checkCondition(e);return this.error?nh.Err(this.error):nh.Ok(t)}return nh.Ok(!1)}checkCondition(e){if("string"!=typeof this.conditionValue&&this.matchType!==lp.TRUE&&this.matchType!==lp.FALSE&&this.matchType!==lp.RANGE)return Dh.error(Fu||(Fu=eu(["Unexpected condition value for CustomData condition: ",""])),this.conditionValue),!1;const t=this.conditionValue;if(this.matchType===lp.AMONG_VALUES){const n=this.parseArray(t);if(!n.ok)return this.error=n.error,!1;const r=new Set(n.data);return Array.isArray(e)?e.some(e=>r.has(e)):n.data.includes(e)}if(this.matchType===lp.RANGE){const t=this.parseRange(this.range);if(!t.ok)return this.error=t.error,!1;const[n,r]=t.data,i=e=>e>=n&&e<=r;return Array.isArray(e)?e.some(e=>i(Number(e))):i(Number(e))}if(Array.isArray(e))return e.some(e=>this.checkCondition(e));switch(this.matchType){case lp.CONTAINS:return e.includes(t);case lp.EXACT:return e===this.conditionValue;case lp.REGULAR_EXPRESSION:return Lp.parseRegExp(t).test(e);case lp.LOWER:return Number(e)<Number(this.conditionValue);case lp.EQUAL:return Number(e)===Number(this.conditionValue);case lp.GREATER:return Number(e)>Number(this.conditionValue);case lp.TRUE:return"true"===e.toLowerCase();case lp.FALSE:return"false"===e.toLowerCase();default:return Dh.error(Mu||(Mu=eu(["Unexpected comparing operation for CustomData condition: ",""])),this.matchType),!1}}parseArray(e){try{const t=JSON.parse(e);if(Array.isArray(t))return nh.Ok(t)}catch(t){return Dh.error(Uu||(Uu=eu(["Failed to parse array: "," in CustomData condition"])),e),nh.Err(new oh(Qf.AmongValuesCheck,t,e))}return nh.Ok([])}parseRange(e){return e&&2===e.length?nh.Ok(e):(Dh.error(ju||(ju=eu(["Failed to parse range: "," in CustomData condition"])),e),nh.Err(new oh(Qf.RangeCheck,e)))}}class $p{static getLatest(e){return Object.values(e).reduce((e,t)=>e.timestamps[e.timestamps.length-1].time>t.timestamps[t.timestamps.length-1].time?e:t)}}class Jp{constructor(e){let{matchType:t,title:n}=e;this.matchType=t,this.conditionValue=n}evaluate(e){let{targetingData:t}=e;const n=null==t?void 0:t[Jh.PageView];if(!n)return nh.Ok(!1);const r=$p.getLatest(n);return nh.Ok(this.checkCondition(r.title))}checkCondition(e){if(!this.matchType||!this.conditionValue)return!1;switch(this.matchType){case hp.CONTAINS:return e.includes(this.conditionValue);case hp.EXACT:return e===this.conditionValue;case hp.REGULAR_EXPRESSION:return Lp.parseRegExp(this.conditionValue).test(e);default:return Dh.error(zu||(zu=eu(["Unexpected comparing operation for PageTitle condition: ",""])),this.matchType),!1}}}class Yp{constructor(e){let{matchType:t,url:n}=e;this.matchType=t,this.conditionValue=n}evaluate(e){let{targetingData:t}=e;const n=null==t?void 0:t[Jh.PageView];if(!n)return nh.Ok(!1);const r=$p.getLatest(n);return nh.Ok(this.checkCondition(r.urlAddress))}checkCondition(e){if(!this.matchType||!this.conditionValue)return!1;switch(this.matchType){case hp.CONTAINS:return e.includes(this.conditionValue);case hp.EXACT:return e===this.conditionValue;case hp.REGULAR_EXPRESSION:return Lp.parseRegExp(this.conditionValue).test(e);default:return Dh.error(Bu||(Bu=eu(["Unexpected comparing operation for PageUrl condition: ",""])),this.matchType),!1}}}class Qp{constructor(e){let{sdkLanguage:t,version:n,versionMatchType:r}=e;this.sdkLanguage=t,this.conditionValue=n,this.versionMatchType=r}evaluate(e){let{sdkInfo:t}=e;return this.checkCondition(t)}checkCondition(e){const{type:t,version:n}=e;if(!this.sdkLanguage)return nh.Ok(!1);if("string"!=typeof this.conditionValue)return nh.Ok(t===this.sdkLanguage);if(!this.versionMatchType)return nh.Ok(!1);if(t!==this.sdkLanguage)return nh.Ok(!1);const r=kp.compareSemVer({version:n,compareVersion:this.conditionValue,operator:this.versionMatchType});return r.ok?nh.Ok(r.data):nh.Err(r.error)}}class Xp{constructor(e){let{visitorCode:t,matchType:n}=e;this.matchType=n,this.conditionValue=t}evaluate(e){let{visitorCode:t}=e;return nh.Ok(this.checkCondition(t))}checkCondition(e){if(!this.matchType||!this.conditionValue)return!1;switch(this.matchType){case hp.CONTAINS:return e.includes(this.conditionValue);case hp.EXACT:return e===this.conditionValue;case hp.REGULAR_EXPRESSION:return Lp.parseRegExp(this.conditionValue).test(e);default:return Dh.error(Ku||(Ku=eu(["Unexpected comparing operation for VisitorCode condition: ",""])),this.matchType),!1}}}class Zp{constructor(e){let{name:t,value:n,nameMatchType:r,valueMatchType:i}=e;this.cookie={key:null!=t?t:void 0,value:null!=n?n:void 0},this.keyMatchType=r,this.valueMatchType=i}evaluate(e){let{targetingData:t}=e;var n;const r=!this.cookie.key&&!this.cookie.value,i=Boolean(this.valueMatchType)&&Boolean(this.keyMatchType);if(r||!i)return nh.Ok(!1);const a=this.extractCookie(),o=(null===(n=null==t?void 0:t[Jh.Cookie])||void 0===n?void 0:n.cookie)||[];return nh.Ok(a.some(e=>this.checkCondition(e))||o.some(e=>this.checkCondition(e)))}extractCookie(){return"undefined"!=typeof document&&document.cookie?Mp.fromString(document.cookie).data.cookie:[]}checkCondition(e){const t=this.keyMatchType,{key:n,value:r}=e;if(t===gp.OPTIONAL){const e=this.cookie;return!!this.isOptionalCookie(e)&&this.compareCookieValue(r,e.value)}const{key:i,value:a}=this.cookie;let o;switch(t){case gp.EXACT:o=n===i;break;case gp.CONTAINS:o=n.includes(i);break;case gp.REGULAR_EXPRESSION:o=Lp.parseRegExp(i).test(n);break;default:Dh.error(Hu||(Hu=eu(["Unexpected comparing operation for Cookie condition: ",""])),t),ah(t)}return o&&this.compareCookieValue(r,a)}compareCookieValue(e,t){const n=this.valueMatchType;switch(n){case lp.EXACT:return e===t;case lp.CONTAINS:return e.includes(t);case lp.REGULAR_EXPRESSION:return Lp.parseRegExp(t).test(e);default:return Dh.error(qu||(qu=eu(["Unexpected comparing operation for Cookie condition: ",""])),n),!1}}isOptionalCookie(e){const{value:t}=e;return void 0!==t}}class eg{constructor(e){let{os:t}=e;this.operatingSystem=t}evaluate(e){let{targetingData:t}=e;const n=null==t?void 0:t[Jh.OperatingSystem];if(n){const{operatingSystem:e}=n;return nh.Ok(e===this.operatingSystem)}return nh.Ok(!1)}}class tg{constructor(e){let{country:t,region:n,city:r}=e;this.country=t,this.region=n,this.city=r}evaluate(e){let{targetingData:t}=e;const n=null==t?void 0:t[Jh.GeolocationData];if(n){const{country:e,region:t,city:r}=n,[i,a,o]=[this.country,this.region,this.city];if(!i||!e)return nh.Ok(!1);const s=!(e.toLowerCase()!==i.toLowerCase()||a&&(null==t?void 0:t.toLowerCase())!==a.toLowerCase()||o&&(null==r?void 0:r.toLowerCase())!==o.toLowerCase());return nh.Ok(s)}return nh.Ok(!1)}}class ng{constructor(e){let{segmentId:t}=e;this.segmentId=t}evaluate(e){const{segments:t,trees:n}=e;if(!this.segmentId)return nh.Ok(!1);const r=null==t?void 0:t.get(this.segmentId.toString());if(!r)return nh.Ok(!1);const i=null==n?void 0:n.get(this.segmentId.toString());return i?i.evaluate(e):new Kp(r).evaluate(e)}}class rg{constructor(e){let{featureFlagId:t,variationKey:n,ruleId:r}=e;this.featureId=t,this.ruleId=r,this.variationKey=n}evaluate(e){let{variationData:t,ruleMap:n}=e;var r,i,a,o;if(!this.featureId||!n)return nh.Ok(!1);if(this.featureId&&!this.ruleId&&!this.variationKey){for(const[e,i]of n){const{featureId:e,experimentId:n}=i;if(e===this.featureId&&"number"==typeof(null===(r=t[n])||void 0===r?void 0:r.variationId))return nh.Ok(!0)}return nh.Ok(!1)}if(this.featureId&&this.ruleId){const e=n.get(this.ruleId);if(!e)return nh.Ok(!1);const{experimentId:r,variations:o}=e;if(this.variationKey){const e=o.get(this.variationKey);return nh.Ok(Boolean(e)&&(null===(i=t[r])||void 0===i?void 0:i.variationId)===e)}return nh.Ok(Boolean(null===(a=t[e.experimentId])||void 0===a?void 0:a.variationId))}if(this.featureId&&!this.ruleId&&this.variationKey)for(const[s,l]of n){const{featureId:e,experimentId:n,variations:r}=l;if(e===this.featureId&&r.has(this.variationKey)){const e=r.get(this.variationKey);return nh.Ok(Boolean(e)&&(null===(o=t[n])||void 0===o?void 0:o.variationId)===e)}}return nh.Ok(!1)}}class ig{constructor(e){let{matchType:t,url:n}=e;this.conditionValue=n,this.matchType=t}evaluate(e){let{targetingData:t}=e;const n=null==t?void 0:t[Jh.PageView];if(!n)return nh.Ok(!1);const r=this.getSecondLatestPageView(Object.values(n));if(!r)return nh.Ok(!1);const i=r.urlAddress;return nh.Ok(this.checkCondition(i))}checkCondition(e){if(!this.matchType||!this.conditionValue)return!1;switch(this.matchType){case hp.CONTAINS:return e.includes(this.conditionValue);case hp.EXACT:return e===this.conditionValue;case hp.REGULAR_EXPRESSION:return Lp.parseRegExp(this.conditionValue).test(e);default:return Dh.error(Gu||(Gu=eu(["Unexpected comparing operation for PreviousPage condition: ",""])),this.matchType),!1}}getSecondLatestPageView(e){if(e.length<2)return;let t,n;return e.forEach(e=>{const r=e.timestamps[e.timestamps.length-1].time;if(t)return r>t.timestamps[t.timestamps.length-1].time?(n=t,void(t=e)):void(r>(n?n.timestamps[n.timestamps.length-1].time:0)&&(n=e));t=e}),n}}class ag{constructor(e){let{matchType:t,pageCount:n}=e;this.matchType=t,this.conditionValue=n}evaluate(e){let{targetingData:t}=e;const n=null==t?void 0:t[Jh.PageView];if(!n)return nh.Ok(!1);let r=0;return Object.values(n).forEach(e=>{r+=e.timestamps.length}),nh.Ok(this.checkCondition(r))}checkCondition(e){if(!this.matchType||"number"!=typeof this.conditionValue)return!1;switch(this.matchType){case hp.EQUAL:return e===this.conditionValue;case hp.GREATER:return e>this.conditionValue;case hp.LOWER:return e<this.conditionValue;default:return Dh.error(Wu||(Wu=eu(["Unexpected comparing operation for VisitedPages condition: ",""])),this.matchType),!1}}}class og{constructor(e){let{matchType:t,count:n,unitOfTime:r}=e;this.matchType=t,this.conditionValue=n,this.timeUnit=r}evaluate(e){let{targetingData:t,sdkInfo:n}=e;const r=null==t?void 0:t[Jh.VisitsData];if(n.isServer?!(null==r?void 0:r.visits.length):!(null==r?void 0:r.visits)||r.visits.length<2)return nh.Ok(!1);const i=r.visits[0];return nh.Ok(this.checkCondition("number"==typeof i?i:i.timeStarted))}checkCondition(e){if(!this.matchType||"number"!=typeof this.conditionValue||!this.timeUnit)return!1;const t=Date.now()-e,n=kp.convertTimeUnit(t,this.timeUnit);switch(this.matchType){case hp.GREATER:return n>this.conditionValue;case hp.LOWER:return n<this.conditionValue;default:return Dh.error($u||($u=eu(["Unexpected comparing operation for FirstVisit condition: ",""])),this.matchType),!1}}}class sg{constructor(e){let{matchType:t,count:n,unitOfTime:r}=e;this.matchType=t,this.conditionValue=n,this.timeUnit=r}evaluate(e){let{targetingData:t,sdkInfo:n}=e;const r=null==t?void 0:t[Jh.VisitsData];if(n.isServer?!(null==r?void 0:r.visits.length):!(null==r?void 0:r.visits)||r.visits.length<2)return nh.Ok(!1);const i=r.visits,a=i[n.isServer?i.length-1:i.length-2];return nh.Ok(this.checkCondition("number"==typeof a?a:a.timeStarted))}checkCondition(e){if(!this.matchType||"number"!=typeof this.conditionValue||!this.timeUnit)return!1;const t=Date.now()-e,n=kp.convertTimeUnit(t,this.timeUnit);switch(this.matchType){case hp.GREATER:return n>this.conditionValue;case hp.LOWER:return n<this.conditionValue;default:return Dh.error(Ju||(Ju=eu(["Unexpected comparing operation for LastVisit condition: ",""])),this.matchType),!1}}}class lg{constructor(e){let{matchType:t,visitCount:n}=e;this.matchType=t,this.conditionValue=n}evaluate(e){let{targetingData:t,sdkInfo:n}=e;const r=null==t?void 0:t[Jh.VisitsData];if(!r)return nh.Ok(!1);let i=0;const a=(new Date).setHours(0,0,0,0),{visits:o}=r;return o.forEach(e=>{let t;t="number"==typeof e?e:e.timeStarted,t>=a&&i++}),n.isServer&&(i+=1),nh.Ok(this.checkCondition(i))}checkCondition(e){if(!this.matchType||"number"!=typeof this.conditionValue)return!1;switch(this.matchType){case hp.EQUAL:return e===this.conditionValue;case hp.GREATER:return e>this.conditionValue;case hp.LOWER:return e<this.conditionValue;default:return Dh.error(Yu||(Yu=eu(["Unexpected comparing operation for SameDayVisits condition: ",""])),this.matchType),!1}}}class ug{constructor(e){let{matchType:t,visitCount:n}=e;this.matchType=t,this.conditionValue=n}evaluate(e){let{targetingData:t,sdkInfo:n}=e;const r=null==t?void 0:t[Jh.VisitsData];if(!r)return nh.Ok(!1);const i=r.visits.length+(n.isServer?1:0);return nh.Ok(this.checkCondition(i))}checkCondition(e){if(!this.matchType||"number"!=typeof this.conditionValue)return!1;switch(this.matchType){case hp.EQUAL:return e===this.conditionValue;case hp.GREATER:return e>this.conditionValue;case hp.LOWER:return e<this.conditionValue;default:return Dh.error(Qu||(Qu=eu(["Unexpected comparing operation for Visits condition: ",""])),this.matchType),!1}}}class cg{constructor(e){let{visitorType:t}=e;this.visitorType=t}evaluate(e){let{targetingData:t,sdkInfo:n}=e;const r=null==t?void 0:t[Jh.VisitsData];if(!r||!this.visitorType)return nh.Ok(!1);const{visits:i}=r,a=n.isServer?!i.length:i.length<=1;switch(this.visitorType){case up.NEW:return nh.Ok(a);case up.RETURNING:return nh.Ok(!a);default:Dh.error(Xu||(Xu=eu(["Unexpected visitor type for NewVisitor condition: ",""])),this.visitorType),ah(this.visitorType)}}}class dg{constructor(e){let{version:t,versionMatchType:n}=e;this.conditionValue=t,this.versionMatchType=n}evaluate(e){let{targetingData:t}=e;var n;const r=null===(n=null==t?void 0:t[Jh.ApplicationVersion])||void 0===n?void 0:n.version;if(!r||!this.conditionValue||!this.versionMatchType)return nh.Ok(!1);const i=kp.compareSemVer({version:r,compareVersion:this.conditionValue,operator:this.versionMatchType});return i.ok?nh.Ok(i.data):nh.Err(i.error)}}class fg{constructor(e){let{lowerBound:t,upperBound:n,keyMomentId:r,goalId:i}=e;this.lowerBound=t,this.upperBound=n,this.keyMomentId=r,this.goalId=i}evaluate(e){let{targetingData:t}=e;var n;const r=null==t?void 0:t[Jh.KameleoonConversionScore];if("number"!=typeof this.keyMomentId||"number"!=typeof this.goalId||"number"!=typeof this.lowerBound||"number"!=typeof this.upperBound||!r)return nh.Ok(!1);const i=null===(n=r.kcs[this.keyMomentId.toString()])||void 0===n?void 0:n[this.goalId.toString()];return"number"!=typeof i?nh.Ok(!1):nh.Ok(i>=this.lowerBound&&i<=this.upperBound)}}class hg{constructor(e){let{campaignType:t}=e;this.campaignType=t}evaluate(e){return nh.Ok(this.checkCondition(e))}checkCondition(e){var t;const n=Object.values(e.variationData),r=Object.values((null===(t=e.targetingData)||void 0===t?void 0:t.personalization)||{}),i=1===n.length&&null!==e.experimentId&&void 0!==e.variationData[e.experimentId],a=0===n.length,o=0===r.length;switch(this.campaignType){case fp.Experiment:return a||i;case fp.Personalization:return o;case fp.Any:return o&&(a||i);default:return!1}}}class pg{constructor(e){let{variationMatchType:t,variation:n,experiment:r}=e;this.variationMatchType=t,this.variationId=n||-1,this.experimentId=r||-1}evaluate(e){return nh.Ok(this.checkCondition(e))}checkCondition(e){const t=e.variationData[this.experimentId];if(!t)return!1;switch(this.variationMatchType){case cp.ANY:return!0;case cp.EXACT:return t.variationId===this.variationId;default:return!1}}}class gg{constructor(e){let{personalizationId:t}=e;this.personalizationId=t}evaluate(e){return e.targetingData?nh.Ok(this.checkCondition(e)):nh.Ok(!1)}checkCondition(e){var t;if(!this.personalizationId)return!1;const n=null===(t=e.targetingData)||void 0===t?void 0:t[Jh.Personalization];return void 0!==(null==n?void 0:n[this.personalizationId])}}class mg{createCondition(e){const{targetingType:t}=e;switch(t){case mp.CUSTOM_DATUM:return nh.Ok(new Wp(e));case mp.EXCLUSIVE_EXPERIMENT:return nh.Ok(new hg(e));case mp.TARGET_EXPERIMENT:return nh.Ok(new pg(e));case mp.TARGET_FEATURE_FLAG:return nh.Ok(new rg(e));case mp.TARGET_PERSONALIZATION:return nh.Ok(new gg(e));case mp.DEVICE_TYPE:return nh.Ok(new Hp(e));case mp.BROWSER:return nh.Ok(new qp(e));case mp.PAGE_URL:return nh.Ok(new Yp(e));case mp.PAGE_TITLE:return nh.Ok(new Jp(e));case mp.CONVERSIONS:return nh.Ok(new Gp(e));case mp.VISITOR_CODE:return nh.Ok(new Xp(e));case mp.SDK_LANGUAGE:return nh.Ok(new Qp(e));case mp.COOKIE:return nh.Ok(new Zp(e));case mp.OPERATING_SYSTEM:return nh.Ok(new eg(e));case mp.GEOLOCATION:return nh.Ok(new tg(e));case mp.SEGMENT:return nh.Ok(new ng(e));case mp.APPLICATION_VERSION:return nh.Ok(new dg(e));case mp.PREVIOUS_PAGE:return nh.Ok(new ig(e));case mp.PAGE_VIEWS:return nh.Ok(new ag(e));case mp.LAST_VISIT:return nh.Ok(new sg(e));case mp.FIRST_VISIT:return nh.Ok(new og(e));case mp.SAME_DAY_VISITS:return nh.Ok(new lg(e));case mp.VISITS:return nh.Ok(new ug(e));case mp.NEW_VISITORS:return nh.Ok(new cg(e));case mp.HEAT_SLICE:return nh.Ok(new fg(e));default:return Dh.error(Zu||(Zu=eu(["Unsupported targeted condition type found: ",""])),t),nh.Err(new oh(Qf.TargetingCondition,t))}}}var vg;!function(e){e.ClientData="kameleoonClientData",e.TargetingData="kameleoonTargetingData",e.TrackingData="kameleoonTrackingData",e.VariationData="kameleoonVariationData",e.VisitorCode="kameleoonVisitorCode",e.ConsentData="kameleoonConsentData",e.DataInfo="kameleoonDataInfo",e.KameleoonSimulationFFData="kameleoonSimulationFFData",e.ForcedFeatureVariation="kameleoonForcedFeatureVariation",e.ForcedExperimentVariation="kameleoonForcedExperimentVariation"}(vg||(vg={}));const yg={data:{customData:[],featureFlags:[],configuration:{realTimeUpdate:!1,consentType:jh.NotRequired,dataApiDomain:"data.kameleoon.io"}},lastUpdate:""},bg=29*xh.Minute;class wg{constructor(e){this.key=e}isDataValid(e){switch(this.key){case vg.ClientData:return this.checkClientDataIntegrity(e);case vg.TargetingData:return this.checkTargetingDataIntegrity(e);case vg.DataInfo:return this.checkDataInfoIntegrity(e);case vg.VariationData:return this.checkVariationDataIntegrity(e);case vg.TrackingData:return this.checkTrackingDataIntegrity(e);default:return!0}}getDefaultData(){switch(this.key){case vg.ClientData:return this.getDefaultClientData();case vg.DataInfo:return{unsentData:{},nextVisitTime:0,mappingIdentifiers:{}};case vg.TrackingData:return{scheduledVisitors:{}};case vg.TargetingData:case vg.VariationData:case vg.ConsentData:return{};case vg.VisitorCode:case vg.KameleoonSimulationFFData:return"";case vg.ForcedExperimentVariation:case vg.ForcedFeatureVariation:return{};default:ah(this.key)}}checkTrackingDataIntegrity(e){return this.hasFields(e,["scheduledVisitors"])}checkDataInfoIntegrity(e){return this.hasFields(e,["unsentData","nextVisitTime"])}checkVariationDataIntegrity(e){const t=Object.values(e);if(!t.length)return!0;const n=e=>!this.hasFields(e,["status"])||this.hasFields(e,["isSent"]);for(const r of t)for(const e of Object.values(r))if(n(e))return!1;return!0}checkClientDataIntegrity(e){return this.hasFields(e,Object.keys(yg))}checkTargetingDataIntegrity(e){const t=Object.values(e);if(!t.length)return!0;for(const n of t){if("string"==typeof n)continue;const e=e=>!this.hasFields(e,["status"])||this.hasFields(e,["sent"])||this.hasFields(e,["timestampList"]);for(const[t,r]of Object.entries(n)){if(Array.isArray(r))return!1;switch(t){case Jh.PageView:case Jh.Conversion:case Jh.Personalization:case Jh.TargetedSegment:case Jh.CustomData:if(Object.values(r).some(t=>e(t)))return!1;continue;default:if(e(r))return!1}}}return!0}getDefaultClientData(){return Object.assign(Object.assign({},yg),{lastUpdate:(new Date).toString()})}hasFields(e,t){const n=Object.keys(e);return!(!n.length||!t.length)&&t.every(e=>n.includes(e))}}let Cg=class{constructor(e,t){this.externalStorage=e,this.storageKey=t;const n=new wg(t),r=this.read();if(!r.ok){if(r.error.type===Qf.StorageEmpty){const e=n.getDefaultData();this.write(e)}return}const i=r.data;if(!n.isDataValid(i)){const e=n.getDefaultData();this.write(e)}}read(){try{const e=this.externalStorage.read(this.storageKey);return null===e?nh.Err(new oh(Qf.StorageEmpty)):nh.Ok(e)}catch(Xf){return Dh.error(ec||(ec=eu(["Failed to read data from storage: ",""])),this.storageKey),nh.Err(new oh(Qf.StorageRead,this.storageKey))}}write(e){try{return this.externalStorage.write(this.storageKey,e),nh.Ok()}catch(e){return Dh.error(tc||(tc=eu(["Failed to write data to storage: ",""])),this.storageKey),nh.Err(new oh(Qf.StorageWrite,this.storageKey))}}update(e){const t=this.read();if(!t.ok)return t.error.type===Qf.StorageEmpty?this.write(e):t;const n=t.data;let r;return r="string"==typeof n?e:Object.assign(Object.assign({},n),e),this.write(r)}};class kg{constructor(e,t){this.externalStorage=e,this.cleanupInterval=t,t>0&&this.initCleanupInterval()}initCleanupInterval(){for(const t of Object.values(vg)){let n=null;try{switch(t){case vg.ForcedFeatureVariation:case vg.ForcedExperimentVariation:case vg.VariationData:case vg.ConsentData:Dh.info(nc||(nc=eu(["Starting cleanup for "," with interval ",""])),t,this.cleanupInterval),n=setInterval(()=>this.cleanupData(t),this.cleanupInterval);break;case vg.ClientData:case vg.TargetingData:case vg.TrackingData:case vg.VisitorCode:case vg.DataInfo:case vg.KameleoonSimulationFFData:break;default:Dh.error(rc||(rc=eu(["Unknown storage key: "," for initCleanupInterval."])),t)}}catch(e){n&&clearInterval(n),Dh.error(ic||(ic=eu(["Error while starting cleanup for "," with interval ",""])),t,this.cleanupInterval)}}}cleanupData(e){const t=this.externalStorage.read(e);if(!t)return;const n=Date.now();switch(e){case vg.VariationData:this.cleanupVariationData(t,n);break;case vg.ForcedFeatureVariation:this.cleanupForcedFeatureVariationData(t,n);break;case vg.ForcedExperimentVariation:this.cleanupForcedExperimentVariationData(t,n);break;case vg.ConsentData:this.cleanupConsentData(t,n);break;case vg.ClientData:case vg.TargetingData:case vg.TrackingData:case vg.VisitorCode:case vg.DataInfo:case vg.KameleoonSimulationFFData:break;default:Dh.error(ac||(ac=eu(["Unknown storage key: "," for cleanupData."])),e)}this.externalStorage.write(e,t)}cleanupConsentData(e,t){for(const[n,r]of Object.entries(e)){if("boolean"==typeof r){e[n]={consent:r,expirationTime:t+this.cleanupInterval};continue}const i=r;"number"==typeof i.expirationTime?i.expirationTime<t&&delete e[n]:i.expirationTime=t+this.cleanupInterval}}cleanupVariationData(e,t){for(const[n,r]of Object.entries(e))this.cleanupObjectValues(r,t),0===Object.keys(e[n]).length&&delete e[n]}cleanupForcedFeatureVariationData(e,t){for(const[n,r]of Object.entries(e))for(const[i,a]of Object.entries(r))this.cleanupObjectValues(a,t),0===Object.keys(e[Number(n)][i]).length&&delete e[Number(n)][i]}cleanupForcedExperimentVariationData(e,t){for(const[n,r]of Object.entries(e))this.cleanupObjectValues(r,t),0===Object.keys(e[n]).length&&delete e[n]}cleanupObjectValues(e,t){for(const[n,r]of Object.entries(e))"number"==typeof r.expirationTime?r.expirationTime<t&&delete e[n]:r.expirationTime=t+this.cleanupInterval}}class Eg{constructor(e){this.id=e,this.status=Ph.Unsent}get url(){return"eventType=targetingSegment"+yh+this.id}get data(){return{id:this.id,type:Jh.TargetedSegment,status:this.status}}static _fromRaw(e){const{id:t,status:n}=e,r=new Eg(t);return r.status=n,r}}class Sg{constructor(e){let{dataStorage:t,infoStorage:n,cleanupInterval:r,packageInfo:i}=e;if(this.targetingTrees=new Map,this.mappingIdentifierCustomDataIndex=null,this.persistentCustomDataIndexes=new Set,this.localCustomDataIndexes=new Set,this.customDataIndexByName=new Map,this.cleanupIntervalId=null,Dh.debug(oc||(oc=eu(["CALL: new DataManager(dataStorage, infoStorage, cleanupInterval: ",")"])),r),this.dataStorage=t,this.infoStorage=n,this.dataProcessor=new Up(r,i),this.packageInfo=i,r){const e=()=>{this.cleanupData()};try{this.cleanupIntervalId=setInterval(e,r)}catch(t){throw this.cleanupIntervalId&&clearInterval(this.cleanupIntervalId),Dh.error(sc||(sc=eu(["Failed to set cleanup interval: ",""])),r),t}}Dh.debug(lc||(lc=eu(["RETURN: new DataManager(dataStorage, infoStorage, cleanupInterval: ",")"])),r)}getUnsentData(e){const t=this.infoStorage.read();if(!t.ok)return[];const n=t.data,r=this.getVisitorData(e);if(!n.unsentData[e]||!r)return[];const i=n.unsentData[e],a=n.nextVisitTime<=Date.now();return a&&(n.nextVisitTime=Date.now()+bg,this.infoStorage.write(n)),this.getDataFromRaw(r,e=>{let{status:t,key:n,cdIndex:r}=e;return!("number"!=typeof r||!this.persistentCustomDataIndexes.has(r)||!a)||i.includes(n)&&t===Ph.Unsent})}getPendingData(e){const t=this.getVisitorData(e);return t?this.getDataFromRaw(t,e=>{let{status:t}=e;return t===Ph.Pending}):[]}getDataFromRaw(e,t){const n=[];for(const[r,i]of Object.entries(e))if(i)switch(r){case Jh.CustomData:for(const e of Object.values(i)){if(!e)continue;const{status:i,index:a}=e;if(t({status:i,key:r,cdIndex:a})){const t=Ip._fromRaw(e);n.push(t)}}break;case Jh.Conversion:for(const e of Object.values(i))if(e&&t({status:e.status,key:r})){const t=Tp._fromRaw(e);n.push(t)}break;case Jh.PageView:{const e=i;for(const i of Object.values(e))if(t({status:i.status,key:r})){const e=Sp._fromRaw(i);n.push(e)}break}case Jh.TargetedSegment:{const e=i;for(const i of Object.values(e))if(t({status:i.status,key:r})){const e=Eg._fromRaw(i);n.push(e)}break}case Jh.GeolocationData:{const e=i;if(!i)continue;if(t({status:e.status,key:r})){const t=Ap._fromRaw(e);n.push(t)}break}case Jh.Browser:{const e=i;if(t({status:e.status,key:r})){const t=_p._fromRaw(e);n.push(t)}break}case Jh.Device:{const e=i;if(t({status:e.status,key:r})){const t=Rp._fromRaw(e);n.push(t)}break}case Jh.OperatingSystem:{const e=i;if(t({status:e.status,key:r})){const t=Dp._fromRaw(e);n.push(t)}}}return n}storeTrackedData(e){this.storeData(e);const t=this.infoStorage.read();if(!t.ok)return;const n=t.data.unsentData;for(const[r,i]of Object.entries(e)){if(!n[r])return;const e=new Set(n[r]);i.forEach(t=>{let{data:n}=t;e.has(n.type)&&e.delete(n.type)});const t=i.some(e=>{let{data:t}=e;if(t.type!==Jh.CustomData)return!1;const{index:n}=t;return this.persistentCustomDataIndexes.has(n)||this.mappingIdentifierCustomDataIndex===n});t&&e.add(Jh.CustomData),n[r]=Array.from(e),n[r].length||delete n[r]}this.infoStorage.write(t.data)}storeData(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Dh.debug(uc||(uc=eu(["CALL: DataManager.storeData(visitorCode: ",", data: ",")"])),e,n);const i=this.dataStorage.read(),a=this.infoStorage.read();if(!i.ok)return i;if(!a.ok)return a;const o=i.data,s=a.data;if("string"==typeof e)this.mutUpdateTargetingData({infoData:s,targetingData:o,visitorCode:e,kameleoonData:n});else for(const[u,c]of Object.entries(e))this.mutUpdateTargetingData({infoData:s,targetingData:o,visitorCode:u,kameleoonData:c});this.cleanupData(),this.infoStorage.write(a.data);const l=this.dataStorage.write(o);return Dh.debug(cc||(cc=eu(["RETURN: DataManager.storeData(visitorCode: ",", data: ",") -> (writeResult: ",")"])),e,n,l),l}getTree(e){if(this.targetingTrees.has(e.id))return this.targetingTrees.get(e.id);const t=new Kp(e);return this.targetingTrees.set(e.id,t),t}clearTrees(){this.targetingTrees.clear()}isPersistentCustomData(e){return!!this.persistentCustomDataIndexes.size&&!!kp.isCustomData(e)&&this.persistentCustomDataIndexes.has(e.data.index)}isUniqueIdentifier(e){var t;const n=this.getVisitorData(e),r=null==n?void 0:n[Jh.UniqueIdentifier];return null!==(t=null==r?void 0:r.value)&&void 0!==t&&t}getVisitorIdentifier(e){var t,n,r;const i=this.infoStorage.read();if(!i.ok)return e;const a=i.data;return null!==(t=a.mappingIdentifiers)&&void 0!==t||(a.mappingIdentifiers={}),null!==(r=null===(n=a.mappingIdentifiers[e])||void 0===n?void 0:n.mappingIdentifier)&&void 0!==r?r:e}getMappingIdentifier(e){const t=this.infoStorage.read();if(!t.ok)return;const n=t.data;return n.mappingIdentifiers?n.mappingIdentifiers[e]:void 0}setMappingIdentifier(e,t){var n;const r=this.infoStorage.read();if(!r.ok)return;const i=r.data;null!==(n=i.mappingIdentifiers)&&void 0!==n||(i.mappingIdentifiers={});const a=i.mappingIdentifiers[e];(!a||a.timestamp<t.timestamp)&&(i.mappingIdentifiers[e]=t,this.infoStorage.write(i))}getVisitorData(e){this.cleanupData();const t=this.dataStorage.read();if(!t.ok)return;let{visitorReference:n,data:r,isReference:i}=this.dataProcessor.dereferenceData(t.data,e);if(this.packageInfo.isServer&&i&&!r[n]){const t=this.infoStorage.read();t.ok&&t.data.mappingIdentifiers&&delete t.data.mappingIdentifiers[e],delete r[e],n=e}return r[n]}getVisitorStoredDataTypes(e){const t=this.getVisitorData(e);return t?new Set(Object.keys(t)):new Set}getLinkedVisitor(e){const t=this.dataStorage.read();if(!t.ok)return null;if("string"==typeof t.data[e])return t.data[e];if(null===this.mappingIdentifierCustomDataIndex)return null;const n=t.data[e];if(!n)return null;const r=n[Jh.CustomData];return r&&r[this.mappingIdentifierCustomDataIndex]?r[this.mappingIdentifierCustomDataIndex].value[0]:null}mutUpdateTargetingData(e){let{infoData:t,visitorCode:n,kameleoonData:r,targetingData:i}=e;for(const a of r){if(a.data.type===Jh.CustomData&&!this.processCustomData({infoData:t,customData:a,mutData:i,visitorCode:n}))continue;const e=this.dataProcessor.mutUpdateData({infoData:t,visitorCode:n,mutData:i,dataItem:a}),r=t.nextDataCleanup;(!r||r&&e<r)&&(t.nextDataCleanup=e),a.data.status===Ph.Unsent&&this.dataProcessor.mutAddUnsentData({mutData:t,visitorCode:n,dataType:a.data.type})}}cleanupData(){const e=this.dataStorage.read(),t=this.infoStorage.read();if(!e.ok||!t.ok)return;const n=e.data,r=t.data,i=r.nextDataCleanup;if(i&&i<Date.now()){const e=this.dataProcessor.mutCleanupData(n,r);r.nextDataCleanup=e||void 0,this.infoStorage.write(r),this.dataStorage.write(n)}}processCustomData(e){let{infoData:t,mutData:n,customData:r,visitorCode:i}=e;var a;const{data:o}=r,s=Boolean(o.value.length&&o.value[0].length);if(o.name){const e=this.customDataIndexByName.get(o.name);if(void 0===e)return!1;o.index=e,r._index=e}if(this.mappingIdentifierCustomDataIndex===o.index&&s){r._isMappingIdentifier=!0;const e=o.value[0];i!==e&&(Dh.info(dc||(dc=eu(["Linked anonymous visitor "," with user ",""])),i,e),this.dataProcessor.createReference({infoData:t,mutData:n,visitorCode:i,linkedVisitor:o.value[0]}),null!==(a=t.mappingIdentifiers)&&void 0!==a||(t.mappingIdentifiers={}),t.mappingIdentifiers[e]={mappingIdentifier:i,timestamp:Date.now()})}return this.localCustomDataIndexes.has(o.index)&&(r.status=Ph.Sent),!0}get unsentDataVisitors(){const e=this.infoStorage.read();return e.ok?Object.keys(e.data.unsentData):[]}get identifierCustomDataIndex(){return this.mappingIdentifierCustomDataIndex}get trees(){return this.targetingTrees}get storedCustomDataIndexes(){const e=this.dataStorage.read();if(!e.ok)return new Set;const t=e.data;if(!(Jh.CustomData in t))return new Set;const n=new Set;for(const r in Object.keys(t[Jh.CustomData]))n.add(Number(r));return n}set customDataIndexes(e){var t;const[n,r]=[[],[]],i=new Map;e.forEach(e=>{e.localOnly&&n.push(e.index),e.scope===Uh.Visitor&&r.push(e.index),e.name&&i.set(e.name,e.index)}),this.mappingIdentifierCustomDataIndex=(null===(t=e.find(e=>e.isMappingIdentifier))||void 0===t?void 0:t.index)||null,this.localCustomDataIndexes=new Set(n),this.persistentCustomDataIndexes=new Set(r),this.customDataIndexByName=i}getCustomDataIndexByName(e){return this.customDataIndexByName.get(e)}}var Ig,Tg,_g,Rg={exports:{}},Dg={exports:{}},Ag=function(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if("function"==typeof t){var n=function e(){var n=!1;try{n=this instanceof e}catch(r){}return n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(t){var r=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(n,t,r.get?r:{enumerable:!0,get:function(){return e[t]}})}),n}(Object.freeze({__proto__:null,default:{}})),Og=(Tg||(Tg=1,Rg.exports=(_g=function(){return Ig||(Ig=1,Dg.exports=(e=e||function(e){var t;if("undefined"!=typeof window&&window.crypto&&(t=window.crypto),"undefined"!=typeof self&&self.crypto&&(t=self.crypto),"undefined"!=typeof globalThis&&globalThis.crypto&&(t=globalThis.crypto),!t&&"undefined"!=typeof window&&window.msCrypto&&(t=window.msCrypto),!t&&void 0!==Zf&&Zf.crypto&&(t=Zf.crypto),!t)try{t=Ag}catch(e){}var n=function(){if(t){if("function"==typeof t.getRandomValues)try{return t.getRandomValues(new Uint32Array(1))[0]}catch(e){}if("function"==typeof t.randomBytes)try{return t.randomBytes(4).readInt32LE()}catch(e){}}throw new Error("Native crypto module could not be used to get secure random number.")},r=Object.create||function(){function e(){}return function(t){var n;return e.prototype=t,n=new e,e.prototype=null,n}}(),i={},a=i.lib={},o=a.Base={extend:function(e){var t=r(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},s=a.WordArray=o.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||u).stringify(this)},concat:function(e){var t=this.words,n=e.words,r=this.sigBytes,i=e.sigBytes;if(this.clamp(),r%4)for(var a=0;a<i;a++){var o=n[a>>>2]>>>24-a%4*8&255;t[r+a>>>2]|=o<<24-(r+a)%4*8}else for(var s=0;s<i;s+=4)t[r+s>>>2]=n[s>>>2];return this.sigBytes+=i,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=o.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],r=0;r<e;r+=4)t.push(n());return new s.init(t,e)}}),l=i.enc={},u=l.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var a=t[i>>>2]>>>24-i%4*8&255;r.push((a>>>4).toString(16)),r.push((15&a).toString(16))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n[r>>>3]|=parseInt(e.substr(r,2),16)<<24-r%8*4;return new s.init(n,t/2)}},c=l.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var a=t[i>>>2]>>>24-i%4*8&255;r.push(String.fromCharCode(a))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r>>>2]|=(255&e.charCodeAt(r))<<24-r%4*8;return new s.init(n,t)}},d=l.Utf8={stringify:function(e){try{return decodeURIComponent(escape(c.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return c.parse(unescape(encodeURIComponent(e)))}},f=a.BufferedBlockAlgorithm=o.extend({reset:function(){this._data=new s.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=d.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n,r=this._data,i=r.words,a=r.sigBytes,o=this.blockSize,l=a/(4*o),u=(l=t?e.ceil(l):e.max((0|l)-this._minBufferSize,0))*o,c=e.min(4*u,a);if(u){for(var d=0;d<u;d+=o)this._doProcessBlock(i,d);n=i.splice(0,u),r.sigBytes-=c}return new s.init(n,c)},clone:function(){var e=o.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});a.Hasher=f.extend({cfg:o.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){f.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new h.HMAC.init(e,n).finalize(t)}}});var h=i.algo={};return i}(Math),e)),Dg.exports;var e}(),function(e){var t=_g,n=t.lib,r=n.WordArray,i=n.Hasher,a=t.algo,o=[],s=[];!function(){function t(t){for(var n=e.sqrt(t),r=2;r<=n;r++)if(!(t%r))return!1;return!0}function n(e){return 4294967296*(e-(0|e))|0}for(var r=2,i=0;i<64;)t(r)&&(i<8&&(o[i]=n(e.pow(r,.5))),s[i]=n(e.pow(r,1/3)),i++),r++}();var l=[],u=a.SHA256=i.extend({_doReset:function(){this._hash=new r.init(o.slice(0))},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],i=n[1],a=n[2],o=n[3],u=n[4],c=n[5],d=n[6],f=n[7],h=0;h<64;h++){if(h<16)l[h]=0|e[t+h];else{var p=l[h-15],g=(p<<25|p>>>7)^(p<<14|p>>>18)^p>>>3,m=l[h-2],v=(m<<15|m>>>17)^(m<<13|m>>>19)^m>>>10;l[h]=g+l[h-7]+v+l[h-16]}var y=r&i^r&a^i&a,b=(r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22),w=f+((u<<26|u>>>6)^(u<<21|u>>>11)^(u<<7|u>>>25))+(u&c^~u&d)+s[h]+l[h];f=d,d=c,c=u,u=o+w|0,o=a,a=i,i=r,r=w+(b+y)|0}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+a|0,n[3]=n[3]+o|0,n[4]=n[4]+u|0,n[5]=n[5]+c|0,n[6]=n[6]+d|0,n[7]=n[7]+f|0},_doFinalize:function(){var t=this._data,n=t.words,r=8*this._nDataBytes,i=8*t.sigBytes;return n[i>>>5]|=128<<24-i%32,n[14+(i+64>>>9<<4)]=e.floor(r/4294967296),n[15+(i+64>>>9<<4)]=r,t.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e}});t.SHA256=i._createHelper(u),t.HmacSHA256=i._createHmacHelper(u)}(Math),_g.SHA256)),Rg.exports),Ng=function(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}(Og);class Pg{static getHashDoubleForMEGroup(e,t){return this.calculateHash(e+t)}static getHashDouble(e){let{visitorIdentifier:t,id:n,respoolTime:r}=e,i="";return r&&(i+=String(r)),this.calculateHash(t+n+i)}static calculateHash(e){const t=Ng(e).toString();return parseInt(t,16)/Math.pow(2,256)}}class xg{constructor(e,t,n,r,i){this.storage=e,this.storageForcedExperimentVariations=t,this.storageForcedFeatureVariations=n,this.visitorCodeManager=r,this.clientConfiguration=i,r.setVariationConfiguration(this)}updateDataStatus(e){let{visitorCode:t,experimentIdList:n,status:r}=e;const i=this.storage.read();if(!i.ok)return i;let a=i.data;a[t]||(a[t]={});for(const o of n)a[t][o]=Object.assign(Object.assign({},a[t][o]),{status:r});return this.storage.write(a)}getUnsentData(e){return this.getVariationData(e,e=>e===Ph.Unsent)}getVisitorsWithUnsentData(){Dh.debug(fc||(fc=eu(["CALL: VariationConfiguration.unsentDataVisitors()"])));const e=this.storage.read();if(!e.ok)return Dh.debug(hc||(hc=eu(["RETURN: VariationConfiguration.unsentDataVisitors() -> (result: ",")"])),e),[];const t=[];for(const[n,r]of Object.entries(e.data))Object.values(r).some(e=>e.status===Ph.Unsent)&&t.push(n);return Dh.debug(pc||(pc=eu(["RETURN: VariationConfiguration.unsentDataVisitors() -> (visitors: ",")"])),t),t}getPendingData(e){return this.getVariationData(e,e=>e===Ph.Pending)}getStoredVariations(e){const t=this.storage.read();if(!t.ok)return t;const n=t.data[e];return n?nh.Ok(n):nh.Err(new oh(Qf.StorageRead,e))}getVariation(e){let{visitorCode:t,visitorIdentifier:n,featureFlag:r,targetingData:i,packageInfo:a,clientConfiguration:o,dataManager:s,track:l=!0,withAssignment:u=!1}=e;Dh.debug(gc||(gc=eu(["CALL: VariationConfiguration.getVariation(visitorCode: ",", visitorIdentifier: ",", featureFlag: ",", targetingData: ",", packageInfo: ",", clientConfiguration, dataManager, withAssignment: ",")"])),t,n,r,i,a,u);const{rules:c,featureKey:d,id:f,defaultVariationKey:h}=r;for(const g of c){const{segment:e,experimentId:c,id:p,exposition:m,respoolTime:v,variationByExposition:y}=g,b=this.getForcedExperimentVariation(t,g.experimentId);let w=null;if(b.ok&&(w=b.data,w&&w.forceTargeting)){Dh.info(mc||(mc=eu(["Visitor "," has been forced targeted for ",""])),t,g);const e=this.createAndSaveForcedTargetedVariation(t,r,g,w,l,u);return Dh.debug(vc||(vc=eu(["RETURN: VariationConfiguration.getVariation(visitorCode: ",", visitorIdentifier: ",", featureFlag: ",", targetingData: ",", packageInfo: ",", clientConfiguration, dataManager, withAssignment: ",") -> (targetedVariation: ",")"])),t,n,r,i,a,u,e),nh.Ok(e)}const C=kp.checkTargeting({segment:e,visitorCode:t,experimentId:c,targetingData:i,packageInfo:a,clientConfiguration:o,dataManager:s,variationConfiguration:this});if(!C.ok)return Dh.debug(yc||(yc=eu(["RETURN: VariationConfiguration.getVariation(visitorCode: ",", visitorIdentifier: ",", featureFlag: ",", targetingData: ",", packageInfo: ",", clientConfiguration, dataManager, withAssignment: ",") -> (targetedVariation: ",")"])),t,n,r,i,a,u,C),C;if(!C.data)continue;if(Dh.info(bc||(bc=eu(["Visitor "," has been targeted for ",""])),t,g),w){const e=this.createAndSaveForcedTargetedVariation(t,r,g,w,l,u);return Dh.debug(wc||(wc=eu(["RETURN: VariationConfiguration.getVariation(visitorCode: ",", visitorIdentifier: ",", featureFlag: ",", targetingData: ",", packageInfo: ",", clientConfiguration, dataManager, withAssignment: ",") -> (targetedVariation: ",")"])),t,n,r,i,a,u,e),nh.Ok(e)}const k=Pg.getHashDouble({visitorIdentifier:n,respoolTime:v,id:String(p)});if(Dh.debug(Cc||(Cc=eu(["Calculated ruleHash: "," for code: ",""])),k,n),k<=m){let e=this.evaluateCBScores(g,n,i);if(!e){const t=Pg.getHashDouble({visitorIdentifier:n,respoolTime:v,id:String(c)});Dh.debug(kc||(kc=eu(["Calculated variationHash: "," for code: ",""])),t,n),e=kp.getVariationByHash(y,t)}if(e){u&&this.updateStoredVariations(t,{[c]:{variationId:e.variationId,isTargetedRule:g.type===Lh.TARGETED_DELIVERY,status:l?Ph.Unsent:Ph.Sent}});const o={variationId:e.variationId,variationKey:e.variationKey,rule:g,featureFlagId:f,featureKey:d,experimentId:c,isTargetedRule:g.type===Lh.TARGETED_DELIVERY};return Dh.debug(Ec||(Ec=eu(["RETURN: VariationConfiguration.getVariation(visitorCode: ",", visitorIdentifier: ",", featureFlag: ",", targetingData: ",", packageInfo: ",", clientConfiguration, dataManager, withAssignment: ",") -> (targetedVariation: ",")"])),t,n,r,i,a,u,o),nh.Ok(o)}}if(g.type===Lh.TARGETED_DELIVERY){const e={featureKey:d,featureFlagId:f,experimentId:null,variationKey:h,variationId:null,rule:null,isTargetedRule:!0};return Dh.debug(Sc||(Sc=eu(["RETURN: VariationConfiguration.getVariation(visitorCode: ",", visitorIdentifier: ",", featureFlag: ",", targetingData: ",", packageInfo: ",", clientConfiguration, dataManager, withAssignment: ",") -> (targetedVariation: ",")"])),t,n,r,i,a,u,e),nh.Ok(e)}}const p={featureKey:d,featureFlagId:f,experimentId:null,variationKey:h,variationId:null,rule:null,isTargetedRule:!1};return Dh.debug(Ic||(Ic=eu(["RETURN: VariationConfiguration.getVariation(visitorCode: ",", visitorIdentifier: ",", featureFlag: ",", targetingData: ",", packageInfo: ",", clientConfiguration, dataManager, withAssignment: ",") -> (targetedVariation: ",")"])),t,n,r,i,a,u,p),nh.Ok(p)}createAndSaveForcedTargetedVariation(e,t,n,r,i,a){const o={variationKey:r.varByExp.variationKey,variationId:r.varByExp.variationId,rule:n,featureFlagId:t.id,featureKey:t.featureKey,experimentId:n.experimentId,isTargetedRule:n.type===Lh.TARGETED_DELIVERY};return a&&this.updateStoredVariations(e,{[n.experimentId]:{variationId:o.variationId,isTargetedRule:n.type===Lh.TARGETED_DELIVERY,status:i?Ph.Unsent:Ph.Sent}}),o}updateStoredVariations(e,t){Dh.debug(Tc||(Tc=eu(["CALL: VariationConfiguration.updateStoredVariations(visitorCode: ",", variationData: ",")"])),e,t);const n=this.storage.read();if(!n.ok)return Dh.debug(_c||(_c=eu(["RETURN: VariationConfiguration.updateStoredVariations(visitorCode: ",", variationData: ",") -> (result: ",")"])),e,t,n),n;let r=n.data;r[e]||(r[e]={});for(const a in t)r[e][a]=t[a];const i=this.storage.write(r);return Dh.debug(Rc||(Rc=eu(["RETURN: VariationConfiguration.updateStoredVariations(visitorCode: ",", variationData: ",") -> (resultWrite: ",")"])),e,t,i),i}getVariationData(e,t){const n=this.getStoredVariations(e);if(!n.ok)return[];const r=[];for(const[i,a]of Object.entries(n.data))t(a.status)&&r.push({experimentId:Number(i),variationId:a.variationId,isTargetedRule:a.isTargetedRule});return r}updateForcedExperimentVariation(e,t,n){Dh.debug(Dc||(Dc=eu(["CALL: VariationConfiguration.updateForcedExperimentVariation(visitorCode: ",", experimentId: ",", forcedExperimentVariation: ",")"])),e,t,n);const r=this.storageForcedExperimentVariations.read();if(!r.ok)return Dh.debug(Ac||(Ac=eu(["RETURN: VariationConfiguration.updateForcedExperimentVariation(visitorCode: ",", experimentId: ",", forcedExperimentVariation: ",") -> (result: ",")"])),e,t,n,r),r;let i=r.data;i[e]||(i[e]={}),n?i[e][t]=n:delete i[e][t];const a=this.storageForcedExperimentVariations.write(i);return Dh.debug(Oc||(Oc=eu(["RETURN: VariationConfiguration.updateForcedExperimentVariation(visitorCode: ",", experimentId: ",", forcedExperimentVariation: ",") -> (resultWrite: ",")"])),e,t,n,a),a}updateForcedFeatureVariations(e,t){Dh.debug(Nc||(Nc=eu(["CALL: VariationConfiguration.updateForcedFeatureVariations(visitorCode: ",", forcedFeatureVariations: ",")"])),e,t);const n=this.storageForcedFeatureVariations.read();if(!n.ok)return Dh.debug(Pc||(Pc=eu(["RETURN: VariationConfiguration.updateForcedFeatureVariations(visitorCode: ",", forcedFeatureVariations: ",") -> (result: ",")"])),e,t,n),n;let r=n.data;r[0]||(r[0]={}),r[1]||(r[1]={});const i=r[0],a=r[1];i[e]||(i[e]={}),a[e]||(a[e]={}),t.forEach(t=>{(t.simulated?a[e]:i[e])[t.featureKey]=t});const o=this.storageForcedFeatureVariations.write(r);return Dh.debug(xc||(xc=eu(["RETURN: VariationConfiguration.updateForcedFeatureVariations(visitorCode: ",", forcedFeatureVariations: ",") -> (resultWrite: ",")"])),e,t,o),o}clearSimulatedVariations(e){var t;Dh.debug(Vc||(Vc=eu(["CALL: VariationConfiguration.clearSimulatedVariations(visitorCode: ",")"])),e);const n=this.storageForcedFeatureVariations.read();if(!n.ok)return Dh.debug(Lc||(Lc=eu(["RETURN: VariationConfiguration.clearSimulatedVariations(visitorCode: ",") -> (result: ",")"])),e,n),n;let r;const i=n.data;return(null===(t=null==i?void 0:i[1])||void 0===t?void 0:t[e])?(delete i[1][e],r=this.storageForcedFeatureVariations.write(i)):r=nh.Ok(),Dh.debug(Fc||(Fc=eu(["RETURN: VariationConfiguration.clearSimulatedVariations(visitorCode: ",") -> (resultWrite: ",")"])),e,r),r}getForcedFeatureVariation(e,t){var n,r,i,a;Dh.debug(Mc||(Mc=eu(["CALL: VariationConfiguration.getForcedFeatureVariation(visitorCode: ",", featureKey: ",")"])),e,t);const o=this.storageForcedFeatureVariations.read();if(!o.ok)return Dh.debug(Uc||(Uc=eu(["RETURN: VariationConfiguration.getForcedFeatureVariation(visitorCode: ",", featureKey: ",") -> (simulatedResult: ",")"])),e,t,o),o;const s=null===(r=null===(n=o.data[1])||void 0===n?void 0:n[e])||void 0===r?void 0:r[t];if(s)return Dh.debug(jc||(jc=eu(["RETURN: VariationConfiguration.getForcedFeatureVariation(visitorCode: ",", featureKey: ",") -> (simulatedData: ",")"])),e,t,s),nh.Ok(s);const l=null===(a=null===(i=o.data[0])||void 0===i?void 0:i[e])||void 0===a?void 0:a[t];return Dh.debug(zc||(zc=eu(["RETURN: VariationConfiguration.getForcedFeatureVariation(visitorCode: ",", featureKey: ",") -> (forcedData: ",")"])),e,t,l),nh.Ok(l)}getForcedExperimentVariation(e,t){var n;Dh.debug(Bc||(Bc=eu(["CALL: VariationConfiguration.getForcedExperimentVariation(visitorCode: ",", experimentId: ",")"])),e,t);const r=this.storageForcedExperimentVariations.read();if(!r.ok)return Dh.debug(Kc||(Kc=eu(["RETURN: VariationConfiguration.getForcedExperimentVariation(visitorCode: ",", experimentId: ",") -> (forcedResult: ",")"])),e,t,r),r;const i=null===(n=r.data[e])||void 0===n?void 0:n[t];return Dh.debug(Hc||(Hc=eu(["RETURN: VariationConfiguration.getForcedExperimentVariation(visitorCode: ",", experimentId: ",") -> (forcedExperiment: ",")"])),e,t,i),nh.Ok(i)}parseForcedVariationData(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.clientConfiguration.featureFlags.get(e.featureKey);if(!n)return Dh.error(qc||(qc=eu(["Simulated feature flag '","' not found"])),e.featureKey),null;let r=null;if(0===e.experimentId)return r={featureKey:e.featureKey,rule:null,varByExp:null,simulated:t},r;for(const i of n.rules){if(e.experimentId!==i.experimentId)continue;const n=i.variationByExposition.find(t=>t.variationId===e.variationId);if(n)return r={featureKey:e.featureKey,rule:{type:i.type,experimentId:i.experimentId},varByExp:{variationKey:n.variationKey,variationId:n.variationId},simulated:t},r}return Dh.error(Gc||(Gc=eu(["Simulated variation "," not found"])),e.variationId),null}simulatedVariationFromJson(e,t){if(Dh.debug(Wc||(Wc=eu(["CALL: VariationConfiguration.simulatedVariationFromJson(featureKey: ",", data: ",")"])),e,t),!this.isSimulatedVariationJson(t))return null;const n=this.parseForcedVariationData({featureKey:e,variationId:t.varId,experimentId:t.expId},!0);return Dh.debug($c||($c=eu(["RETURN: VariationConfiguration.simulatedVariationFromJson(featureKey: ",", data: ",") -> (forcedVariation: ",")"])),e,t,n),n}isSimulatedVariationJson(e){return e&&("number"==typeof e.expId||null===e.expId)}evaluateCBScores(e,t,n){if(!n||!n.cbScores)return null;Dh.debug(Jc||(Jc=eu(["CALL: KameleoonClientImpl.evaluateCBScores(rule: ",", targetingData: ",", visitorIdentifier: ",")"])),e,n,t);const r=e.experimentId,i=new xp(n.cbScores.cbs).getValues().get(r);let a=null;if(void 0!==i){const n=e.variationByExposition,o=i.map(e=>n.filter(t=>e.ids.includes(t.variationId))).find(e=>e.length>0);if(o){let n=0;if(o.length>1){const i=Pg.getHashDouble({visitorIdentifier:t,respoolTime:e.respoolTime,id:String(r)});Dh.debug(Yc||(Yc=eu(["Calculated cbs hash "," for code ",""])),i,t),n=Math.min(Math.floor(i*o.length),o.length-1)}a=o[n]}}return Dh.debug(Qc||(Qc=eu(["RETURN: KameleoonClientImpl.evaluateCBScores(rule: ",", targetingData: ",", visitorIdentifier: ",") -> (variation: ",")"])),e,n,t,a),a}}let Vg=class{constructor(e){let{siteCode:t,externalEventSource:n,urlProvider:r}=e;this.url=r.getEventSourceUrl(),this.siteCode=t,this.eventSource=n,this.isConnectionOpen=!1}get isOpen(){return this.isConnectionOpen}open(e){this.eventSource.open({onEvent:this.handleMessage(e),url:this.url,eventType:"configuration-update-event"}),this.isConnectionOpen=!0,Dh.info(Xc||(Xc=eu(["Established a new SSE connection with: ",""])),this.url)}close(){this.eventSource.close(),this.isConnectionOpen=!1,Dh.info(Zc||(Zc=eu(["SSE connection: '","' was successfully closed"])),this.url)}onError(e){this.eventSource.onError?this.eventSource.onError(e):Dh.warning("EventSource does not have `onError` method provided. Real-time errors won't be handled.")}handleMessage(e){return t=>{Dh.debug(ed||(ed=eu(["Received new message from: ",""])),this.url);const n=JSON.parse(t.data),{siteCode:r,ts:i}=n;this.siteCode===r&&e(i)}}};const Lg=31536e3;let Fg=class{constructor(){this.isConsentRequired=!1}set consentRequired(e){this.isConsentRequired=e}get consentRequired(){return this.isConsentRequired}set getData(e){this.getDataCallback=e}set setData(e){this.setDataCallback=e}get setData(){if(this.setDataCallback)return this.setDataCallback;throw new Error("Missing setDataCallback!")}validateVisitorCode(e){return 0===e.length?nh.Err(new oh(Qf.VisitorCodeEmpty)):e.length>255?nh.Err(new oh(Qf.VisitorCodeMaxLength)):nh.Ok()}getVisitorCode(e){if(Dh.debug(td||(td=eu(["CALL: VisitorCodeManager.getVisitorCode(defaultVisitorCode: ",")"])),e),!this.getDataCallback||!this.setDataCallback)throw new Error("Missing getDataCallback or setDataCallback methods in getVisitorCode!");let t;const n=this.getDataCallback(vg.VisitorCode);return n&&(t=n),t||(e?(this.validateVisitorCode(e).throw(),t=e,Dh.debug(nd||(nd=eu(["Used default visitor code: ",""])),t)):(t=this.generateVisitorCode(),Dh.debug(rd||(rd=eu(["Generated new visitor code: ",""])),t))),this.processSimulatedVariations(t),this.isConsentRequired||this.setDataCallback({visitorCode:t,key:vg.VisitorCode,maxAge:Lg,path:"/"}),Dh.debug(id||(id=eu(["RETURN: VisitorCodeManager.getVisitorCode(defaultVisitorCode: ",") -> (visitorCode: ",")"])),e,t),t}processSimulatedVariations(e){if(this.variationConfiguration){const t=this.getSimulatedVariations(e);try{this.variationConfiguration.clearSimulatedVariations(e).throw(),null!==t&&t.length>0&&this.variationConfiguration.updateForcedFeatureVariations(e,t).throw()}catch(e){e instanceof Error&&Dh.error(ad||(ad=eu(["Failed to process simulated variations: ",""])),e.message)}}}getSimulatedVariations(e){Dh.debug(od||(od=eu(["CALL: VisitorCodeManager.getSimulatedVariations(visitorCode: ",")"])),e);const t=this.getDataCallback(vg.KameleoonSimulationFFData);let n=null;if("string"==typeof t&&t.length>0)try{const e=JSON.parse(decodeURIComponent(t));e&&"object"==typeof e&&(n=Object.entries(e).map(e=>{let[t,n]=e;return this.variationConfiguration.simulatedVariationFromJson(t,n)}).filter(e=>null!==e))}catch(e){e instanceof Error&&Dh.error(sd||(sd=eu(["Failed to parse simulated variations: ",""])),e.message)}return Dh.debug(ld||(ld=eu(["RETURN: VisitorCodeManager.getSimulatedVariations(visitorCode: ",") -> (variations: ",")"])),e,n),n}generateVisitorCode(){const e=[];for(let t=0;t<16;t++)e.push("abcdefghijklmnopqrstuvwxyz0123456789"[Math.floor(36*Math.random())]);return e.join("")}setVariationConfiguration(e){this.variationConfiguration||(this.variationConfiguration=e)}};var Mg;!function(e){e[e.Kb=1e3]="Kb",e[e.Mb=1e6]="Mb",e[e.Gb=1e9]="Gb"}(Mg||(Mg={}));const Ug=10*Mg.Mb;class jg{constructor(e){this.currentSize=0,this.resultBody=[],this.hasUserAgent=!1,this.trackingVisitors={},this.prng=e}getTrackingBody(){const e={body:this.resultBody.join("\n"),hasUserAgent:this.hasUserAgent};return this.cleanup(),e}addData(e){let{visitorCode:t,variationData:n,visitorData:r,userAgent:i,isConsentProvided:a,isMappingIdentifier:o}=e;const s=[],l=this.getVariationDataLines(n),u=this.getVisitorDataLines(r);return s.push(...l,...u),this.addVisitorTrackingLines({visitorCode:t,lines:s,userAgent:i,isConsentProvided:a,isMappingIdentifier:o})}getVisitorDataLines(e){const t=[];for(const n of e){let e;if(!(n instanceof jp||n.data.type!==Jh.Conversion&&n.data.type!==Jh.PageView)){const t=n.data.nonce;t?e=t:(e=kp.getNonce(this.prng),n.data.nonce=e)}e||(e=kp.getNonce(this.prng)),t.push(n.url+vh+e)}return t}getVariationDataLines(e){const t=[];return e.forEach(e=>{t.push("eventType=experiment"+yh+e.experimentId+"&variationId="+e.variationId+vh+kp.getNonce(this.prng))}),t}prepareVisitorBody(e){const t=this.trackingVisitors[e];if(!t)return nh.Err();const{lines:n,userAgent:r,isMappingIdentifier:i,isConsentProvided:a}=t,o=this.getIdentifier(e,i);if(n.length)n.forEach((e,t)=>{n[t]=e+o}),Dh.debug(ud||(ud=eu(["Sending tracking request for unsent data "," of visitor "," with given (or not required) consent ",""])),n,e,a);else if(a){const t=this.getActivityLine();n.push(t+o),Dh.debug(cd||(cd=eu(["Sending tracking request for activity of visitor "," with given consent"])),e)}else Dh.debug(dd||(dd=eu(["No data to send for visitor "," with no consent"])),e);r&&n.length&&(n[0]+="&userAgent="+r,this.hasUserAgent=!0);const s=this.checkSize(n);return s.ok&&this.resultBody.push(...n),s}cleanup(){this.currentSize=0,this.resultBody=[],this.hasUserAgent=!1,this.trackingVisitors={}}checkSize(e){let t=0;return t+=e.reduce((e,t)=>e+4*t.length,0),t+this.currentSize>Ug?nh.Err():(this.currentSize+=t,nh.Ok())}addVisitorTrackingLines(e){let{visitorCode:t,lines:n,userAgent:r,isConsentProvided:i,isMappingIdentifier:a}=e;return this.trackingVisitors[t]?(r&&(this.trackingVisitors[t].userAgent=r),this.trackingVisitors[t].lines.push(...n)):this.trackingVisitors[t]={isMappingIdentifier:a,isConsentProvided:i,userAgent:r,lines:n},this.prepareVisitorBody(t)}getActivityLine(){return"eventType=activity"+vh+kp.getNonce(this.prng)}getIdentifier(e,t){return(t?Eh:mh)+e}}class zg{constructor(e){let{dataManager:t,trackingStorage:n,variationConfiguration:r,trackingInterval:i,requester:a,prng:o,clientConfiguration:s}=e;this.intervalId=null,Dh.debug(fd||(fd=eu(["CALL: new Tracker(dataManager, trackingStorage, variationConfiguration, trackingInterval: ",", requester, prng, clientConfiguration)"])),i),this.dataManager=t,this.trackingStorage=n,this.variationConfiguration=r,this.requester=a,this.bodyProvider=new jg(o),this.clientConfiguration=s;try{this.intervalId=setInterval(()=>{this.sendDataAll()},i)}catch(t){throw this.intervalId&&clearInterval(this.intervalId),t}Dh.debug(hd||(hd=eu(["RETURN: new Tracker(dataManager, trackingStorage, variationConfiguration, trackingInterval: ",", requester, prng, clientConfiguration)"])),i)}scheduleVisitor(e,t){Dh.debug(pd||(pd=eu(["CALL: Tracker.scheduleVisitor(visitorCode: ",", isConsentProvided: ",")"])),e,t),this.trackingStorage.read().and(n=>{n.scheduledVisitors["_".concat(e)]={isConsentProvided:t},this.trackingStorage.write(n)}),Dh.debug(gd||(gd=eu(["RETURN: Tracker.scheduleVisitor(visitorCode: ",", isConsentProvided: ",")"])),e,t)}checkIsIdentifier(e){var t,n;const r=this.dataManager.isUniqueIdentifier(e),i=null!==(n=null===(t=this.dataManager.getMappingIdentifier(e))||void 0===t?void 0:t.mappingIdentifier)&&void 0!==n?n:e;let a=!1;if(r){const t=this.dataManager.getLinkedVisitor(e),n=this.dataManager.identifierCustomDataIndex;t||"number"!=typeof n?a=!0:this.dataManager.storeData(e,new Ip(n,e))}return a&&e!=i}getUserAgent(e){const t=this.dataManager.getVisitorData(e);if(t){const e=t[Jh.UserAgent];if(e)return e.value}}sendDataAll(){return rh(this,0,void 0,function*(){const e=this.trackingStorage.read();if(!e.ok)return;const{scheduledVisitors:t}=e.data;yield this.sendData(t)})}sendDataForVisitor(e,t){return rh(this,0,void 0,function*(){this.trackingStorage.read().ok&&(yield this.sendData({["_".concat(e)]:{isConsentProvided:t}}))})}sendData(e){return rh(this,0,void 0,function*(){const t={},n=[],r=[];for(const[o,{isConsentProvided:s}]of Object.entries(e)){let e=o.startsWith("_")?o.substring(1):o;const i=this.checkIsIdentifier(e),a=this.getUserAgent(e),l=this.getUnsentVisitorData(e,s),u=this.getUnsentVariationData(e,s);if(!this.bodyProvider.addData({visitorCode:e,variationData:u,visitorData:l,userAgent:a,isConsentProvided:s,isMappingIdentifier:i}).ok){Dh.warning("Visitor data to be tracked exceeded the request size limit. Some visitor data is kept to be sent later. If it is not caused by the peak load, decreasing the tracking interval is recommended.");break}t[e]={visitorData:l,variationData:u},r.push({visitorCode:e,isConsentProvided:s}),n.push(o)}const{body:i,hasUserAgent:a}=this.bodyProvider.getTrackingBody();if(0!==n.length&&this.trackingStorage.read().and(e=>{n.forEach(t=>{delete e.scheduledVisitors[t]}),this.trackingStorage.write(e)}),i)if((yield this.requester.track(i,a)).ok)Dh.info(md||(md=eu(["Successful request for tracking visitors: ",", data: ",""])),r,t),this.updateDataStatus(t,Ph.Sent);else{Dh.error("Tracking request failed"),Dh.info(vd||(vd=eu(["Failed request for tracking visitors: ",", data: ",""])),r,t),this.updateDataStatus(t,Ph.Unsent);let e={};for(let{visitorCode:t,isConsentProvided:n}of r)t="_".concat(t),e[t]={isConsentProvided:n};this.addNotTrackedVisitors(e)}})}addNotTrackedVisitors(e){const t=this.trackingStorage.read();if(!t.ok)return;const{scheduledVisitors:n}=t.data;Object.entries(e).forEach(e=>{let[t,{isConsentProvided:r}]=e;n[t]||(n[t]={isConsentProvided:r})}),this.trackingStorage.write({scheduledVisitors:n})}updateDataStatus(e,t){let n={};for(const[r,{visitorData:i,variationData:a}]of Object.entries(e)){const e=i.filter(e=>!(e instanceof jp)).map(e=>{const n=e;return n.status=t,n});e.length&&(n[r]=e);const o=a.map(e=>String(e.experimentId));this.variationConfiguration.updateDataStatus({visitorCode:r,experimentIdList:o,status:t})}0!==Object.keys(n).length&&(t===Ph.Sent?this.dataManager.storeTrackedData(n):this.dataManager.storeData(n))}getUnsentVisitorData(e,t){const n=this.dataManager.getUnsentData(e),r=[];if(!n.length)return[];for(const i of n)i.url&&(t||this.clientConfiguration.hasAnyTargetedDeliveryRule&&!(i instanceof jp)&&i.data.type===Jh.Conversion)&&r.push(i);if(r.length){const t=r.filter(e=>!(e instanceof jp)).map(e=>{const t=e;return t.status=Ph.Pending,t});this.dataManager.storeTrackedData({[e]:t})}return r}getUnsentVariationData(e,t){const n=this.variationConfiguration.getUnsentData(e),r=new Set;if(!n.length)return[];const i=n.filter(e=>{const n=e.isTargetedRule||t;return n&&r.add(String(e.experimentId)),n});return this.variationConfiguration.updateDataStatus({visitorCode:e,experimentIdList:Array.from(r),status:Ph.Pending}),i}}let Bg=class e{constructor(e){let{siteCode:t,dependencies:n,configuration:r,internalConfiguration:i,stubMode:a}=e;var o;if(this.initialized=!1,this.stubMode=a,a)return this.variationConfiguration={},this.clientConfiguration={},this.dataManager={},this.consentDataStorage={},this.trackingCache={},this.requester={},this.externalPackageInfo={},this.visitorCodeManager={},this.eventManager={},this.tracker={},void(this.environment="");const s=null==i?void 0:i.externals.externalLogger;s&&Dh.setLogger(s),zp.setConditionFactoryInstance(new mg),Dh.debug(yd||(yd=eu(["CALL: new KameleoonClient(siteCode: ",", dependencies: ",", configuration: ",")"])),t,n,r);const{settings:l}=new Fp(t,r);this.environment=l.environment;const{externalStorage:u,externalEventSource:c,externalPackageInfo:d,externalVisitorCodeManager:f,externalRequester:h,externalPRNG:p,customDataManager:g}=i.externals,{useAbortController:m}=i.settings,v=new Kh(10),y=new Cg(u,vg.ClientData),b=new Cg(u,vg.VariationData),w=new Cg(u,vg.ForcedExperimentVariation),C=new Cg(u,vg.ForcedFeatureVariation),k=new Cg(u,vg.ConsentData),E=new Cg(u,vg.TrackingData);let S=g;if(!S){const e=new Cg(u,vg.TargetingData),t=new Cg(u,vg.DataInfo);S=new Sg({dataStorage:e,infoStorage:t,cleanupInterval:l.cleanupInterval,packageInfo:d})}const I=null!==(o=null==n?void 0:n.urlProvider)&&void 0!==o?o:new Bh;I.initialize({domain:l.networkDomain,siteCode:l.siteCode,packageInfo:d,environment:l.environment});const T=new Ah({urlProvider:I,useAbortController:m,packageInfo:d,externalRequester:h,requestTimeout:l.requestTimeout,trackRetryDelay:l.trackRetryDelay}),_=new Vg({siteCode:l.siteCode,externalEventSource:c,urlProvider:I}),R=new Hh,D=new Wh({urlProvider:I,storage:y,updateInterval:l.updateInterval,dataManager:S,eventManager:R,requester:T,eventSource:_,externalVisitorCodeManager:f,externalPackageInfo:d,defaultDataFile:null==r?void 0:r.defaultDataFile}),A=new xg(b,w,C,f,D),O=new zg({dataManager:S,trackingStorage:E,variationConfiguration:A,requester:T,trackingInterval:l.trackingInterval,prng:p,clientConfiguration:D});this.tracker=O,this.variationConfiguration=A,this.requester=T,this.trackingCache=v,this.dataManager=S,this.clientConfiguration=D,this.externalPackageInfo=d,this.consentDataStorage=k,this.visitorCodeManager=f,this.eventManager=R,null!==l.cleanupInterval&&new kg(u,l.cleanupInterval),Dh.debug(bd||(bd=eu(["RETURN: new KameleoonClient(siteCode: ",", dependencies: ",", configuration: ",")"])),t,n,r)}initialize(){return rh(this,0,void 0,function*(){if(this.stubMode)return!1;Dh.info("CALL: KameleoonClient.initialize()");const e=yield this.clientConfiguration.initialize();return e.throw(),this.initialized=!0,Dh.info(wd||(wd=eu(["RETURN: KameleoonClient.initialize() -> (result: ",")"])),e.ok),e.ok})}addData(e){if(this.stubMode)throw new oh(Qf.Initialization);for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(Dh.info(Cd||(Cd=eu(["CALL: KameleoonClient.addData(visitorCode: ",", data: ",")"])),e,n),this.visitorCodeManager.validateVisitorCode(e).throw(),!this.initialized)throw new oh(Qf.Initialization);this.dataManager.storeData(e,...n).throw(),Dh.info(kd||(kd=eu(["RETURN: KameleoonClient.addData(visitorCode: ",", data: ",")"])),e,n)}getRemoteVisitorData(e){let{visitorCode:t,shouldAddData:n=!0,filters:r=op}=e;return rh(this,0,void 0,function*(){if(this.stubMode)throw new oh(Qf.Initialization);if(Dh.info(Ed||(Ed=eu(["CALL: KameleoonClient.getRemoteVisitorData(visitorCode: ",", shouldAddData: ",", filters: ",")"])),t,n,r),!this.initialized)throw new oh(Qf.Initialization);this.visitorCodeManager.validateVisitorCode(t).throw();const{previousVisitAmount:e}=r;if("number"==typeof e&&(e<1||e>25))throw new oh(Qf.VisitAmount);const i=this.dataManager.isUniqueIdentifier(t),a=(yield this.requester.getVisitorData({visitorCode:t,filters:r,isMappingIdentifier:i})).throw(),{visitorData:o,storageVisitorData:s,visitsData:l,mappingIdentifier:u}=Lp.parseVisitorData({data:a,filters:r,visitorCode:t,dataManager:this.dataManager,variationConfiguration:this.variationConfiguration});for(const r of s)(n||this.dataManager.isPersistentCustomData(r))&&this.addData(t,r);return l&&n&&this.addData(t,l),(null==r?void 0:r.visitorCode)&&u&&this.dataManager.setMappingIdentifier(t,u),Dh.info(Sd||(Sd=eu(["RETURN: KameleoonClient.getRemoteVisitorData(visitorCode: ",", shouldAddData: ",", filters: ",") -> (visitorData: ",")"])),t,n,r,o),o})}trackConversion(e){let{visitorCode:t,goalId:n,negative:r,revenue:i,metadata:a}=e;this.stubMode||(Dh.info(Id||(Id=eu(["CALL: KameleoonClient.trackConversion(visitorCode: ",", goalId: ",", negative: ",", revenue: ",", metadata: ",")"])),t,n,r,i,a),this.addData(t,new Tp({goalId:n,revenue:i,negative:r,metadata:a})),this.flush(t),Dh.info(Td||(Td=eu(["RETURN: KameleoonClient.trackConversion(visitorCode: ",", goalId: ",", negative: ",", revenue: ",", metadata: ",")"])),t,n,r,i,a))}flush(e){var t;if(this.stubMode)throw new oh(Qf.Initialization);let n,r=!1;if("string"==typeof e?n=e:e&&(n=e.visitorCode,r=null!==(t=e.instant)&&void 0!==t&&t),Dh.info(_d||(_d=eu(["CALL: KameleoonClient.flush(visitorCode: ",", instant: ",")"])),n,r),!this.initialized)throw new oh(Qf.Initialization);if("string"==typeof n)this.visitorCodeManager.validateVisitorCode(n).throw(),r?this.tracker.sendDataForVisitor(n,this._isConsentProvided(n)):this.tracker.scheduleVisitor(n,this._isConsentProvided(n));else{for(const e of this.dataManager.unsentDataVisitors)this.tracker.scheduleVisitor(e,this._isConsentProvided(e));for(const e of this.variationConfiguration.getVisitorsWithUnsentData())this.tracker.scheduleVisitor(e,this._isConsentProvided(e));r&&this.tracker.sendDataAll()}Dh.info(Rd||(Rd=eu(["RETURN: KameleoonClient.flush(visitorCode: ",", instant: ",")"])),n,r)}getFeatureFlags(){if(this.stubMode)throw new oh(Qf.Initialization);if(Dh.info("CALL: KameleoonClient.getFeatureFlags()"),!this.initialized)throw new oh(Qf.Initialization);const e=this.clientConfiguration.featureFlags,t=[];return e.forEach(e=>{let{id:n,featureKey:r}=e;t.push({id:n,key:r})}),Dh.info(Dd||(Dd=eu(["RETURN: KameleoonClient.getFeatureFlags() -> (FeatureFlags: ",")"])),t),t}getVisitorFeatureFlags(e){if(this.stubMode)throw new oh(Qf.Initialization);if(Dh.info(Ad||(Ad=eu(["CALL: KameleoonClient.getVisitorFeatureFlags(visitorCode: ",")"])),e),!this.initialized)throw new oh(Qf.Initialization);this.visitorCodeManager.validateVisitorCode(e).throw();const t=this._getActiveFeatureVariations(e),n=[];return t.forEach(e=>{let{featureFlagId:t,featureKey:r}=e;n.push({id:t,key:r})}),Dh.info(Od||(Od=eu(["RETURN: KameleoonClient.getVisitorFeatureFlags(visitorCode: ",") -> (FeatureFlags: ",")"])),e,n),n}getVariation(e){let{visitorCode:t,featureKey:n,track:r=!0}=e;if(this.stubMode)throw new oh(Qf.Initialization);Dh.info(Nd||(Nd=eu(["CALL: KameleoonClient.getVariation(visitorCode: ",", featureKey: ",", track: ",")"])),t,n,r),this.visitorCodeManager.validateVisitorCode(t).throw();const i=this._getFeatureVariation({visitorCode:t,featureKey:n,track:r}).throw();return Dh.info(Pd||(Pd=eu(["RETURN: KameleoonClient.getVariation(visitorCode: ",", featureKey: ",", track: ",") -> (variation: ",")"])),t,n,r,i),i}getVariations(e){let{visitorCode:t,onlyActive:n=!1,track:r=!0}=e;if(this.stubMode)throw new oh(Qf.Initialization);Dh.info(xd||(xd=eu(["CALL: KameleoonClient.getVariations(visitorCode: ",", onlyActive: ",", track: ",")"])),t,n,r),this.visitorCodeManager.validateVisitorCode(t).throw();const i=new Map,a=this.clientConfiguration.featureFlags;for(const o of a.values()){const e=this._getFeatureVariation({visitorCode:t,featureKey:o.featureKey,track:r});e.ok&&(n&&e.data.key===rp||i.set(o.featureKey,e.data))}return Dh.info(Vd||(Vd=eu(["RETURN: KameleoonClient.getVariations(visitorCode: ",", onlyActive: ",", track: ",") -> (variations: ",")"])),t,n,r,i),i}getActiveFeatureFlags(e){if(this.stubMode)throw new oh(Qf.Initialization);if(Dh.info(Ld||(Ld=eu(["CALL: KameleoonClient.getActiveFeatureFlags(visitorCode: ",")"])),e),!this.initialized)throw new oh(Qf.Initialization);this.visitorCodeManager.validateVisitorCode(e).throw();const t=this._getActiveFeatureVariations(e),n=new Map;return t.forEach(t=>{const{variationKey:r,featureKey:i,variationId:a,experimentId:o}=t;let s=[];null!==a&&null!==o&&(s=this._getFeatureVariables({visitorCode:e,featureKey:i,variationKey:r}));const l=s.map(e=>Lp.parseFeatureVariable(e).throw());n.set(t.featureKey,{key:r,id:a,experimentId:o,variables:l})}),Dh.info(Fd||(Fd=eu(["RETURN: KameleoonClient.getActiveFeatureFlags(visitorCode: ",") -> (FeatureFlags: ",")"])),e,n),n}getFeatureFlagVariationKey(e,t){if(this.stubMode)throw new oh(Qf.Initialization);Dh.info(Md||(Md=eu(["CALL: KameleoonClient.getFeatureFlagVariationKey(visitorCode: ",", featureKey: ",")"])),e,t),this.visitorCodeManager.validateVisitorCode(e).throw();const{key:n}=this._getFeatureVariation({visitorCode:e,featureKey:t,track:!0}).throw();return Dh.info(Ud||(Ud=eu(["RETURN: KameleoonClient.getFeatureFlagVariationKey(visitorCode: ",", featureKey: ",") -> (variationKey: ",")"])),e,t,n),n}getFeatureFlagVariable(e){let{visitorCode:t,featureKey:n,variableKey:r}=e;if(this.stubMode)throw new oh(Qf.Initialization);Dh.info(jd||(jd=eu(["CALL: KameleoonClient.getFeatureFlagVariable(visitorCode: ",", featureKey: ",", variableKey: ",")"])),t,n,r),this.visitorCodeManager.validateVisitorCode(t).throw();const{key:i}=this._getFeatureVariation({visitorCode:t,featureKey:n,track:!0}).throw(),a=this._getFeatureVariables({visitorCode:t,featureKey:n,variationKey:i}).find(e=>e.key===r);if(!a)throw new oh(Qf.FeatureFlagVariableNotFound,r,t);const{type:o,value:s}=Lp.parseFeatureVariable(a).throw(),l={type:o,value:s};return Dh.info(zd||(zd=eu(["RETURN: KameleoonClient.getFeatureFlagVariable(visitorCode: ",", featureKey: ",", variableKey: ",") -> (FeatureFlagVariable: ",")"])),t,n,r,l),l}getFeatureFlagVariables(e,t){if(this.stubMode)throw new oh(Qf.Initialization);Dh.info(Bd||(Bd=eu(["CALL: KameleoonClient.getFeatureFlagVariables(visitorCode: ",", featureKey: ",")"])),e,t),this.visitorCodeManager.validateVisitorCode(e).throw();const{key:n}=this._getFeatureVariation({visitorCode:e,featureKey:t,track:!0}).throw(),r=this._getFeatureVariables({visitorCode:e,featureKey:t,variationKey:n}),i=[];for(const a of r){const e=Lp.parseFeatureVariable(a).throw();i.push(e)}return Dh.info(Kd||(Kd=eu(["RETURN: KameleoonClient.getFeatureFlagVariables(visitorCode: ",", featureKey: ",") -> (FeatureFlagVariables: ",")"])),e,t,i),i}isFeatureFlagActive(e,t){if(this.stubMode)throw new oh(Qf.Initialization);let[n,r,i]=["","",!0];"string"==typeof e?(n=e,r=t):([n,r]=[e.visitorCode,e.featureKey],void 0!==e.track&&(i=e.track)),Dh.info(Hd||(Hd=eu(["CALL: KameleoonClient.isFeatureFlagActive(visitorCode: ",", featureKey: ",", track ",")"])),n,r,i),this.visitorCodeManager.validateVisitorCode(n).throw();try{const{key:e}=this._getFeatureVariation({visitorCode:n,featureKey:r,track:i}).throw(),t=e!==rp;return Dh.info(qd||(qd=eu(["RETURN: KameleoonClient.isFeatureFlagActive(visitorCode: ",", featureKey: ",", track: ",") -> (isActive: ",")"])),n,r,i,t),t}catch(e){if(e instanceof oh&&e.type===Qf.FeatureFlagEnvironmentDisabled)return Dh.info(Gd||(Gd=eu(["RETURN: KameleoonClient.isFeatureFlagActive(visitorCode: ",", featureKey: ",", track: ",") -> (isActive: false)"])),n,r,i),!1;throw e}}getRemoteData(e){return rh(this,0,void 0,function*(){if(this.stubMode)return null;Dh.info(Wd||(Wd=eu(["CALL: KameleoonClient.getRemoteData(key: ",")"])),e);const t=yield this.requester.getRemoteData(e);return Dh.info($d||($d=eu(["RETURN: KameleoonClient.getRemoteData(key: ",") -> (remoteData: ",")"])),e,t),t.throw()})}getVisitorWarehouseAudience(e){let{visitorCode:t,customDataIndex:n,warehouseKey:r}=e;return rh(this,0,void 0,function*(){if(this.stubMode)return null;Dh.info(Jd||(Jd=eu(["CALL: KameleoonClient.getVisitorWarehouseAudience(visitorCode: ",", customDataIndex: ",", warehouseKey: ",")"])),t,n,r),this.visitorCodeManager.validateVisitorCode(t).throw();const e=yield this.getRemoteData(r||t);if(!e)throw new oh(Qf.RemoteData,"No data found for ".concat(r||t," key"));if(!e[ip]||0===Object.keys(e[ip]).length)return Dh.info(Yd||(Yd=eu(["RETURN: KameleoonClient.getVisitorWarehouseAudience(visitorCode: ",", customDataIndex: ",", warehouseKey: ",") -> (customData: null)"])),t,n,r),null;const i=new Ip(n,...Object.keys(e[ip]));return this.dataManager.storeData(t,i),Dh.info(Qd||(Qd=eu(["RETURN: KameleoonClient.getVisitorWarehouseAudience(visitorCode: ",", customDataIndex: ",", warehouseKey: ",") -> (customData: ",")"])),t,n,r,i),i})}onEvent(e,t){if(this.stubMode)throw new oh(Qf.Initialization);if(Dh.info(Xd||(Xd=eu(["CALL: KameleoonClient.onEvent(event: ",", callback)"])),e),!this.initialized)throw new oh(Qf.Initialization);this.eventManager.addEventHandler(e,t),Dh.info(Zd||(Zd=eu(["RETURN: KameleoonClient.onEvent(event: ",", callback)"])),e)}getEngineTrackingCode(e){if(this.stubMode)return"";Dh.info(ef||(ef=eu(["CALL: KameleoonClient.getEngineTrackingCode(visitorCode: ",")"])),e),this.visitorCodeManager.validateVisitorCode(e).throw();const t=kp.getTrackingCode(this.trackingCache,e);return Dh.info(tf||(tf=eu(["RETURN: KameleoonClient.getEngineTrackingCode(visitorCode: ",") -> (trackingCode: ",")"])),e,t),t}isInitialized(){return Dh.debug(nf||(nf=eu(["CALL/RETURN: KameleoonClient.isInitialized() -> (initialized: ",")"])),this.initialized),this.initialized}setLogLevel(e){Dh.setLogLevel(e)}setForcedVariation(e){let{visitorCode:t,experimentId:n,variationKey:r,forceTargeting:i=!0}=e;this.stubMode||(Dh.info(rf||(rf=eu(["CALL: KameleoonClient.setForcedVariation(visitorCode: '","', experimentId: ",", variationKey: '","', forceTargeting: ",")"])),t,n,r,i),this.visitorCodeManager.validateVisitorCode(t).throw(),this._setForcedVariation({visitorCode:t,experimentId:n,variationKey:r,forceTargeting:i}).throw(),Dh.info(af||(af=eu(["RETURN: KameleoonClient.setForcedVariation(visitorCode: '","', experimentId: ",", variationKey: '","', forceTargeting: ",")"])),t,n,r,i))}evaluateAudiences(e){if(this.stubMode)return;Dh.info(of||(of=eu(["CALL: KameleoonClient.evaluateAudiences(visitorCode: ",")"])),e),this.visitorCodeManager.validateVisitorCode(e).throw();const t=[],n=this.dataManager.getVisitorData(e);for(let r of this.clientConfiguration.segments.values()){if(!r.audienceTracking)continue;const i=kp.checkTargeting({segment:r,visitorCode:e,targetingData:n,experimentId:null,clientConfiguration:this.clientConfiguration,packageInfo:this.externalPackageInfo,dataManager:this.dataManager,variationConfiguration:this.variationConfiguration});i.ok&&i.data&&(Dh.info(sf||(sf=eu(["Visitor "," has been targeted for ",""])),e,r),t.push(new Eg(Number(r.id))))}0!==t.length&&this.dataManager.storeData(e,...t),this.flush(e),Dh.info(lf||(lf=eu(["RETURN: KameleoonClient.evaluateAudiences(visitorCode: ",")"])),e)}setUserConsent(e){let{visitorCode:t,consent:n,setData:r}=e;this.stubMode||(Dh.info(uf||(uf=eu(["CALL: KameleoonClient.setUserConsent(visitorCode: ",", consent: ",", setData: ",")"])),t,n,r),this.visitorCodeManager.validateVisitorCode(t).throw(),this.updateConsentData(t,n),n?r({visitorCode:t,key:vg.VisitorCode,maxAge:Lg,path:"/"}):this.visitorCodeManager.consentRequired&&r({visitorCode:"",key:vg.VisitorCode,maxAge:0,path:"/"}),Dh.info(cf||(cf=eu(["RETURN: KameleoonClient.setUserConsent(visitorCode: ",", consent: ",", setData: ",")"])),t,n,r))}updateConsentData(e,t){const n=this.consentDataStorage.read();if(!n.ok)return void(n.error.type===Qf.StorageEmpty&&this.consentDataStorage.write({[e]:{consent:t}}));const r=n.data;r[e]={consent:t},this.consentDataStorage.write(r)}_isConsentProvided(e){Dh.debug(df||(df=eu(["CALL: KameleoonClient._isConsentProvided(visitorCode: ",")"])),e);const{isConsentRequired:t}=this.clientConfiguration,n=this.consentDataStorage.read();let r=!1;if(t){if(n.ok){const t=n.data[e];r="boolean"==typeof t?t:t&&t.consent}}else r=!0;return Dh.debug(ff||(ff=eu(["RETURN: KameleoonClient._isConsentProvided(visitorCode: ",") -> (isConsentProvided: ",")"])),e,r),r}_getFeatureVariables(e){let{visitorCode:t,featureKey:n,variationKey:r}=e;Dh.debug(hf||(hf=eu(["CALL: KameleoonClient._getFeatureVariables(visitorCode: ",", featureKey: ",", variationKey: ",")"])),t,n,r);const i=this.clientConfiguration.featureFlags.get(n);if(!i)throw new oh(Qf.FeatureFlagConfigurationNotFound,n);const a=i.variations.find(e=>e.key===r);if(!a)throw new oh(Qf.FeatureFlagVariationNotFound,r,t);return Dh.debug(pf||(pf=eu(["RETURN: KameleoonClient._getFeatureVariables(visitorCode: ",", featureKey: ",", variationKey: ",") -> (variables: ",")"])),t,n,r,a.variables),a.variables}_getActiveFeatureVariations(e){Dh.debug(gf||(gf=eu(["CALL: KameleoonClient._getActiveFeatureVariations(visitorCode: ",")"])),e);const t=this.clientConfiguration.featureFlags,n=[];for(const r of t.values()){if(!r.environmentEnabled)continue;const t=this._evaluate({visitorCode:e,featureFlag:r,track:!1,save:!1});t.variationKey!==rp&&n.push({variationKey:t.variationKey,variationId:t.variationId,experimentId:t.experimentId,featureFlagId:r.id,featureKey:r.featureKey,rule:null,isTargetedRule:t.ruleType===Lh.TARGETED_DELIVERY})}return Dh.debug(mf||(mf=eu(["RETURN: KameleoonClient._getActiveFeatureVariations(visitorCode: ",") -> (activeVariations: ",")"])),e,n),n}_evaluate(t){let n,{visitorCode:r,featureFlag:i,track:a,save:o}=t;Dh.debug(vf||(vf=eu(["CALL: KameleoonClient._evaluate(visitorCode: ",", featureFlag: ",", track: ",", save: ",")"])),r,i,a,o);let s=null;const l=this.dataManager.getVisitorData(r),u=this.variationConfiguration.getForcedFeatureVariation(r,i.featureKey);if(u.ok&&(s=u.data),s)n=e.EvaluatedExperiment.fromForcedFeatureVariation(i.defaultVariationKey,s);else if(this._isVisitorNotInHoldout(r,a,o,i,l)&&this._isFFUnrestrictedByMEGroup(r,i,l)){const t=this._getCodeForHash(r,i.bucketingCustomDataIndex,l),s=this.variationConfiguration.getVariation({visitorCode:r,visitorIdentifier:t,featureFlag:i,track:a,withAssignment:o,targetingData:l,clientConfiguration:this.clientConfiguration,dataManager:this.dataManager,packageInfo:this.externalPackageInfo}).throw();n=e.EvaluatedExperiment.fromVariationData(s)}else n=e.EvaluatedExperiment.fromDefaultVariationKey(i.defaultVariationKey);return o&&!n.isSimulated&&null!==n.experimentId&&null!==n.variationId&&this.variationConfiguration.updateStoredVariations(r,{[n.experimentId]:{variationId:n.variationId,isTargetedRule:n.ruleType===Lh.TARGETED_DELIVERY,status:a?Ph.Unsent:Ph.Sent}}),this.eventManager.fireEvent(zh.Evaluation,{featureKey:i.featureKey,variation:{key:n.variationKey,experimentId:n.experimentId,id:n.variationId}}),Dh.debug(yf||(yf=eu(["RETURN: KameleoonClient._evaluate(visitorCode: ",", featureFlag: ",", track: ",", save: ",") -> (evalExp: ",")"])),r,i,a,o,n),n}_isFFUnrestrictedByMEGroup(e,t,n){const r=t.mutuallyExclusiveGroup;if(!r)return!0;Dh.debug(bf||(bf=eu(["CALL: KameleoonClient._isFFUnrestrictedByMEGroup(visitorCode: ",", featureFlag: ",", visitorData: ",")"])),e,t,n);let i=!0;const a=this.clientConfiguration.meGroups.get(r);if(a){const o=this._getCodeForHash(e,t.bucketingCustomDataIndex,n),s=Pg.getHashDoubleForMEGroup(o,r);Dh.debug(wf||(wf=eu(["Calculated meGroup hash "," for code: ",", meGroup: ",""])),s,o,r),i=a.getFeatureFlagByHash(s)===t}return Dh.debug(Cf||(Cf=eu(["RETURN: KameleoonClient._isFFUnrestrictedByMEGroup(visitorCode: ",", featureFlag: ",", visitorData: ",") -> (selected: ",")"])),e,t,n,i),i}_getFeatureVariation(e){let{visitorCode:t,featureKey:n,track:r}=e;if(Dh.debug(kf||(kf=eu(["CALL: KameleoonClient._getFeatureVariation(visitorCode: ",", featureKey: ",", track: ",")"])),t,n,r),!this.initialized)return nh.Err(new oh(Qf.Initialization));const i=this.clientConfiguration.featureFlags.get(n);if(!i)return nh.Err(new oh(Qf.FeatureFlagConfigurationNotFound,n));if(!i.environmentEnabled)return nh.Err(new oh(Qf.FeatureFlagEnvironmentDisabled,i.featureKey,this.environment));const a=this._evaluate({visitorCode:t,featureFlag:i,track:r,save:!0}),{experimentId:o,variationId:s,variationKey:l,isSimulated:u}=a;let c=new Map,d=!1;try{this._getFeatureVariables({visitorCode:t,featureKey:n,variationKey:l}).forEach(e=>{d||e.type!==Nh.JS&&e.type!==Nh.CSS||(d=!0);const t=Lp.parseFeatureVariable(e).throw();c.set(e.key,t)})}catch(t){}o&&"number"==typeof s&&!u&&kp.updateCache({cacheManager:this.trackingCache,hasJsCssVariables:d,visitorCode:t,experimentId:o,variationId:s}),r&&!u&&this.tracker.scheduleVisitor(t,this._isConsentProvided(t));const f={key:l,id:s,experimentId:o,variables:c};return Dh.debug(Ef||(Ef=eu(["RETURN: KameleoonClient._getFeatureVariation(visitorCode: ",", featureKey: ",", track: ",") -> (variation: ",")"])),t,n,r,f),nh.Ok(f)}_isVisitorNotInHoldout(e,t,n,r,i){const a=this.clientConfiguration.holdout;if(!a)return!0;Dh.debug(Sf||(Sf=eu(["CALL: KameleoonClient._isVisitorNotInHoldout(visitorCode: ",", track: ",", save: ",", featureFlag: ",", visitorData: ",")"])),e,t,n,r,i);let o=!0;const s=this._getCodeForHash(e,null==r?void 0:r.bucketingCustomDataIndex,i),l=Pg.getHashDouble({visitorIdentifier:s,respoolTime:null,id:String(a.experimentId)});Dh.debug(If||(If=eu(["Calculated holdoutHash: "," for visitorCode: ",""])),l,s);let u=kp.getVariationByHash(a.variationByExposition,l);return null!==u&&(o="in-holdout"!==u.variationKey,n&&this.variationConfiguration.updateStoredVariations(e,{[a.experimentId]:{variationId:u.variationId,isTargetedRule:!1,status:t?Ph.Unsent:Ph.Sent}})),Dh.debug(Tf||(Tf=eu(["RETURN: KameleoonClient._isVisitorNotInHoldout(visitorCode: ",", track: ",", save: ",", featureFlag: ",", visitorData: ",") -> (isNotInHoldout: ",")"])),e,t,n,r,i,o),o}_setForcedVariation(e){let{visitorCode:t,experimentId:n,variationKey:r,forceTargeting:i=!0}=e;if(Dh.debug(_f||(_f=eu(["CALL: KameleoonClient._setForcedVariation(visitorCode: '","', experimentId: ",", variationKey: '","', forceTargeting: ",")"])),t,n,r,i),null===r){const e=this.variationConfiguration.updateForcedExperimentVariation(t,n,null);return Dh.debug(Rf||(Rf=eu(["RETURN: KameleoonClient._setForcedVariation(visitorCode: '","', experimentId: ",", variationKey: '","', forceTargeting: ",") -> (writeResult: ",")"])),t,n,r,i,e),e}let a=null,o=null;if(a=this.clientConfiguration.experimentMap.get(n),!a)return Dh.error(Df||(Df=eu(["Experiment with id "," not found for visitor ",""])),n,t),nh.Err(new oh(Qf.FeatureFlagExperimentNotFound,n,t));if(o=a.variations.get(r),void 0===o)return Dh.error(Af||(Af=eu(["Variation with key "," not found in experiment "," for visitor ",""])),r,a,t),nh.Err(new oh(Qf.FeatureFlagVariationNotFound,r,t));a={type:a.type,experimentId:n},o={variationKey:r,variationId:o};const s=this.variationConfiguration.updateForcedExperimentVariation(t,n,{rule:a,varByExp:o,forceTargeting:i});return Dh.debug(Of||(Of=eu(["RETURN: KameleoonClient._setForcedVariation(visitorCode: '","', experimentId: ",", variationKey: '","', forceTargeting: ",") -> (writeResult: ",")"])),t,n,r,i,s),s}_getCodeForHash(e,t,n){var r;let i;if(Dh.debug(Nf||(Nf=eu(["CALL: KameleoonClient._getCodeForHash(visitorCode: ",", bucketingCustomDataIndex: ",", visitorData: ",")"])),e,t,n),null!=t){const e=null==n?void 0:n.customData;if(e){const n=null===(r=e[t])||void 0===r?void 0:r.value[0];n&&(i=n)}}return i||(i=this.dataManager.getVisitorIdentifier(e)),Dh.debug(Pf||(Pf=eu(["RETURN: KameleoonClient._getCodeForHash(visitorCode: ",", bucketingCustomDataIndex: ",", visitorData: ",") -> (codeForHash: ",")"])),e,t,n,i),i}};Bg.EvaluatedExperiment=class{static fromForcedFeatureVariation(e,t){var n,r,i;let a=e;return t.varByExp?a=t.varByExp.variationKey:t.rule&&t.rule.type===Lh.EXPERIMENTATION&&(a=rp),{variationKey:a,variationId:(null===(n=t.varByExp)||void 0===n?void 0:n.variationId)||null,experimentId:(null===(r=t.rule)||void 0===r?void 0:r.experimentId)||null,ruleType:(null===(i=t.rule)||void 0===i?void 0:i.type)||null,isSimulated:t.simulated}}static fromVariationData(e){var t,n;return{variationKey:e.variationKey,variationId:e.variationId,experimentId:e.experimentId,ruleType:null!==(n=null===(t=e.rule)||void 0===t?void 0:t.type)&&void 0!==n?n:null,isSimulated:!1}}static fromDefaultVariationKey(e){return{variationKey:e,variationId:null,experimentId:null,ruleType:null,isSimulated:!1}}};class Kg{static simulateSuccessRequest(e,t){switch(e){case ch.Tracking:return new Promise(e=>{e({status:204,json:()=>new Promise(e=>e(null)),text:()=>new Promise(e=>e("")),ok:!0})});case ch.Configuration:case ch.RemoteData:return new Promise(e=>{e({status:200,json:()=>new Promise(e=>e(t)),text:()=>new Promise(e=>e("")),ok:!0})});default:ah(e)}}static getCookieValue(e,t){const n=e.split("; ").find(e=>{const[n,r]=e.split("=");return n===t&&""!==r});return n?n.split("=")[1]:null}}var Hg;nh.Err,nh.Ok;"function"==typeof SuppressedError&&SuppressedError;class qg{sendRequest(e){let{url:t,parameters:n}=e;return r=this,a=function*(){return yield fetch(t,n)},new((i=void 0)||(i=Promise))(function(e,t){function n(e){try{s(a.next(e))}catch(e){t(e)}}function o(e){try{s(a.throw(e))}catch(e){t(e)}}function s(t){var r;t.done?e(t.value):(r=t.value,r instanceof i?r:new i(function(e){e(r)})).then(n,o)}s((a=a.apply(r,[])).next())});var r,i,a}}!function(e){e.PairsDelimiter="; ",e.KeyValueDelimiter="=",e.MaxAge="Max-Age",e.Path="Path",e.Domain="Domain"}(Hg||(Hg={}));const Gg=15*xh.Second,Wg=30*xh.Minute;class $g{getData(e){Dh.debug(xf||(xf=eu(["CALL: VisitorCodeManager.getData(key: ",")"])),e);const t=document.cookie;let n=null;return t&&(n=Kg.getCookieValue(t,e)),Dh.debug(Vf||(Vf=eu(["RETURN: VisitorCodeManager.getData(key: ",") -> (visitorCode: ",")"])),e,n),n}setData(e){let{visitorCode:t,domain:n,maxAge:r,key:i,path:a}=e;const o=this.getResultCookie({domain:n,visitorCode:t,key:i,maxAge:r,path:a});document.cookie=o,Dh.debug(Lf||(Lf=eu(["Cookie "," was added for visitor ",""])),o,t)}getResultCookie(e){let{domain:t,visitorCode:n,maxAge:r,key:i,path:a}=e;const o=[i+Hg.KeyValueDelimiter+n,Hg.MaxAge+Hg.KeyValueDelimiter+r,Hg.Path+Hg.KeyValueDelimiter+a];return t&&o.push(Hg.Domain+Hg.KeyValueDelimiter+t),o.join(Hg.PairsDelimiter)}}class Jg{read(e){const t=localStorage.getItem(e);return e!==vg.ConsentData||t&&"{}"!==t?t?JSON.parse(t):null:this.getEngineConsentData()}write(e,t){localStorage.setItem(e,JSON.stringify(t))}getEngineConsentData(){var e;this.visitorCodeManager||(this.visitorCodeManager=new $g);const t=this.visitorCodeManager.getData(vg.VisitorCode);if(!t)return null;try{const n=localStorage.getItem("kameleoonLegalConsent");if(!n)return null;const r=JSON.parse(n);return"boolean"==typeof(null===(e=null==r?void 0:r.value)||void 0===e?void 0:e.AB_TESTING)?{[t]:r.value.AB_TESTING}:null}catch(e){return null}}}class Yg{open(e){let{eventType:t,onEvent:n,url:r}=e;const i=new EventSource(r);this.eventSource=i,this.eventSource.addEventListener(t,n)}close(){this.eventSource&&this.eventSource.close()}onError(e){this.eventSource&&(this.eventSource.onerror=e)}}class Qg{getRandomNumber(){if("undefined"!=typeof window&&(null===window||void 0===window?void 0:window.crypto)){const e=new Uint32Array(1),t=4294967296;return window.crypto.getRandomValues(e),e[0]/t}return Math.random()}}class Xg{log(e,t){switch(t="".concat((new Date).toLocaleString("en-US",{timeZoneName:"short"})," ").concat(t),e){case Th.DEBUG:console.debug(t);break;case Th.INFO:console.info(t);break;case Th.WARNING:console.warn(t);break;case Th.ERROR:console.error(t)}}}class Zg{constructor(e,t,n,r){Dh.debug(Ff||(Ff=eu(["CALL: new VisitorActivityManager(dataManager, tracker, isConsentProvided, interval: ",")"])),r),this.dataManager=e,this.tracker=t,this.isConsentProvided=n,this.setup(r),Dh.debug(Mf||(Mf=eu(["RETURN: new VisitorActivityManager(dataManager, tracker, isConsentProvided, interval: ",")"])),r)}setup(e){setInterval(()=>{this.updateLastActivity()},e),this.updateLastActivity()}updateLastActivity(){const e=this.dataManager.updateLastActivity();e&&this.tracker.scheduleVisitor(e,this.isConsentProvided(e))}}class em extends Sg{constructor(e){let{dataStorage:t,infoStorage:n,cleanupInterval:r,packageInfo:i,platformAnalyzer:a}=e;Dh.debug(Uf||(Uf=eu(["CALL: new ClientDataManager(dataStorage, infoStorage, cleanupInterval: ",", packageInfo: ",", platformAnalyzer)"])),r,i),super({dataStorage:t,infoStorage:n,cleanupInterval:r,packageInfo:i}),this.visitor=null,this.platformAnalyzer=a,this.updateVisitor(),Dh.debug(jf||(jf=eu(["RETURN: new ClientDataManager(dataStorage, infoStorage, cleanupInterval: "," packageInfo: ",", platformAnalyzer)"])),r,i)}getUnsentData(e){var t,n;const r=super.getUnsentData(e),i=super.getVisitorData(e);if(!i)return r;const a=i[Jh.Browser],o=i[Jh.Device],s=i[Jh.OperatingSystem],l=new jp({browserType:null==a?void 0:a.browser,browserVersion:null==a?void 0:a.version,visitNumber:null===(t=this.visitor)||void 0===t?void 0:t.visitNumber,timeSincePreviousVisit:null===(n=this.visitor)||void 0===n?void 0:n.timeSincePreviousVisit,os:null==s?void 0:s.operatingSystem,deviceType:null==o?void 0:o.device});return r.push(l),r}storeData(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return"string"==typeof e?(n.length&&this.checkVisitor(e),super.storeData(e,...n)):super.storeData(e)}getVisitorData(e){return this.checkVisitor(e),super.getVisitorData(e)}updateLastActivity(){var e,t,n,r;if(!this.visitor)return null;const i=this.dataStorage.read();if(!i.ok)return null;const a=i.data;let o=null!==(e=a[this.visitor.visitorCode])&&void 0!==e?e:{};"string"==typeof o&&(o=a[o]);let s=o[Jh.VisitsData];s||(s={visits:[],visitNumber:0,type:Jh.VisitsData,status:Ph.Sent,expirationTime:0},o[Jh.VisitsData]=s);const l=this.fetchVisit(s.visits,s.visits.length-1),u=null!==(t=null==l?void 0:l.timeLastActivity)&&void 0!==t?t:0,c=Date.now();let d=null!==(n=s.visitNumber)&&void 0!==n?n:s.visits.length?s.visits.length-1:0;if(c-u>Wg)d+=u>0?1:0,Ep.insertVisitInOrderedListMutably({list:s.visits,visit:{timeStarted:c,timeLastActivity:c}}),this.visitor.timeSincePreviousVisit=l?c-u:0;else if(s.visits.length&&(s.visits[s.visits.length-1]={timeStarted:null!==(r=null==l?void 0:l.timeStarted)&&void 0!==r?r:c,timeLastActivity:c},-1===this.visitor.timeSincePreviousVisit)){const e=this.fetchVisit(s.visits,s.visits.length-2);this.visitor.timeSincePreviousVisit=e?c-e.timeLastActivity:0}return s.visitNumber=d,this.visitor.visitNumber=d,this.dataStorage.write(a),this.visitor.visitorCode}checkVisitor(e){this.visitor&&this.visitor.visitorCode===e||this.createVisitor(e)}createVisitor(e){var t,n,r;Dh.debug(zf||(zf=eu(["CALL: ClientDataManager.createVisitor(visitorCode: ",")"])),e),this.visitor=new tm(e);try{const i=this.platformAnalyzer.getResult(),a=[];(null===(t=i.os)||void 0===t?void 0:t.name)&&a.push(new Dp(i.os.name)),(null===(n=i.platform)||void 0===n?void 0:n.type)&&a.push(new Rp(i.platform.type)),(null===(r=i.browser)||void 0===r?void 0:r.name)&&a.push(new _p(i.browser.name,i.browser.version)),i.pageView&&a.push(i.pageView),a.length&&this.storeData(e,...a)}finally{this.updateLastActivity()}Dh.debug(Bf||(Bf=eu(["RETURN: ClientDataManager.createVisitor(visitorCode: ",")"])),e)}updateVisitor(){var e;Dh.debug(Kf||(Kf=eu(["CALL: ClientDataManager.updateVisitor()"])));const t=this.dataStorage.read();if(!t.ok)return;const n=t.data;let r,i=-1;for(const[a,o]of Object.entries(n)){if("string"==typeof o)continue;const t=o[Jh.VisitsData];if(!t){r||(r=a);continue}const n=t.visits.length?t.visits[t.visits.length-1]:null;if(n){const t=null!==(e="number"==typeof n?n:null==n?void 0:n.timeLastActivity)&&void 0!==e?e:0;t>i&&(i=t,r=a)}else r||(r=a)}r?this.createVisitor(r):(this.visitor=null,Dh.debug(Hf||(Hf=eu(["ClientDataManager no visitor found"])))),Dh.debug(qf||(qf=eu(["RETURN: ClientDataManager.updateVisitor()"])))}fetchVisit(e,t){if(t<0||t>=e.length)return null;const n=e[t];return"number"==typeof n?{timeStarted:n,timeLastActivity:n}:n}}class tm{constructor(e){this.visitNumber=0,this.timeSincePreviousVisit=-1,this.visitorCode=e}}class nm{static getFirstMatch(e,t){const n=t.match(e);return n&&n.length>0&&n[1]||""}static getSecondMatch(e,t){const n=t.match(e);return n&&n.length>1&&n[2]||""}static assign(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Object.assign(e,...n)}}class rm{constructor(){this.userAgent=navigator.userAgent||"",Dh.debug(Gf||(Gf=eu(["PlatformParser: userAgent = ",""])),this.userAgent),this.parsedResult={},""!==this.userAgent&&this.parse()}parseBrowser(){const e=[{test:[/chrome|crios|crmo/i],describe:e=>({name:Xh.Chrome,version:this.getBrowserVersion(nm.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e))})},{test:[/firefox|iceweasel|fxios/i],describe:e=>({name:Xh.Firefox,version:this.getBrowserVersion(nm.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e))})},{test:[/safari|applewebkit/i],describe:e=>({name:Xh.Safari,version:this.getBrowserVersion(nm.getFirstMatch(/version\/(\d+(\.?_?\d+)+)/i,e))})},{test:[/opr\/|opios/i],describe:e=>({name:Xh.Opera,version:this.getBrowserVersion(nm.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e))})},{test:[/edg([ea]|ios)/i],describe:e=>({name:Xh.InternetExplorer,version:this.getBrowserVersion(nm.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e))})},{test:[/googlebot/i],describe:e=>({name:Xh.Other,version:this.getBrowserVersion(nm.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||nm.getFirstMatch(/version\/(\d+(\.?_?\d+)+)/i,e))})},{test:[/SamsungBrowser/i],describe:e=>({name:Xh.Other,version:this.getBrowserVersion(nm.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e))})},{test:[/yabrowser/i],describe:e=>({name:Xh.Other,version:this.getBrowserVersion(nm.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e))})},{test:[/ucbrowser/i],describe:e=>({name:Xh.Other,version:this.getBrowserVersion(nm.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e))})},{test:[/vivaldi/i],describe:e=>({name:Xh.Other,version:this.getBrowserVersion(nm.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e))})},{test:[/phantom/i],describe:e=>({name:Xh.Other,version:this.getBrowserVersion(nm.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e))})},{test:[/electron/i],describe:e=>({name:Xh.Other,version:this.getBrowserVersion(nm.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e))})},{test:[/chromium/i],describe:e=>({name:Xh.Other,version:this.getBrowserVersion(nm.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e))})},{test:[/opera/i],describe:e=>({name:Xh.Opera,version:this.getBrowserVersion(nm.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e))})},{test:[/msie|trident/i],describe:e=>({name:Xh.InternetExplorer,version:this.getBrowserVersion(nm.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e))})},{test:[/.*/i],describe:e=>{const t=e.includes("(")?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:Xh.Other,version:this.getBrowserVersion(nm.getSecondMatch(t,e))}}}].find(e=>e.test.some(e=>e.test(this.userAgent)));return e&&(this.parsedResult.browser=e.describe(this.userAgent)),this.parsedResult.browser||{}}parseOS(){const e=[{test:[/windows phone/i],describe:()=>({name:Qh.WindowsPhone})},{test:[/windows /i],describe:()=>({name:Qh.Windows})},{test:[/Macintosh(.*?) FxiOS(.*?) Version\//],describe:e=>({name:Qh.IOS,version:nm.getSecondMatch(/(Version\/)(\d[\d.]+)/,e)})},{test:[/macintosh/i],describe:e=>({name:Qh.Mac,version:nm.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,".")})},{test:[/(ipod|iphone|ipad)/i],describe:e=>({name:Qh.IOS,version:nm.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".")})},{test:[/android/i],describe:()=>({name:Qh.Android})},{test:[/linux/i],describe:()=>({name:Qh.Linux})}].find(e=>e.test.some(e=>e.test(this.userAgent)));return e&&(this.parsedResult.os=e.describe(this.userAgent)),this.parsedResult.os||{}}parsePlatform(){const e=[{test:()=>{var e,t;return(null===(e=this.parsedResult.os)||void 0===e?void 0:e.name)===Qh.Android&&Number(String(null===(t=this.parsedResult.os)||void 0===t?void 0:t.version).split(".")[0])>=3},describe:e=>({type:Yh.Tablet})},{test:()=>{var e;return(null===(e=this.parsedResult.os)||void 0===e?void 0:e.name)===Qh.Android},describe:()=>({type:Yh.Phone})},{test:()=>{var e;return(null===(e=this.parsedResult.os)||void 0===e?void 0:e.name)===Qh.Mac},describe:()=>({type:Yh.Desktop})},{test:()=>{var e;return(null===(e=this.parsedResult.os)||void 0===e?void 0:e.name)===Qh.Windows},describe:()=>({type:Yh.Desktop})},{test:()=>{var e;return(null===(e=this.parsedResult.os)||void 0===e?void 0:e.name)===Qh.Linux},describe:()=>({type:Yh.Desktop})}],t=[{test:[/huserAgentwei/i],describe:e=>({type:Yh.Phone})},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:()=>({type:Yh.Tablet})},{test:[/ipad/i],describe:()=>({type:Yh.Tablet})},{test:[/Macintosh(.*?) FxiOS(.*?) Version\//],describe:()=>({type:Yh.Tablet})},{test:[/kftt build/i],describe:()=>({type:Yh.Tablet})},{test:[/silk/i],describe:()=>({type:Yh.Tablet})},{test:[/tablet(?! pc)/i],describe:()=>({type:Yh.Tablet})},{test:[/ipod|iphone/i],describe:()=>({type:Yh.Phone})},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:()=>({type:Yh.Phone})},{test:[/[^-]mobi/i],describe:()=>({type:Yh.Phone})},{test:[/blackberry/i],describe:()=>({type:Yh.Phone})},{test:[/bada/i],describe:()=>({type:Yh.Phone})},{test:[/windows phone/i],describe:()=>({type:Yh.Phone})},{test:[/android/i],describe:()=>({type:Yh.Phone})},{test:[/ios/i],describe:()=>({type:Yh.Desktop})},{test:[/windows/i],describe:()=>({type:Yh.Desktop})},{test:[/linux/i],describe:()=>({type:Yh.Desktop})}].find(e=>e.test.some(e=>e.test(this.userAgent)))||e.find(e=>e.test());return t&&(this.parsedResult.platform=t.describe(this.userAgent)),this.parsedResult.platform||{}}parse(){this.userAgent&&(this.parseBrowser(),this.parseOS(),this.parsePlatform())}getBrowserVersion(e){if(!e)return;const t=e.split(".");if(0===t.length)return;const n=t.length>1?"".concat(t[0],".").concat(t[1]):t[0],r=parseFloat(n);return isNaN(r)?void 0:r}parseWebView(){var e;let t=null===(e=window.location)||void 0===e?void 0:e.href;if(t){const e=document?document.title:"";this.parsedResult.pageView=new Sp({urlAddress:t,title:e})}}getResult(){return this.parseWebView(),nm.assign({},this.parsedResult)}}class im extends Bg{constructor(e){let{siteCode:t,configuration:n,externals:r,_internals:i,stubMode:a}=e;var o;if(a)return super({siteCode:t,internalConfiguration:{},stubMode:a}),this.internalVisitorCodeManager={},void(this.externalVisitorCodeManager={});const s=(null==i?void 0:i.prng)||new Qg,l=(null==r?void 0:r.storage)||new Jg,u=(null==r?void 0:r.requester)||new qg,c=(null==r?void 0:r.eventSource)||new Yg,d=new Fg,f=(null==r?void 0:r.visitorCodeManager)||new $g,h=(null==i?void 0:i.packageInfo)||{type:ap.JAVASCRIPT,version:"4.15.1",isServer:!1},p=new Cg(l,vg.TargetingData),g=new Cg(l,vg.DataInfo),m=new em({dataStorage:p,infoStorage:g,cleanupInterval:0,packageInfo:h,platformAnalyzer:null!==(o=null==i?void 0:i.platformAnalyzer)&&void 0!==o?o:new rm});super({siteCode:t,configuration:n,internalConfiguration:{externals:{externalPRNG:s,externalStorage:l,externalRequester:u,externalEventSource:c,externalVisitorCodeManager:d,externalPackageInfo:h,externalLogger:(null==r?void 0:r.logger)||new Xg,customDataManager:m},settings:{useAbortController:!0}}});const v=Cp.validateDomain(null==n?void 0:n.cookieDomain);this.domain=v.ok?v.data:void 0,this.internalVisitorCodeManager=d,this.externalVisitorCodeManager=f,new Zg(m,this.tracker,e=>this._isConsentProvided(e),Gg),this.customDataManager=m}getVisitorCode(e){var t;if(this.stubMode)return"";Dh.info(Wf||(Wf=eu(["CALL KamaleoonClient.getVisitorCode(defaultVisitorCode: ",")"])),e),this.internalVisitorCodeManager.getData=e=>this.externalVisitorCodeManager.getData(e),this.internalVisitorCodeManager.setData=e=>{this.externalVisitorCodeManager.setData(Object.assign(Object.assign({},e),{domain:this.domain}))};const n=this.internalVisitorCodeManager.getVisitorCode(e);return this.initialized&&(null===(t=this.customDataManager)||void 0===t||t.checkVisitor(n)),Dh.info($f||($f=eu(["RETURN KamaleoonClient.getVisitorCode(defaultVisitorCode: ",") -> (visitorCode: ",")"])),e,n),n}setLegalConsent(e,t){this.stubMode||(super.setUserConsent({visitorCode:e,consent:t,setData:e=>{this.externalVisitorCodeManager.setData(Object.assign(Object.assign({},e),{domain:this.domain}))}}),super.flush(e))}}const am=i.createContext(null);var om=i.memo(function(e){let{client:t,children:n}=e;return(0,xt.jsx)(am.Provider,Object.assign({value:{kameleoonClient:t,sdkParameters:null}},{children:n}))});i.memo(function(e){let{sdkParameters:t,children:n}=e;return(0,xt.jsx)(am.Provider,Object.assign({value:{kameleoonClient:null,sdkParameters:t}},{children:n}))});function sm(e,t,n,r){return new(n||(n=Promise))(function(i,a){function o(e){try{l(r.next(e))}catch(e){a(e)}}function s(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(o,s)}l((r=r.apply(e,t||[])).next())})}function lm(e){let{siteCode:t,configuration:n,externals:r,stubMode:i}=e;return new im({siteCode:t,configuration:n,externals:r,_internals:{packageInfo:{type:ap.REACT,version:"10.17.1",isServer:!1},prng:null==r?void 0:r.prng,platformAnalyzer:null==r?void 0:r.platformAnalyzer},stubMode:i})}function um(){const e=(0,i.useContext)(am);if(!e)throw new Error("Kameleoon SDK hooks must be used within a KameleoonProvider");return e}function cm(e){if(!e)throw new Error("Kameleoon SDK hooks must be used within a KameleoonProvider");if(!e.kameleoonClient){const t=e.sdkParameters;if(t)return t.stubMode=!1,e.kameleoonClient=lm(t),e.kameleoonClient;throw new Error("Kameleoon SDK hooks must be used within a KameleoonProvider")}return e.kameleoonClient}"function"==typeof SuppressedError&&SuppressedError;const dm="https://api.gueripep.com";function fm(){const[e,t]=(0,i.useState)([]),[n,r]=(0,i.useState)([]),[a,o]=(0,i.useState)(!1),[s,l]=(0,i.useState)(!1),[u,c]=(0,i.useState)(!1),[d,f]=(0,i.useState)(!0),[h,p]=(0,i.useState)(!1),[g,m]=(0,i.useState)(""),[v,y]=(0,i.useState)(""),b="shopping_test",{currentUser:w}=Jl(),{initialize:C}=function(){const e=um();let t=e?e.kameleoonClient:null;const n=(0,i.useCallback)(()=>sm(this,void 0,void 0,function*(){return t=cm(e),yield t.initialize()}),[e]);return{onEvent:(0,i.useCallback)((n,r)=>{t=cm(e),t.onEvent(n,r)},[e]),initialize:n,isInitialized:(0,i.useCallback)(()=>(t=cm(e),t.isInitialized()),[e])}}(),{getVisitorCode:k}=function(){const e=um();let t=e?e.kameleoonClient:null;return{setLegalConsent:(0,i.useCallback)((n,r)=>{t=cm(e),t.setLegalConsent(n,r),t.flush(n)},[e]),getVisitorCode:(0,i.useCallback)(n=>(t=cm(e),t.getVisitorCode(n)),[e])}}(),{isFeatureFlagActive:E}=function(){const e=um();let t=e?e.kameleoonClient:null;const n=(0,i.useCallback)((n,r)=>{if(t=cm(e),"string"==typeof n){if(!r)throw new Error("[Kameleoon React SDK Error]: Overload is not used correctly. The second parameter must be provided when the first parameter is a string");return t.isFeatureFlagActive(n,r)}return t.isFeatureFlagActive(n)},[e]),r=(0,i.useCallback)(n=>{let{visitorCode:r,featureKey:i,track:a}=n;return t=cm(e),t.getVariation({visitorCode:r,featureKey:i,track:a})},[e]),a=(0,i.useCallback)(n=>{let{visitorCode:r,onlyActive:i,track:a}=n;return t=cm(e),t.getVariations({visitorCode:r,onlyActive:i,track:a})},[e]),o=(0,i.useCallback)((n,r)=>(t=cm(e),t.getFeatureFlagVariationKey(n,r)),[e]),s=(0,i.useCallback)(n=>{let{visitorCode:r,featureKey:i,variableKey:a}=n;return t=cm(e),t.getFeatureFlagVariable({visitorCode:r,featureKey:i,variableKey:a})},[e]),l=(0,i.useCallback)(n=>(t=cm(e),t.getVisitorFeatureFlags(n)),[e]),u=(0,i.useCallback)(n=>(t=cm(e),t.getActiveFeatureFlags(n)),[e]),c=(0,i.useCallback)(()=>(t=cm(e),t.getFeatureFlags()),[e]),d=(0,i.useCallback)((n,r)=>(t=cm(e),t.getFeatureFlagVariables(n,r)),[e]);return{getActiveFeatureFlags:u,getVariation:r,getVariations:a,getFeatureFlags:c,isFeatureFlagActive:n,getEngineTrackingCode:(0,i.useCallback)(n=>(t=cm(e),t.getEngineTrackingCode(n)),[e]),getVisitorFeatureFlags:l,getFeatureFlagVariable:s,getFeatureFlagVariables:d,getFeatureFlagVariationKey:o,setForcedVariation:(0,i.useCallback)(n=>{let{visitorCode:r,experimentId:i,variationKey:a,forceTargeting:o}=n;return t=cm(e),t.setForcedVariation({visitorCode:r,experimentId:i,variationKey:a,forceTargeting:o})},[e]),evaluateAudiences:(0,i.useCallback)(n=>(t=cm(e),t.evaluateAudiences(n)),[e])}}(),{trackConversion:S}=function(){const e=um();let t=e?e.kameleoonClient:null;const n=(0,i.useCallback)(function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];t=cm(e),t.addData(n,...i)},[e]),r=(0,i.useCallback)(n=>{t=cm(e),t.flush(n)},[e]),a=(0,i.useCallback)(n=>{let{visitorCode:r,goalId:i,revenue:a,negative:o,metadata:s}=n;t=cm(e),t.trackConversion({visitorCode:r,goalId:i,revenue:a,negative:o,metadata:s})},[e]);return{getRemoteData:(0,i.useCallback)(n=>sm(this,void 0,void 0,function*(){return t=cm(e),yield t.getRemoteData(n)}),[e]),getRemoteVisitorData:(0,i.useCallback)(n=>sm(this,void 0,void 0,function*(){return t=cm(e),yield t.getRemoteVisitorData(n)}),[e]),getVisitorWarehouseAudience:(0,i.useCallback)(n=>sm(this,void 0,void 0,function*(){return t=cm(e),yield t.getVisitorWarehouseAudience(n)}),[e]),trackConversion:a,addData:n,flush:r}}(),I=(0,i.useCallback)(async()=>{await C();const e=k();m(e);const t=E({visitorCode:e,featureKey:b});p(t),console.log("Visitor Code:",e),console.log("Feature Variation:",t)},[C,k,E,b]),T=(0,i.useCallback)(async()=>{if(w)try{const e=await Pt.get("".concat(dm,"/cart/").concat(w.uid));r(e.data)}catch(e){console.error("Error fetching cart:",e)}},[w]);(0,i.useEffect)(()=>{I(),_(),w&&T()},[I,w,T]);const _=async()=>{try{const e=await Pt.get("".concat(dm,"/products"));t(e.data),f(!1)}catch(e){console.error("Error fetching products:",e),f(!1)}};return d?(0,xt.jsx)("div",{className:"loading",children:"Loading..."}):(0,xt.jsxs)("div",{className:"App",children:[(0,xt.jsx)(Ql,{cartItemCount:n.reduce((e,t)=>e+t.quantity,0),onCartClick:()=>{w?o(!a):l(!0)},onSearch:e=>{y(e),(async e=>{if(e.trim())try{const n=await Pt.get("".concat(dm,"/products/search/").concat(e));t(n.data)}catch(n){console.error("Error searching products:",n)}else _()})(e)},searchQuery:v,isKameleoonActive:h,onLoginClick:()=>{l(!0)}}),(0,xt.jsx)("main",{className:"main-content",children:a?(0,xt.jsx)(Mt,{cart:n,products:e,onRemove:async e=>{if(w)try{const t=await Pt.delete("".concat(dm,"/cart/").concat(w.uid,"/").concat(e));r(t.data)}catch(t){console.error("Error removing from cart:",t)}},onUpdateQuantity:async(e,t)=>{if(w)try{const n=await Pt.put("".concat(dm,"/cart/").concat(w.uid,"/").concat(e),{quantity:t});r(n.data)}catch(n){console.error("Error updating cart:",n)}},onClose:()=>o(!1),onCheckout:async()=>{if(w)try{const e=await Pt.post("".concat(dm,"/checkout/").concat(w.uid),{visitorCode:g});console.log("Checkout successful:",e.data),S({visitorCode:g,goalId:392014,revenue:e.data.order.total}),r([]),alert("Checkout successful! Order ID: ".concat(e.data.order.orderId)),o(!1)}catch(e){console.error("Error during checkout:",e),alert("Checkout failed. Please try again.")}else l(!0)}}):(0,xt.jsx)(Lt,{products:e,onAddToCart:async e=>{if(w)try{const t=await Pt.post("".concat(dm,"/cart/").concat(w.uid),{productId:e,quantity:1});r(t.data)}catch(t){console.error("Error adding to cart:",t)}else l(!0)}})}),s&&(0,xt.jsx)(Xl,{onClose:()=>{l(!1)},switchToRegister:()=>{l(!1),c(!0)}}),u&&(0,xt.jsx)(Zl,{onClose:()=>{c(!1)},switchToLogin:()=>{c(!1),l(!0)}})]})}const hm=function(){return(0,xt.jsx)(Yl,{children:(0,xt.jsx)(fm,{})})},pm=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,453)).then(t=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:a,getTTFB:o}=t;n(e),r(e),i(e),a(e),o(e)})},gm=lm({siteCode:"dnkd8eslzh",configuration:{updateInterval:1,environment:Oh.Production}});a.createRoot(document.getElementById("root")).render((0,xt.jsx)(i.StrictMode,{children:(0,xt.jsx)(om,{client:gm,children:(0,xt.jsx)(hm,{})})})),pm()})();
//# sourceMappingURL=main.ff925a82.js.map